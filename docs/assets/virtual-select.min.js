/*!
 * Virtual Select v1.0.6
 * https://sa-si-dev.github.io/virtual-select
 * Licensed under MIT (https://github.com/sa-si-dev/virtual-select/blob/master/LICENSE)
 */(()=>{"use strict";var t={"./src/utils/dom-utils.js":
/*!********************************!*\
  !*** ./src/utils/dom-utils.js ***!
  \********************************/(t,e,i)=>{function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}i.r(e),i.d(e,{DomUtils:()=>l});var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,s;return e=t,s=[{key:"addClass",value:function(t,e){t&&(e=e.split(" "),this.getElements(t).forEach((function(t){var i;(i=t.classList).add.apply(i,o(e))})))}},{key:"removeClass",value:function(t,e){t&&(e=e.split(" "),this.getElements(t).forEach((function(t){var i;(i=t.classList).remove.apply(i,o(e))})))}},{key:"toggleClass",value:function(t,e,i){var o;if(t)return void 0!==i&&(i=Boolean(i)),this.getElements(t).forEach((function(t){o=t.classList.toggle(e,i)})),o}},{key:"hasClass",value:function(t,e){return!!t&&t.classList.contains(e)}},{key:"hasEllipsis",value:function(t){return!!t&&t.scrollWidth>t.offsetWidth}},{key:"getMoreVisibleSides",value:function(t){if(!t)return{};var e=t.getBoundingClientRect(),i=window.innerWidth,o=window.innerHeight,s=e.left,n=e.top;return{horizontal:s>i-s-e.width?"left":"right",vertical:n>o-n-e.height?"top":"bottom"}}},{key:"getData",value:function(t,e,i){if(t){var o=t?t.dataset[e]:"";return"number"===i?o=parseFloat(o)||0:"true"===o?o=!0:"false"===o&&(o=!1),o}}},{key:"setData",value:function(t,e,i){t&&(t.dataset[e]=i)}},{key:"setStyle",value:function(t,e,i){t&&(t.style[e]=i)}},{key:"getElements",value:function(t){if(t)return void 0===t.length&&(t=[t]),t}},{key:"getStyleText",value:function(t,e){var i="";for(var o in t)i+="".concat(o,": ").concat(t[o],";");return i&&!e&&(i='style="'.concat(i,'"')),i}},{key:"getAttributesText",value:function(t){var e="";if(!t)return e;for(var i in t){var o=t[i];void 0!==o&&(e+=" ".concat(i,'="').concat(o,'" '))}return e}}],(i=null)&&n(e.prototype,i),s&&n(e,s),t}()},"./src/utils/index.js":
/*!****************************!*\
  !*** ./src/utils/index.js ***!
  \****************************/(t,e,i)=>{i.r(e),i.d(e,{Utils:()=>o.Utils,DomUtils:()=>s.DomUtils});var o=i(/*! ./utils */"./src/utils/utils.js"),s=i(/*! ./dom-utils */"./src/utils/dom-utils.js")},"./src/utils/utils.js":
/*!****************************!*\
  !*** ./src/utils/utils.js ***!
  \****************************/(t,e,i)=>{function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}i.r(e),i.d(e,{Utils:()=>a});var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,s;return e=t,s=[{key:"getString",value:function(t){return t||0===t?t.toString():""}},{key:"convertToBoolean",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=!0===t||"true"===t||!1!==t&&"false"!==t&&e}},{key:"isEmpty",value:function(t){var e=!1;return t?Array.isArray(t)?0===t.length&&(e=!0):"object"===n(t)&&0===Object.keys(t).length&&(e=!0):e=!0,e}},{key:"isNotEmpty",value:function(t){return!this.isEmpty(t)}},{key:"removeItemFromArray",value:function(t,e,i){if(!Array.isArray(t)||!t.length||!e)return t;i&&(t=o(t));var s=t.indexOf(e);return-1!==s&&t.splice(s,1),t}},{key:"removeArrayEmpty",value:function(t){return Array.isArray(t)&&t.length?t.filter((function(t){return!!t})):[]}}],(i=null)&&l(e.prototype,i),s&&l(e,s),t}()}},e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={exports:{}};return t[o](s,s.exports,i),s.exports}i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};(()=>{
/*!*******************************!*\
  !*** ./src/virtual-select.js ***!
  \*******************************/
i.r(o),i.d(o,{VirtualSelect:()=>u});var t=i(/*! ./utils */"./src/utils/index.js");function e(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,s=function(){};return{s,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){r=!0,l=t},f:function(){try{a||null==i.return||i.return()}finally{if(r)throw l}}}}function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function a(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r={13:"onEnterPress",27:"onEscPress",38:"onUpArrowPress",40:"onDownArrowPress"},u=function(){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);try{this.setProps(t),this.setDisabledOptions(t.disabledOptions),this.setOptions(t.options),this.render()}catch(t){console.warn("Couldn't initiate Virtual Select"),console.error(t)}}var o,n,l;return o=i,l=[{key:"init",value:function(t){var e=t.ele;if(e){var o=!1;if("string"!=typeof e||(e=document.querySelector(e))){void 0===e.length&&(e=[e],o=!0);var s=[];return e.forEach((function(e){t.ele=e,s.push(new i(t))})),o?s[0]:s}}}},{key:"closeAllDropbox",value:function(t){document.querySelectorAll(".vscomp-wrapper").forEach((function(e){t&&t===e||e.parentElement.virtualSelect.closeDropbox()}))}},{key:"resetForm",value:function(t){var e=t.target.closest("form");e&&e.querySelectorAll(".vscomp-wrapper").forEach((function(t){t.parentElement.virtualSelect.reset()}))}},{key:"reset",value:function(){this.virtualSelect.reset()}},{key:"setValueMethod",value:function(t,e){this.virtualSelect.setValueMethod(t,e)}},{key:"setOptionsMethod",value:function(t){this.virtualSelect.setOptionsMethod(t)}},{key:"setDisabledOptionsMethod",value:function(t){this.virtualSelect.setDisabledOptionsMethod(t)}},{key:"toggleSelectAll",value:function(t){this.virtualSelect.toggleAllOptions(t)}},{key:"isAllSelected",value:function(){return this.virtualSelect.isAllSelected}},{key:"addOptionMethod",value:function(t){this.virtualSelect.addOption(t,!0)}},{key:"getNewValueMethod",value:function(){return this.virtualSelect.getNewValue()}},{key:"version",value:function(){return"v1.0.6"}},{key:"getDisplayValueMethod",value:function(){return this.virtualSelect.getDisplayValue()}},{key:"openMethod",value:function(){return this.virtualSelect.openDropbox()}},{key:"closeMethod",value:function(){return this.virtualSelect.closeDropbox()}},{key:"onResizeMethod",value:function(){document.querySelectorAll(".vscomp-wrapper").forEach((function(t){t.parentElement.virtualSelect.onResize()}))}}],(n=[{key:"render",value:function(){if(this.$ele){var e="vscomp-wrapper",i=this.getTooltipAttrText("",!this.multiple,!0),o=this.getTooltipAttrText("Clear"),s={"z-index":this.zIndex};this.additionalClasses&&(e+=" "+this.additionalClasses),this.multiple&&(e+=" multiple",this.disableSelectAll||(e+=" has-select-all")),"top"===this.position&&(e+=" position-top"),this.hideClearButton||(e+=" has-clear-button"),this.keepAlwaysOpen?e+=" keep-always-open opened":e+=" closed",this.showAsPopup?e+=" show-as-popup":this.dropboxWidth&&(s.width=this.dropboxWidth),this.hasSearch&&(e+=" has-search-input");var n='<div class="'.concat(e,'" tabindex="0">\n        <input type="hidden" name="').concat(this.name,'" class="vscomp-hidden-input">\n\n        <div class="vscomp-toggle-button">\n          <div class="vscomp-value" ').concat(i,">\n            ").concat(this.placeholder,'\n          </div>\n\n          <div class="vscomp-arrow"></div>\n\n          <div class="vscomp-clear-button toggle-button-child" ').concat(o,'>\n            <i class="vscomp-clear-icon"></i>\n          </div>\n        </div>\n\n        <div class="vscomp-dropbox-container" ').concat(t.DomUtils.getStyleText(s),'>\n          <div class="vscomp-dropbox">\n            <div class="vscomp-search-wrapper"></div>\n\n            <div class="vscomp-options-container">\n              <div class="vscomp-options-loader"></div>\n\n              <div class="vscomp-options-list">\n                <div class="vscomp-options"></div>\n              </div>\n            </div>\n\n            <div class="vscomp-no-options">').concat(this.noOptionsText,'</div>\n            <div class="vscomp-no-search-results">').concat(this.noSearchResultsText,'</div>\n\n            <span class="vscomp-dropbox-close-button"><i class="vscomp-clear-icon"></i></span>\n          </div>\n        </div>\n      </div>');this.$ele.innerHTML=n,this.$body=document.querySelector("body"),this.$wrapper=this.$ele.querySelector(".vscomp-wrapper"),this.$toggleButton=this.$ele.querySelector(".vscomp-toggle-button"),this.$clearButton=this.$ele.querySelector(".vscomp-clear-button"),this.$dropboxContainer=this.$ele.querySelector(".vscomp-dropbox-container"),this.$dropboxCloseButton=this.$ele.querySelector(".vscomp-dropbox-close-button"),this.$search=this.$ele.querySelector(".vscomp-search-wrapper"),this.$optionsContainer=this.$ele.querySelector(".vscomp-options-container"),this.$optionsList=this.$ele.querySelector(".vscomp-options-list"),this.$options=this.$ele.querySelector(".vscomp-options"),this.$valueText=this.$ele.querySelector(".vscomp-value"),this.$hiddenInput=this.$ele.querySelector(".vscomp-hidden-input"),this.$noOptions=this.$ele.querySelector(".vscomp-no-options"),this.$noSearchResults=this.$ele.querySelector(".vscomp-no-search-results"),this.afterRenderWrapper()}}},{key:"renderOptions",value:function(){var e,i=this,o="",s=this.getVisibleOptions(),n="",l="",a=!(!this.markSearchResults||!this.searchValue),r=t.DomUtils.getStyleText({height:this.optionHeight+"px"});if(a&&(e=new RegExp("(".concat(this.searchValue,")"),"gi")),this.multiple&&(n='<span class="checkbox-icon"></span>'),this.allowNewOption){var u=this.getTooltipAttrText("New Option");l='<span class="vscomp-new-option-icon" '.concat(u,"></span>")}s.forEach((function(t){var s=t.label,u="vscomp-option",p=i.getTooltipAttrText("",!0),c=n,h="",d="";t.isFocused&&(u+=" focused"),t.isDisabled&&(u+=" disabled"),t.isGroupTitle?(u+=" group-title",c=""):t.isSelected&&(u+=" selected"),t.isGroupOption&&(u+=" group-option"),t.description&&(d='<div class="vscomp-option-description" '.concat(p,">").concat(t.description,"</div>")),t.isCurrentNew?(u+=" current-new",h+=l):a&&!t.isGroupTitle&&(s=s.replace(e,"<mark>$1</mark>")),o+='<div class="'.concat(u,'" data-value="').concat(t.value,'" data-index="').concat(t.index,'" data-visible-index="').concat(t.visibleIndex,'" ').concat(r,">\n          ").concat(c,'\n          <span class="vscomp-option-text" ').concat(p,">\n            ").concat(s,"\n          </span>\n          ").concat(d,"\n          ").concat(h,"\n        </div>")})),this.$options.innerHTML=o;var p=!this.options.length,c=!p&&!s.length;this.allowNewOption||t.DomUtils.toggleClass(this.$wrapper,"has-no-search-results",c),t.DomUtils.toggleClass(this.$wrapper,"has-no-options",p),this.setOptionsPosition(),this.setOptionsTooltip()}},{key:"renderSearch",value:function(){if(this.hasSearchContainer){var t="",e="";this.multiple&&!this.disableSelectAll&&(t='<span class="vscomp-toggle-all-button">\n          <span class="checkbox-icon vscomp-toggle-all-checkbox"></span>\n          <span class="vscomp-toggle-all-label">'.concat(this.selectAllText,"</span>\n        </span>")),this.hasSearch&&(e='<input type="text" class="vscomp-search-input" placeholder="Search...">\n      <span class="vscomp-search-clear">&times;</span>');var i='<div class="vscomp-search-container">\n        '.concat(t,"\n        ").concat(e,"\n      </div>");this.$search.innerHTML=i,this.$searchInput=this.$ele.querySelector(".vscomp-search-input"),this.$searchClear=this.$ele.querySelector(".vscomp-search-clear"),this.$toggleAllButton=this.$ele.querySelector(".vscomp-toggle-all-button"),this.$toggleAllCheckbox=this.$ele.querySelector(".vscomp-toggle-all-checkbox"),this.addEvent(this.$searchInput,"keyup change","onSearch"),this.addEvent(this.$searchClear,"click","onSearchClear"),this.addEvent(this.$toggleAllButton,"click","onToggleAllOptions")}}},{key:"addEvents",value:function(){this.addEvent(document,"click","onDocumentClick"),this.addEvent(this.$wrapper,"keydown","onKeyDown"),this.addEvent(this.$toggleButton,"click","onToggleButtonClick"),this.addEvent(this.$clearButton,"click","onClearButtonClick"),this.addEvent(this.$dropboxContainer,"click","onDropboxContainerClick"),this.addEvent(this.$dropboxCloseButton,"click","onDropboxCloseButtonClick"),this.overrideScrollEventSelector?this.addEvent(this.$ele.querySelector(this.overrideScrollEventSelector),"scroll","onOptionsScroll"):this.addEvent(this.$optionsContainer,"scroll","onOptionsScroll"),this.addEvent(this.$options,"click","onOptionsClick"),this.addEvent(this.$options,"mouseover","onOptionsMouseOver"),this.addEvent(this.$options,"touchmove","onOptionsTouchMove")}},{key:"addEvent",value:function(e,i,o){var s=this;e&&(i=t.Utils.removeArrayEmpty(i.split(" "))).forEach((function(i){var n="".concat(o,"-").concat(i),l=s.events[n];l||(l=s[o].bind(s),s.events[n]=l),(e=t.DomUtils.getElements(e)).forEach((function(t){t.addEventListener(i,l)}))}))}},{key:"dispatchEvent",value:function(e,i){e&&(e=t.DomUtils.getElements(e),setTimeout((function(){e.forEach((function(t){t.dispatchEvent(new Event(i,{bubbles:!0}))}))}),0))}},{key:"onDocumentClick",value:function(t){i.closeAllDropbox(t.target.closest(".vscomp-wrapper"))}},{key:"onKeyDown",value:function(t){var e=t.which||t.keyCode,i=r[e];i&&this[i](t)}},{key:"onEnterPress",value:function(){this.isOpened()?this.selectFocusedOption():this.openDropbox()}},{key:"onEscPress",value:function(){this.isOpened()&&this.closeDropbox()}},{key:"onDownArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption("next"):this.openDropbox()}},{key:"onUpArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption("previous"):this.openDropbox()}},{key:"onToggleButtonClick",value:function(t){t.target.closest(".toggle-button-child")||this.toggleDropbox()}},{key:"onClearButtonClick",value:function(){this.reset()}},{key:"onOptionsScroll",value:function(){this.setVisibleOptions()}},{key:"onOptionsClick",value:function(t){this.selectOption(t.target.closest(".vscomp-option:not(.disabled):not(.group-title)"))}},{key:"onDropboxContainerClick",value:function(t){t.target.closest(".vscomp-dropbox")||this.closeDropbox()}},{key:"onDropboxCloseButtonClick",value:function(){this.closeDropbox()}},{key:"onOptionsMouseOver",value:function(t){var e=t.target.closest(".vscomp-option:not(.disabled):not(.group-title)");e&&this.focusOption(null,e)}},{key:"onOptionsTouchMove",value:function(){this.removeOptionFocus()}},{key:"onSearch",value:function(t){t.stopPropagation(),this.setSearchValue(t.target.value,!0)}},{key:"onSearchClear",value:function(){this.setSearchValue(""),this.focusSearchInput()}},{key:"onToggleAllOptions",value:function(){this.toggleAllOptions()}},{key:"onResize",value:function(){this.setOptionsContainerHeight(!0)}},{key:"afterRenderWrapper",value:function(){this.$ele.setAttribute("name",this.name),t.DomUtils.addClass(this.$ele,"vscomp-ele"),this.renderSearch(),this.setOptionsHeight(),this.setVisibleOptions(),this.setOptionsContainerHeight(),this.addEvents(),this.setMethods(),this.initialSelectedValue?this.setValueMethod(this.initialSelectedValue,this.silentInitialValueSet):this.autoSelectFirstOption&&this.visibleOptions.length&&this.setValueMethod(this.visibleOptions[0].value,this.silentInitialValueSet)}},{key:"afterSetOptionsContainerHeight",value:function(t){t&&this.showAsPopup&&this.setVisibleOptions()}},{key:"setProps",value:function(e){e=this.setDefaultProps(e),this.setPropsFromElementAttr(e);var i=t.Utils.convertToBoolean;this.$ele=e.ele,this.valueKey=e.valueKey,this.labelKey=e.labelKey,this.descriptionKey=e.descriptionKey,this.aliasKey=e.aliasKey,this.optionHeightText=e.optionHeight,this.optionHeight=parseFloat(this.optionHeightText),this.multiple=i(e.multiple),this.hasSearch=i(e.search),this.hideClearButton=i(e.hideClearButton),this.autoSelectFirstOption=i(e.autoSelectFirstOption),this.hasOptionDescription=i(e.hasOptionDescription),this.silentInitialValueSet=i(e.silentInitialValueSet),this.allowNewOption=i(e.allowNewOption),this.markSearchResults=i(e.markSearchResults),this.showSelectedOptionsFirst=i(e.showSelectedOptionsFirst),this.disableSelectAll=i(e.disableSelectAll),this.keepAlwaysOpen=i(e.keepAlwaysOpen),this.showDropboxAsPopup=i(e.showDropboxAsPopup),this.noOptionsText=e.noOptionsText,this.noSearchResultsText=e.noSearchResultsText,this.selectAllText=e.selectAllText,this.placeholder=e.placeholder,this.position=e.position,this.dropboxWidth=e.dropboxWidth,this.tooltipFontSize=e.tooltipFontSize,this.tooltipAlignment=e.tooltipAlignment,this.tooltipMaxWidth=e.tooltipMaxWidth,this.noOfDisplayValues=parseInt(e.noOfDisplayValues),this.zIndex=parseInt(e.zIndex),this.maxValues=parseInt(e.maxValues),this.name=e.name,this.additionalClasses=e.additionalClasses,this.initialSelectedValue=e.selectedValue,this.popupDropboxBreakpoint=e.popupDropboxBreakpoint,this.onServerSearch=e.onServerSearch,this.selectedValues=[],this.newValues=[],this.events={},this.tooltipEnterDelay=200,this.transitionDuration=250,this.searchValue="",this.searchValueOriginal="",this.isAllSelected=!1,(void 0===e.search&&this.multiple||this.allowNewOption)&&(this.hasSearch=!0),this.maxValues&&(this.disableSelectAll=!0),this.hasServerSearch="function"==typeof this.onServerSearch,this.showAsPopup=this.showDropboxAsPopup&&!this.keepAlwaysOpen&&window.innerWidth<=parseFloat(this.popupDropboxBreakpoint),this.hasSearchContainer=this.hasSearch||this.multiple&&!this.disableSelectAll,this.optionsCount=this.getOptionsCount(e.optionsCount),this.halfOptionsCount=Math.ceil(this.optionsCount/2),this.optionsHeight=this.getOptionsHeight()}},{key:"setDefaultProps",value:function(t){var e={valueKey:"value",labelKey:"label",descriptionKey:"description",aliasKey:"alias",optionsCount:5,noOfDisplayValues:50,optionHeight:"40px",multiple:!1,hideClearButton:!1,autoSelectFirstOption:!1,hasOptionDescription:!1,silentInitialValueSet:!1,disableSelectAll:!1,noOptionsText:"No options found",noSearchResultsText:"No results found",selectAllText:"Select All",placeholder:"Select",position:"auto",zIndex:1,allowNewOption:!1,markSearchResults:!1,tooltipFontSize:"14px",tooltipAlignment:"center",tooltipMaxWidth:"300px",showSelectedOptionsFirst:!1,name:"",additionalClasses:"",keepAlwaysOpen:!1,maxValues:0,showDropboxAsPopup:!0,popupDropboxBreakpoint:"576px"};return t.hasOptionDescription&&(e.optionsCount=4,e.optionHeight="60px"),Object.assign(e,t)}},{key:"setPropsFromElementAttr",value:function(t){var e=t.ele,i={multiple:"multiple",placeholder:"placeholder",name:"name","data-value-key":"valueKey","data-label-key":"labelKey","data-description-key":"descriptionKey","data-alias-key":"aliasKey","data-search":"search","data-hide-clear-button":"hideClearButton","data-auto-select-first-option":"autoSelectFirstOption","data-has-option-description":"hasOptionDescription","data-options-count":"optionsCount","data-option-height":"optionHeight","data-position":"position","data-no-options-text":"noOptionsText","data-no-search-results-text":"noSearchResultsText","data-select-all-text":"selectAllText","data-silent-initial-value-set":"silentInitialValueSet","data-dropbox-width":"dropboxWidth","data-z-index":"zIndex","data-no-of-display-values":"noOfDisplayValues","data-allow-new-option":"allowNewOption","data-mark-search-results":"markSearchResults","data-tooltip-font-size":"tooltipFontSize","data-tooltip-alignment":"tooltipAlignment","data-tooltip-max-width":"tooltipMaxWidth","data-show-selected-options-first":"showSelectedOptionsFirst","data-disable-select-all":"disableSelectAll","data-keep-always-open":"keepAlwaysOpen","data-max-values":"maxValues","data-additional-classes":"additionalClasses","data-show-dropbox-as-popup":"showDropboxAsPopup","data-popup-dropbox-breakpoint":"popupDropboxBreakpoint"};for(var o in i){var s=e.getAttribute(o);"multiple"!==o||""!==s&&"true"!==s||(s=!0),s&&(t[i[o]]=s)}}},{key:"setMethods",value:function(){var t=this.$ele;t.virtualSelect=this,t.value=this.multiple?[]:"",t.reset=i.reset,t.setValue=i.setValueMethod,t.setOptions=i.setOptionsMethod,t.setDisabledOptions=i.setDisabledOptionsMethod,t.toggleSelectAll=i.toggleSelectAll,t.isAllSelected=i.isAllSelected,t.addOption=i.addOptionMethod,t.getNewValue=i.getNewValueMethod,t.getDisplayValue=i.getDisplayValueMethod,t.open=i.openMethod,t.close=i.closeMethod}},{key:"setValueMethod",value:function(t,e){Array.isArray(t)||(t=[t]),t=t.map((function(t){return t||0==t?t.toString():""}));var i=[];this.options.forEach((function(e){-1===t.indexOf(e.value)||e.isDisabled||e.isGroupTitle?e.isSelected=!1:(e.isSelected=!0,i.push(e.value))})),this.multiple||(i=i[0]),this.beforeValueSet(),this.setValue(i,!e),this.afterValueSet()}},{key:"setOptionsMethod",value:function(t,e){this.setOptions(t),this.afterSetOptions(e)}},{key:"setDisabledOptionsMethod",value:function(t){this.setDisabledOptions(t,!0),this.setValueMethod(null),this.setVisibleOptions()}},{key:"setDisabledOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=t.map((function(t){return t.toString()})),this.disabledOptions=t,e&&t.length&&this.options.forEach((function(e){return e.isDisabled=-1!==t.indexOf(e.value),e}))}},{key:"setOptions",value:function(e){e||(e=[]);var i=[],o=this.disabledOptions,s=o.length,n=this.valueKey,l=this.labelKey,a=this.descriptionKey,r=this.aliasKey,u=this.hasOptionDescription,p=t.Utils.getString,c=this.getAlias,h=0,d=!1;e.forEach((function t(e){var v=p(e[n]),f=e.options,y=!!f,g={index:h,value:v,label:p(e[l]),alias:c(e[r]),isVisible:!0,isGroupTitle:y};if(s&&(g.isDisabled=-1!==o.indexOf(v)),e.isGroupOption&&(g.isGroupOption=!0,g.groupIndex=e.groupIndex),u&&(g.description=p(e[a])),i.push(g),h++,y){var m=g.index;d=!0,f.forEach((function(e){e.isGroupOption=!0,e.groupIndex=m,t(e)}))}})),this.options=i,this.visibleOptionsCount=i.length,this.lastOptionIndex=this.options.length-1,this.newValues=[],this.hasOptionGroup=d,this.setSortedOptions()}},{key:"setServerOptions",value:function(e){this.setOptionsMethod(e,!0),t.DomUtils.removeClass(this.$wrapper,"server-searching")}},{key:"setSortedOptions",value:function(){var t=s(this.options);this.showSelectedOptionsFirst&&this.selectedValues.length&&(t=this.hasOptionGroup?this.sortOptionsGroup(t):this.sortOptions(t)),this.sortedOptions=t}},{key:"setVisibleOptions",value:function(){var t=s(this.sortedOptions),e=2*this.optionsCount,i=this.getVisibleStartIndex(),o=this.getNewOption(),n=i+e-1,l=0;o&&(o.visibleIndex=l,l++),t=t.filter((function(t){var e=!1;return t.isVisible&&!t.isCurrentNew&&(e=l>=i&&l<=n,t.visibleIndex=l,l++),e})),o&&(t=[o].concat(s(t))),this.visibleOptions=t,this.renderOptions()}},{key:"setOptionsPosition",value:function(e){void 0===e&&(e=this.getVisibleStartIndex());var i=e*this.optionHeight;this.$options.style.transform="translate3d(0, ".concat(i,"px, 0)"),t.DomUtils.setData(this.$options,"top",i)}},{key:"setOptionsTooltip",value:function(){var e=this,i=this.getVisibleOptions(),o=this.hasOptionDescription;i.forEach((function(i){var s=e.$dropboxContainer.querySelector('.vscomp-option[data-index="'.concat(i.index,'"]'));t.DomUtils.setData(s.querySelector(".vscomp-option-text"),"tooltip",i.label),o&&t.DomUtils.setData(s.querySelector(".vscomp-option-description"),"tooltip",i.description)}))}},{key:"setValue",value:function(e,i){e?Array.isArray(e)?this.selectedValues=s(e):this.selectedValues=[e]:this.selectedValues=[];var o=this.multiple?this.selectedValues:this.selectedValues[0]||"";this.$ele.value=o,this.$hiddenInput.value=o,this.isMaxValuesSelected=!!(this.maxValues&&this.maxValues<=this.selectedValues.length),this.setValueText(),t.DomUtils.toggleClass(this.$wrapper,"has-value",t.Utils.isNotEmpty(this.selectedValues)),t.DomUtils.toggleClass(this.$wrapper,"max-value-selected",this.isMaxValuesSelected),i&&this.dispatchEvent(this.$ele,"change")}},{key:"setValueText",value:function(){var i=[],o=[],s=this.selectedValues,n=s.length,l=this.noOfDisplayValues,a=0;if(this.isAllSelected)this.$valueText.innerHTML="All (".concat(n,")");else{var r,u=e(this.options);try{for(u.s();!(r=u.n()).done;){var p=r.value;if(!p.isCurrentNew){if(a>50)break;var c=p.value;if(-1!==s.indexOf(c)){var h=p.label;i.push(h),++a<=l&&o.push('<span class="vscomp-value-tag">'.concat(h,"</span>"))}}}}catch(t){u.e(t)}finally{u.f()}var d=n-l;d>0&&o.push('<span class="vscomp-value-tag more-value-count">+ '.concat(d," more...</span>"));var v=i.join(", ");if(""===v)this.$valueText.innerHTML=this.placeholder;else if(this.$valueText.innerHTML=v,this.multiple){var f=this.maxValues;if(t.DomUtils.hasEllipsis(this.$valueText)||f){var y="".concat(n);f&&(y+=" / ".concat(f)),this.$valueText.innerHTML="".concat(y," option").concat(1===n?"":"s"," selected")}else o=[]}}t.DomUtils.setData(this.$valueText,"tooltip",o.join(", "))}},{key:"setSearchValue",value:function(e,i){if(e!==this.searchValueOriginal){i||(this.$searchInput.value=e);var o=e.toLowerCase().trim();if(this.searchValue=o,this.searchValueOriginal=e,t.DomUtils.toggleClass(this.$wrapper,"has-search-value",e),this.hasServerSearch)this.serverSearch(o);else{var s,n=0,l=!1,a=this.isOptionVisible;this.hasOptionGroup&&(s=this.getVisibleOptionGroupsMapping(o)),this.options.forEach((function(t){if(!t.isCurrentNew){var e=a(t,o,l,s);e.isVisible&&n++,l||(l=e.hasExactOption)}})),this.allowNewOption&&(o&&!l?(this.setNewOption(),n++):this.removeNewOption()),this.visibleOptionsCount=n,this.scrollToTop(),this.setOptionsHeight(),this.setVisibleOptions()}}}},{key:"setOptionProp",value:function(t,e,i){this.options[t]&&(this.options[t][e]=i)}},{key:"setOptionsHeight",value:function(){this.$optionsList.style.height=this.optionHeight*this.visibleOptionsCount+"px"}},{key:"setOptionsContainerHeight",value:function(e){var i;e?this.showAsPopup&&(this.optionsCount=this.getOptionsCount(),i=this.getOptionsHeight(),this.optionsHeight=i):(i=this.optionsHeight,this.keepAlwaysOpen&&(t.DomUtils.setStyle(this.$noOptions,"height",i),t.DomUtils.setStyle(this.$noSearchResults,"height",i))),t.DomUtils.setStyle(this.$optionsContainer,"max-height",i),this.afterSetOptionsContainerHeight(e)}},{key:"setDropboxPosition",value:function(){if("auto"===this.position){var e=t.DomUtils.getMoreVisibleSides(this.$wrapper),i=!1;if(this.dropboxWidth){var o=this.$toggleButton.getBoundingClientRect(),s=window.innerWidth,n=parseFloat(this.dropboxWidth),l=o.left+n>s,a=n>o.right;l&&!a&&(i=!0)}t.DomUtils.toggleClass(this.$wrapper,"position-top","top"===e.vertical),t.DomUtils.toggleClass(this.$wrapper,"position-left",i)}}},{key:"setNewOption",value:function(){var t=this.searchValueOriginal.trim();if(t){var e=this.getNewOption();if(e){var i=e.index;this.setOptionProp(i,"value",t),this.setOptionProp(i,"label",t)}else{var o={value:t,label:t,isCurrentNew:!0};this.addOption(o)}}}},{key:"setSelectedProp",value:function(){var t=this.selectedValues;this.options.forEach((function(e){-1!==t.indexOf(e.value)&&(e.isSelected=!0)}))}},{key:"getVisibleOptions",value:function(){return this.visibleOptions||[]}},{key:"getValue",value:function(){return this.multiple?this.selectedValues:this.selectedValues[0]}},{key:"getFirstVisibleOptionIndex",value:function(){return Math.ceil(this.$optionsContainer.scrollTop/this.optionHeight)}},{key:"getVisibleStartIndex",value:function(){var t=this.getFirstVisibleOptionIndex()-this.halfOptionsCount;return t<0&&(t=0),t}},{key:"getTooltipAttrText",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s={"data-tooltip":e||"","data-tooltip-enter-delay":this.tooltipEnterDelay,"data-tooltip-z-index":this.zIndex,"data-tooltip-font-size":this.tooltipFontSize,"data-tooltip-alignment":this.tooltipAlignment,"data-tooltip-max-width":this.tooltipMaxWidth,"data-tooltip-ellipsis-only":i,"data-tooltip-allow-html":o};return t.DomUtils.getAttributesText(s)}},{key:"getOptionObj",value:function(e){if(e){var i=t.Utils.getString;return{index:e.index,value:i(e.value),label:i(e.label),description:i(e.description),alias:this.getAlias(e.alias),isCurrentNew:e.isCurrentNew||!1,isVisible:!0}}}},{key:"getNewOption",value:function(){var t=this.options[this.lastOptionIndex];if(t&&t.isCurrentNew)return t}},{key:"getOptionIndex",value:function(t){var e;return t&&this.options.some((function(i){if(i.value==t)return e=i.index,!0})),e}},{key:"getNewValue",value:function(){var t=this.newValues,e=this.selectedValues.filter((function(e){return-1!==t.indexOf(e)}));return this.multiple?e:e[0]}},{key:"getAlias",value:function(t){return t=t?(t=Array.isArray(t)?t.join(","):t.toString().trim()).toLowerCase():""}},{key:"getDisplayValue",value:function(){var t,i=[],o=this.selectedValues,s=e(this.options);try{for(s.s();!(t=s.n()).done;){var n=t.value;-1!==o.indexOf(n.value)&&i.push(n.label)}}catch(t){s.e(t)}finally{s.f()}return this.multiple?i:i[0]||""}},{key:"getVisibleOptionGroupsMapping",value:function(t){var e=this.options,i={},o=this.isOptionVisible;return(e=this.structureOptionGroup(e)).forEach((function(e){i[e.index]=e.options.some((function(e){return o(e,t).isVisible}))})),i}},{key:"getOptionsCount",value:function(t){if(this.showAsPopup){var e=80*window.innerHeight/100-48;this.hasSearchContainer&&(e-=40),t=Math.floor(e/this.optionHeight)}else t=parseInt(t);return t}},{key:"getOptionsHeight",value:function(){return this.optionsCount*this.optionHeight+"px"}},{key:"getSibling",value:function(e,i){var o="next"===i?"nextElementSibling":"previousElementSibling";do{e&&(e=e[o])}while(t.DomUtils.hasClass(e,"disabled")||t.DomUtils.hasClass(e,"group-title"));return e}},{key:"openDropbox",value:function(e){var i=this;this.setDropboxPosition(),t.DomUtils.removeClass(this.$wrapper,"closed"),setTimeout((function(){t.DomUtils.addClass(i.$wrapper,"opened"),e||(i.moveSelectedOptionsFirst(),t.DomUtils.addClass(i.$wrapper,"focused"),i.showAsPopup?(t.DomUtils.addClass(i.$body,"vscomp-popup-active"),i.isPopupActive=!0):i.focusSearchInput())}),0)}},{key:"closeDropbox",value:function(e){var i=this;if(this.keepAlwaysOpen)this.removeOptionFocus();else{var o=e?0:this.transitionDuration;setTimeout((function(){t.DomUtils.removeClass(i.$wrapper,"opened focused"),i.removeOptionFocus(),e||i.isPopupActive&&(t.DomUtils.removeClass(i.$body,"vscomp-popup-active"),i.isPopupActive=!1)}),0),setTimeout((function(){t.DomUtils.addClass(i.$wrapper,"closed")}),o)}}},{key:"moveSelectedOptionsFirst",value:function(){this.showSelectedOptionsFirst&&(this.setSortedOptions(),this.$optionsContainer.scrollTop&&this.selectedValues.length?this.scrollToTop():this.setVisibleOptions())}},{key:"toggleDropbox",value:function(){this.isOpened()?this.closeDropbox():this.openDropbox()}},{key:"isOpened",value:function(){return t.DomUtils.hasClass(this.$wrapper,"opened")}},{key:"focusSearchInput",value:function(){var t=this.$searchInput;t&&t.focus()}},{key:"focusOption",value:function(e,i){var o,s=this.$dropboxContainer.querySelector(".vscomp-option.focused");if(i)o=i;else if(s)o=this.getSibling(s,e);else{var n=this.getFirstVisibleOptionIndex();o=this.$dropboxContainer.querySelector('.vscomp-option[data-visible-index="'.concat(n,'"]')),(t.DomUtils.hasClass(o,"disabled")||t.DomUtils.hasClass(o,"group-title"))&&(o=this.getSibling(o,"next"))}o&&o!==s&&(s&&t.DomUtils.removeClass(s,"focused"),t.DomUtils.addClass(o,"focused"),this.toggleFocusedProp(t.DomUtils.getData(o,"index"),!0),this.moveFocusedOptionToView(o))}},{key:"moveFocusedOptionToView",value:function(e){if(e||(e=this.$dropboxContainer.querySelector(".vscomp-option.focused")),e){var i,o=this.$optionsContainer.getBoundingClientRect(),s=e.getBoundingClientRect(),n=o.top,l=o.bottom,a=o.height,r=s.top,u=s.bottom,p=s.height,c=e.offsetTop,h=t.DomUtils.getData(this.$options,"top","number");n>r?i=c+h:l<u&&(i=c-a+p+h),void 0!==i&&(this.$optionsContainer.scrollTop=i)}}},{key:"removeOptionFocus",value:function(){var e=this.$dropboxContainer.querySelector(".vscomp-option.focused");e&&(t.DomUtils.removeClass(e,"focused"),this.toggleFocusedProp(null))}},{key:"selectOption",value:function(e){if(e){var i=!t.DomUtils.hasClass(e,"selected");if(i){if(this.multiple&&this.isMaxValuesSelected)return}else if(!this.multiple)return void this.closeDropbox();var o=this.selectedValues,s=t.DomUtils.getData(e,"value"),n=t.DomUtils.getData(e,"index");if(this.toggleSelectedProp(n,i),i){if(this.multiple)o.push(s),this.toggleAllOptionsClass();else{o.length&&this.toggleSelectedProp(this.getOptionIndex(o[0]),!1),o=[s];var l=this.$ele.querySelector(".vscomp-option.selected");l&&t.DomUtils.toggleClass(l,"selected",!1),this.closeDropbox()}t.DomUtils.toggleClass(e,"selected")}else this.multiple&&(t.DomUtils.toggleClass(e,"selected"),t.Utils.removeItemFromArray(o,s),this.toggleAllOptionsClass(!1));t.DomUtils.hasClass(e,"current-new")&&this.beforeSelectNewValue(),this.setValue(o,!0)}}},{key:"selectFocusedOption",value:function(){this.selectOption(this.$dropboxContainer.querySelector(".vscomp-option.focused"))}},{key:"toggleAllOptions",value:function(e){if(this.multiple&&!this.disableSelectAll){"boolean"!=typeof e&&(e=!t.DomUtils.hasClass(this.$toggleAllCheckbox,"checked"));var i=[];this.options.forEach((function(t){t.isDisabled||t.isCurrentNew||t.isGroupTitle||(t.isSelected=e,e&&i.push(t.value))})),this.toggleAllOptionsClass(e),this.setValue(i,!0),this.renderOptions()}}},{key:"toggleAllOptionsClass",value:function(e){"boolean"!=typeof e&&(e=!1,this.options.length&&(e=!this.options.some((function(t){return!t.isSelected&&!t.isDisabled&&!t.isGroupTitle})))),t.DomUtils.toggleClass(this.$toggleAllCheckbox,"checked",e),this.isAllSelected=e}},{key:"toggleFocusedProp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.focusedOptionIndex&&this.setOptionProp(this.focusedOptionIndex,"isFocused",!1),this.setOptionProp(t,"isFocused",e),this.focusedOptionIndex=t}},{key:"toggleSelectedProp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setOptionProp(t,"isSelected",e)}},{key:"scrollToTop",value:function(){var t=!this.isOpened();t&&this.openDropbox(!0),this.$optionsContainer.scrollTop>0&&(this.$optionsContainer.scrollTop=0),t&&this.closeDropbox(!0)}},{key:"reset",value:function(){this.options.forEach((function(t){t.isSelected=!1})),this.beforeValueSet(!0),this.setValue(null,!0),this.afterValueSet()}},{key:"beforeValueSet",value:function(t){this.toggleAllOptionsClass(!t&&void 0)}},{key:"afterValueSet",value:function(){this.scrollToTop(),this.setSearchValue(""),this.renderOptions()}},{key:"afterSetOptions",value:function(t){t&&this.setSelectedProp(),this.setOptionsHeight(),this.setVisibleOptions(),t||this.reset()}},{key:"addOption",value:function(t,e){if(t){this.lastOptionIndex++,t.index=this.lastOptionIndex;var i=this.getOptionObj(t);this.options.push(i),this.sortedOptions.push(i),e&&(this.visibleOptionsCount++,this.afterSetOptions())}}},{key:"removeOption",value:function(t){(t||0==t)&&(this.options.splice(t,1),this.lastOptionIndex--)}},{key:"removeNewOption",value:function(){var t=this.getNewOption();t&&this.removeOption(t.index)}},{key:"beforeSelectNewValue",value:function(){var t=this,e=this.getNewOption(),i=e.index;this.newValues.push(e.value),this.setOptionProp(i,"isCurrentNew",!1),this.setOptionProp(i,"isNew",!0),setTimeout((function(){t.setSearchValue(""),t.focusSearchInput()}),0)}},{key:"sortOptions",value:function(t){return t.sort((function(t,e){return t.isSelected||e.isSelected?t.isSelected&&(!e.isSelected||t.index<e.index)?-1:1:0}))}},{key:"sortOptionsGroup",value:function(t){var e=this.sortOptions;return(t=this.structureOptionGroup(t)).forEach((function(t){var i=t.options;t.isSelected=i.some((function(t){return t.isSelected})),t.isSelected&&e(i)})),e(t),this.destructureOptionGroup(t)}},{key:"isOptionVisible",value:function(t,e,i,o){var s=t.label.toLowerCase(),n=t.description,l=t.alias,a=-1!==s.indexOf(e);return t.isGroupTitle&&(a=o[t.index]),l&&!a&&(a=-1!==l.indexOf(e)),n&&!a&&(a=-1!==n.toLowerCase().indexOf(e)),t.isVisible=a,i||(i=s===e),{isVisible:a,hasExactOption:i}}},{key:"structureOptionGroup",value:function(t){var e=[],i={};return t.forEach((function(t){if(t.isGroupTitle){var o=[];t.options=o,i[t.index]=o,e.push(t)}})),t.forEach((function(t){t.isGroupOption&&i[t.groupIndex].push(t)})),e}},{key:"destructureOptionGroup",value:function(t){var e=[];return t.forEach((function(t){e.push(t),e=e.concat(t.options)})),e}},{key:"serverSearch",value:function(e){t.DomUtils.removeClass(this.$wrapper,"has-no-options"),t.DomUtils.addClass(this.$wrapper,"server-searching"),this.onServerSearch(e,this)}}])&&a(o.prototype,n),l&&a(o,l),i}();document.addEventListener("reset",u.resetForm),window.addEventListener("resize",u.onResizeMethod),window.VirtualSelect=u})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXJ0dWFsLXNlbGVjdC8uL3NyYy91dGlscy9kb20tdXRpbHMuanMiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3QvLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3ZpcnR1YWwtc2VsZWN0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3Qvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly92aXJ0dWFsLXNlbGVjdC8uL3NyYy92aXJ0dWFsLXNlbGVjdC5qcyJdLCJuYW1lcyI6WyJEb21VdGlscyIsIiRlbGUiLCJjbGFzc05hbWUiLCJzcGxpdCIsInRoaXMiLCJnZXRFbGVtZW50cyIsImZvckVhY2giLCJfdGhpcyIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImlzQWRkIiwiaXNBZGRlZCIsInVuZGVmaW5lZCIsIkJvb2xlYW4iLCJ0b2dnbGUiLCJjb250YWlucyIsInNjcm9sbFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJib3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhdmFpbGFibGVXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJhdmFpbGFibGVIZWlnaHQiLCJpbm5lckhlaWdodCIsImxlZnRBcmVhIiwibGVmdCIsInRvcEFyZWEiLCJ0b3AiLCJob3Jpem9udGFsIiwid2lkdGgiLCJ2ZXJ0aWNhbCIsImhlaWdodCIsIm5hbWUiLCJ0eXBlIiwidmFsdWUiLCJkYXRhc2V0IiwicGFyc2VGbG9hdCIsInN0eWxlIiwibGVuZ3RoIiwicHJvcHMiLCJza2lwQXR0ck5hbWUiLCJyZXN1bHQiLCJrIiwiZGF0YSIsImh0bWwiLCJVdGlscyIsInRleHQiLCJ0b1N0cmluZyIsImRlZmF1bHRWYWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsIk9iamVjdCIsImtleXMiLCJpc0VtcHR5IiwiYXJyYXkiLCJjbG9uZUFycmF5IiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZmlsdGVyIiwiZCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwia2V5RG93bk1ldGhvZE1hcHBpbmciLCIxMyIsIjI3IiwiMzgiLCI0MCIsIlZpcnR1YWxTZWxlY3QiLCJvcHRpb25zIiwic2V0UHJvcHMiLCJzZXREaXNhYmxlZE9wdGlvbnMiLCJkaXNhYmxlZE9wdGlvbnMiLCJzZXRPcHRpb25zIiwicmVuZGVyIiwiZSIsImNvbnNvbGUiLCJ3YXJuIiwiZXJyb3IiLCIkZWxlQXJyYXkiLCJlbGUiLCJzaW5nbGVFbGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpbnN0YW5jZXMiLCJwdXNoIiwiJGVsZVRvS2VlcE9wZW4iLCJxdWVyeVNlbGVjdG9yQWxsIiwicGFyZW50RWxlbWVudCIsInZpcnR1YWxTZWxlY3QiLCJjbG9zZURyb3Bib3giLCIkZm9ybSIsInRhcmdldCIsImNsb3Nlc3QiLCJyZXNldCIsInNpbGVudENoYW5nZSIsInNldFZhbHVlTWV0aG9kIiwic2V0T3B0aW9uc01ldGhvZCIsInNldERpc2FibGVkT3B0aW9uc01ldGhvZCIsImlzU2VsZWN0ZWQiLCJ0b2dnbGVBbGxPcHRpb25zIiwiaXNBbGxTZWxlY3RlZCIsImFkZE9wdGlvbiIsImdldE5ld1ZhbHVlIiwiZ2V0RGlzcGxheVZhbHVlIiwib3BlbkRyb3Bib3giLCJvblJlc2l6ZSIsIndyYXBwZXJDbGFzc2VzIiwidmFsdWVUb29sdGlwIiwiZ2V0VG9vbHRpcEF0dHJUZXh0IiwibXVsdGlwbGUiLCJjbGVhckJ1dHRvblRvb2x0aXAiLCJkcm9wYm94Q29udGFpbmVyU3R5bGUiLCJ6SW5kZXgiLCJhZGRpdGlvbmFsQ2xhc3NlcyIsImRpc2FibGVTZWxlY3RBbGwiLCJwb3NpdGlvbiIsImhpZGVDbGVhckJ1dHRvbiIsImtlZXBBbHdheXNPcGVuIiwic2hvd0FzUG9wdXAiLCJkcm9wYm94V2lkdGgiLCJoYXNTZWFyY2giLCJwbGFjZWhvbGRlciIsIm5vT3B0aW9uc1RleHQiLCJub1NlYXJjaFJlc3VsdHNUZXh0IiwiaW5uZXJIVE1MIiwiJGJvZHkiLCIkd3JhcHBlciIsIiR0b2dnbGVCdXR0b24iLCIkY2xlYXJCdXR0b24iLCIkZHJvcGJveENvbnRhaW5lciIsIiRkcm9wYm94Q2xvc2VCdXR0b24iLCIkc2VhcmNoIiwiJG9wdGlvbnNDb250YWluZXIiLCIkb3B0aW9uc0xpc3QiLCIkb3B0aW9ucyIsIiR2YWx1ZVRleHQiLCIkaGlkZGVuSW5wdXQiLCIkbm9PcHRpb25zIiwiJG5vU2VhcmNoUmVzdWx0cyIsImFmdGVyUmVuZGVyV3JhcHBlciIsInNlYXJjaFJlZ2V4IiwidmlzaWJsZU9wdGlvbnMiLCJnZXRWaXNpYmxlT3B0aW9ucyIsImNoZWNrYm94SHRtbCIsIm5ld09wdGlvbkljb25IdG1sIiwibWFya1NlYXJjaFJlc3VsdHMiLCJzZWFyY2hWYWx1ZSIsInN0eWxlVGV4dCIsIm9wdGlvbkhlaWdodCIsIlJlZ0V4cCIsImFsbG93TmV3T3B0aW9uIiwibmV3T3B0aW9uVG9vbHRpcCIsIm9wdGlvbkxhYmVsIiwibGFiZWwiLCJvcHRpb25DbGFzc2VzIiwib3B0aW9uVG9vbHRpcCIsImxlZnRTZWN0aW9uIiwicmlnaHRTZWN0aW9uIiwiZGVzY3JpcHRpb24iLCJpc0ZvY3VzZWQiLCJpc0Rpc2FibGVkIiwiaXNHcm91cFRpdGxlIiwiaXNHcm91cE9wdGlvbiIsImlzQ3VycmVudE5ldyIsInJlcGxhY2UiLCJ2aXNpYmxlSW5kZXgiLCJoYXNOb09wdGlvbnMiLCJoYXNOb1NlYXJjaFJlc3VsdHMiLCJzZXRPcHRpb25zUG9zaXRpb24iLCJzZXRPcHRpb25zVG9vbHRpcCIsImhhc1NlYXJjaENvbnRhaW5lciIsInNlYXJjaElucHV0Iiwic2VsZWN0QWxsVGV4dCIsIiRzZWFyY2hJbnB1dCIsIiRzZWFyY2hDbGVhciIsIiR0b2dnbGVBbGxCdXR0b24iLCIkdG9nZ2xlQWxsQ2hlY2tib3giLCJhZGRFdmVudCIsIm92ZXJyaWRlU2Nyb2xsRXZlbnRTZWxlY3RvciIsImV2ZW50cyIsIm1ldGhvZCIsImV2ZW50IiwiZXZlbnRzS2V5IiwiY2FsbGJhY2siLCJiaW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50TmFtZSIsInNldFRpbWVvdXQiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJidWJibGVzIiwiY2xvc2VBbGxEcm9wYm94Iiwid2hpY2giLCJrZXlDb2RlIiwiaXNPcGVuZWQiLCJzZWxlY3RGb2N1c2VkT3B0aW9uIiwicHJldmVudERlZmF1bHQiLCJmb2N1c09wdGlvbiIsInRvZ2dsZURyb3Bib3giLCJzZXRWaXNpYmxlT3B0aW9ucyIsInNlbGVjdE9wdGlvbiIsInJlbW92ZU9wdGlvbkZvY3VzIiwic3RvcFByb3BhZ2F0aW9uIiwic2V0U2VhcmNoVmFsdWUiLCJmb2N1c1NlYXJjaElucHV0Iiwic2V0T3B0aW9uc0NvbnRhaW5lckhlaWdodCIsInNldEF0dHJpYnV0ZSIsInJlbmRlclNlYXJjaCIsInNldE9wdGlvbnNIZWlnaHQiLCJhZGRFdmVudHMiLCJzZXRNZXRob2RzIiwiaW5pdGlhbFNlbGVjdGVkVmFsdWUiLCJzaWxlbnRJbml0aWFsVmFsdWVTZXQiLCJhdXRvU2VsZWN0Rmlyc3RPcHRpb24iLCJzZXREZWZhdWx0UHJvcHMiLCJzZXRQcm9wc0Zyb21FbGVtZW50QXR0ciIsImNvbnZlcnRUb0Jvb2xlYW4iLCJ2YWx1ZUtleSIsImxhYmVsS2V5IiwiZGVzY3JpcHRpb25LZXkiLCJhbGlhc0tleSIsIm9wdGlvbkhlaWdodFRleHQiLCJzZWFyY2giLCJoYXNPcHRpb25EZXNjcmlwdGlvbiIsInNob3dTZWxlY3RlZE9wdGlvbnNGaXJzdCIsInNob3dEcm9wYm94QXNQb3B1cCIsInRvb2x0aXBGb250U2l6ZSIsInRvb2x0aXBBbGlnbm1lbnQiLCJ0b29sdGlwTWF4V2lkdGgiLCJub09mRGlzcGxheVZhbHVlcyIsInBhcnNlSW50IiwibWF4VmFsdWVzIiwic2VsZWN0ZWRWYWx1ZSIsInBvcHVwRHJvcGJveEJyZWFrcG9pbnQiLCJvblNlcnZlclNlYXJjaCIsInNlbGVjdGVkVmFsdWVzIiwibmV3VmFsdWVzIiwidG9vbHRpcEVudGVyRGVsYXkiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJzZWFyY2hWYWx1ZU9yaWdpbmFsIiwiaGFzU2VydmVyU2VhcmNoIiwib3B0aW9uc0NvdW50IiwiZ2V0T3B0aW9uc0NvdW50IiwiaGFsZk9wdGlvbnNDb3VudCIsIk1hdGgiLCJjZWlsIiwib3B0aW9uc0hlaWdodCIsImdldE9wdGlvbnNIZWlnaHQiLCJkZWZhdWx0T3B0aW9ucyIsImFzc2lnbiIsIm1hcHBpbmciLCJnZXRBdHRyaWJ1dGUiLCJzZXRWYWx1ZSIsInRvZ2dsZVNlbGVjdEFsbCIsImFkZE9wdGlvbk1ldGhvZCIsImdldE5ld1ZhbHVlTWV0aG9kIiwiZ2V0RGlzcGxheVZhbHVlTWV0aG9kIiwib3BlbiIsIm9wZW5NZXRob2QiLCJjbG9zZSIsImNsb3NlTWV0aG9kIiwibWFwIiwidiIsInZhbGlkVmFsdWVzIiwiYmVmb3JlVmFsdWVTZXQiLCJhZnRlclZhbHVlU2V0Iiwia2VlcFZhbHVlIiwiYWZ0ZXJTZXRPcHRpb25zIiwic2V0T3B0aW9uc1Byb3AiLCJwcmVwYXJlZE9wdGlvbnMiLCJoYXNEaXNhYmxlZE9wdGlvbnMiLCJnZXRTdHJpbmciLCJnZXRBbGlhcyIsImhhc09wdGlvbkdyb3VwIiwicHJlcGFyZU9wdGlvbiIsImNoaWxkT3B0aW9ucyIsIm9wdGlvbiIsImFsaWFzIiwiaXNWaXNpYmxlIiwiZ3JvdXBJbmRleCIsInZpc2libGVPcHRpb25zQ291bnQiLCJsYXN0T3B0aW9uSW5kZXgiLCJzZXRTb3J0ZWRPcHRpb25zIiwic29ydGVkT3B0aW9ucyIsInNvcnRPcHRpb25zR3JvdXAiLCJzb3J0T3B0aW9ucyIsIm1heE9wdGlvbnNUb1Nob3ciLCJzdGFydEluZGV4IiwiZ2V0VmlzaWJsZVN0YXJ0SW5kZXgiLCJuZXdPcHRpb24iLCJnZXROZXdPcHRpb24iLCJlbmRJbmRleCIsImkiLCJpblZpZXciLCJyZW5kZXJPcHRpb25zIiwidHJhbnNmb3JtIiwiJG9wdGlvbkVsZSIsInRyaWdnZXJFdmVudCIsIm5ld1ZhbHVlIiwiaXNNYXhWYWx1ZXNTZWxlY3RlZCIsInNldFZhbHVlVGV4dCIsInZhbHVlVGV4dCIsInNlbGVjdGVkTGVuZ3RoIiwic2VsZWN0ZWRWYWx1ZXNDb3VudCIsIm1vcmVTZWxlY3RlZE9wdGlvbnMiLCJhZ2dyZWdhdGVkVmFsdWVUZXh0Iiwiam9pbiIsImNvdW50VGV4dCIsInNraXBJbnB1dFNldCIsInRvTG93ZXJDYXNlIiwidHJpbSIsInNlcnZlclNlYXJjaCIsInZpc2libGVPcHRpb25Hcm91cHNNYXBwaW5nIiwiaGFzRXhhY3RPcHRpb24iLCJpc09wdGlvblZpc2libGUiLCJnZXRWaXNpYmxlT3B0aW9uR3JvdXBzTWFwcGluZyIsInNldE5ld09wdGlvbiIsInJlbW92ZU5ld09wdGlvbiIsInNjcm9sbFRvVG9wIiwiYWZ0ZXJTZXRPcHRpb25zQ29udGFpbmVySGVpZ2h0IiwibW9yZVZpc2libGVTaWRlcyIsInNob3dPbkxlZnQiLCJidXR0b25Db29yZHMiLCJ2aWV3cG9ydFdpZHRoIiwiaGlkZGVuT25SaWdodCIsImhpZGRlbk9uTGVmdCIsInJpZ2h0IiwibmV3SW5kZXgiLCJzZXRPcHRpb25Qcm9wIiwic2Nyb2xsVG9wIiwiZ2V0Rmlyc3RWaXNpYmxlT3B0aW9uSW5kZXgiLCJlbGxpcHNpc09ubHkiLCJhbGxvd0h0bWwiLCJsYXN0T3B0aW9uIiwic29tZSIsImRpc3BsYXlWYWx1ZXMiLCJzdHJ1Y3R1cmVPcHRpb25Hcm91cCIsImNvdW50IiwiZmxvb3IiLCJkaXJlY3Rpb24iLCJwcm9wTmFtZSIsImlzU2lsZW50Iiwic2V0RHJvcGJveFBvc2l0aW9uIiwibW92ZVNlbGVjdGVkT3B0aW9uc0ZpcnN0IiwiaXNQb3B1cEFjdGl2ZSIsImZvY3VzIiwiJG5ld0ZvY3VzZWRFbGUiLCIkZm9jdXNlZEVsZSIsImdldFNpYmxpbmciLCJmaXJzdFZpc2libGVPcHRpb25JbmRleCIsInRvZ2dsZUZvY3VzZWRQcm9wIiwibW92ZUZvY3VzZWRPcHRpb25Ub1ZpZXciLCJuZXdTY3JvbGxUb3AiLCJjb250YWluZXJSZWN0Iiwib3B0aW9uUmVjdCIsImNvbnRhaW5lclRvcCIsImNvbnRhaW5lckJvdHRvbSIsImJvdHRvbSIsImNvbnRhaW5lckhlaWdodCIsIm9wdGlvblRvcCIsIm9wdGlvbkJvdHRvbSIsIm9wdGlvbk9mZnNldFRvcCIsIm9mZnNldFRvcCIsIm9wdGlvbnNUb3AiLCJpc0FkZGluZyIsInNlbGVjdGVkSW5kZXgiLCJ0b2dnbGVTZWxlY3RlZFByb3AiLCJ0b2dnbGVBbGxPcHRpb25zQ2xhc3MiLCJnZXRPcHRpb25JbmRleCIsIiRwcmV2U2VsZWN0ZWRPcHRpb24iLCJiZWZvcmVTZWxlY3ROZXdWYWx1ZSIsImZvY3VzZWRPcHRpb25JbmRleCIsImlzQ2xvc2VkIiwiaXNSZXNldCIsInNldFNlbGVjdGVkUHJvcCIsInJlcmVuZGVyIiwiZ2V0T3B0aW9uT2JqIiwicmVtb3ZlT3B0aW9uIiwic29ydCIsImEiLCJiIiwiZGVzdHJ1Y3R1cmVPcHRpb25Hcm91cCIsImNoaWxkQXJyYXkiLCJjb25jYXQiLCJyZXNldEZvcm0iLCJvblJlc2l6ZU1ldGhvZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs2OUJBQU8sSUFBTUEsRUFBYix5Qiw0RkFBQSxTLFVBQUEsTyxFQUFBLEUsRUFBQSxnQ0FDa0JDLEVBQU1DLEdB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RUFBUW5GLFNBQVEsU0FBQ3dELEdBQ2YsR0FBSUEsRUFBRXdILGFBQWMsQ0FDbEIsSUFBSTZOLEVBQWEsR0FDakJyVixFQUFFMkIsUUFBVTBULEVBQ1ozRyxFQUFhMU8sRUFBRUosT0FBU3lWLEVBRXhCeFcsRUFBTzhELEtBQUszQyxPQUtoQjJCLEVBQVFuRixTQUFRLFNBQUN3RCxHQUNYQSxFQUFFeUgsZUFDSmlILEVBQWExTyxFQUFFOE8sWUFBWW5NLEtBQUszQyxNQUk3Qm5CLElBbDBEWCw2Q0FxMER5QjhDLEdBQ3JCLElBQUk5QyxFQUFTLEdBT2IsT0FMQThDLEVBQVFuRixTQUFRLFNBQUN3RCxHQUNmbkIsRUFBTzhELEtBQUszQyxHQUNabkIsRUFBU0EsRUFBT3lXLE9BQU90VixFQUFFMkIsWUFHcEI5QyxJQTcwRFgsbUNBZzFEZTRILEdBQ1h2Syx1QkFBcUJJLEtBQUsrSSxTQUFVLGtCQUNwQ25KLG9CQUFrQkksS0FBSytJLFNBQVUsb0JBQ2pDL0ksS0FBSzJQLGVBQWV4RixFQUFhbkssVywyQkFuMURyQyxLQW84REFrRyxTQUFTd0csaUJBQWlCLFFBQVN0SCxFQUFjNlQsV0FDakQvWCxPQUFPd0wsaUJBQWlCLFNBQVV0SCxFQUFjOFQsZ0JBRWhEaFksT0FBT2tFLGNBQWdCQSxHIiwiZmlsZSI6InZpcnR1YWwtc2VsZWN0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBEb21VdGlscyB7XHJcbiAgc3RhdGljIGFkZENsYXNzKCRlbGUsIGNsYXNzTmFtZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUuc3BsaXQoJyAnKTtcclxuXHJcbiAgICB0aGlzLmdldEVsZW1lbnRzKCRlbGUpLmZvckVhY2goKF90aGlzKSA9PiB7XHJcbiAgICAgIF90aGlzLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NOYW1lKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJlbW92ZUNsYXNzKCRlbGUsIGNsYXNzTmFtZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUuc3BsaXQoJyAnKTtcclxuXHJcbiAgICB0aGlzLmdldEVsZW1lbnRzKCRlbGUpLmZvckVhY2goKF90aGlzKSA9PiB7XHJcbiAgICAgIF90aGlzLmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3NOYW1lKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHRvZ2dsZUNsYXNzKCRlbGUsIGNsYXNzTmFtZSwgaXNBZGQpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzQWRkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgaXNBZGQgPSBCb29sZWFuKGlzQWRkKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXNBZGRlZDtcclxuXHJcbiAgICB0aGlzLmdldEVsZW1lbnRzKCRlbGUpLmZvckVhY2goKF90aGlzKSA9PiB7XHJcbiAgICAgIGlzQWRkZWQgPSBfdGhpcy5jbGFzc0xpc3QudG9nZ2xlKGNsYXNzTmFtZSwgaXNBZGQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlzQWRkZWQ7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaGFzQ2xhc3MoJGVsZSwgY2xhc3NOYW1lKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAkZWxlLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGhhc0VsbGlwc2lzKCRlbGUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICRlbGUuc2Nyb2xsV2lkdGggPiAkZWxlLm9mZnNldFdpZHRoO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldE1vcmVWaXNpYmxlU2lkZXMoJGVsZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybiB7fTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgYm94ID0gJGVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGxldCBhdmFpbGFibGVXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgbGV0IGF2YWlsYWJsZUhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIGxldCBsZWZ0QXJlYSA9IGJveC5sZWZ0O1xyXG4gICAgbGV0IHRvcEFyZWEgPSBib3gudG9wO1xyXG4gICAgbGV0IHJpZ2h0QXJlYSA9IGF2YWlsYWJsZVdpZHRoIC0gbGVmdEFyZWEgLSBib3gud2lkdGg7XHJcbiAgICBsZXQgYm90dG9tQXJlYSA9IGF2YWlsYWJsZUhlaWdodCAtIHRvcEFyZWEgLSBib3guaGVpZ2h0O1xyXG4gICAgbGV0IGhvcml6b250YWwgPSBsZWZ0QXJlYSA+IHJpZ2h0QXJlYSA/ICdsZWZ0JyA6ICdyaWdodCc7XHJcbiAgICBsZXQgdmVydGljYWwgPSB0b3BBcmVhID4gYm90dG9tQXJlYSA/ICd0b3AnIDogJ2JvdHRvbSc7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaG9yaXpvbnRhbCxcclxuICAgICAgdmVydGljYWwsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldERhdGEoJGVsZSwgbmFtZSwgdHlwZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdmFsdWUgPSAkZWxlID8gJGVsZS5kYXRhc2V0W25hbWVdIDogJyc7XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh2YWx1ZSA9PT0gJ3RydWUnKSB7XHJcbiAgICAgICAgdmFsdWUgPSB0cnVlO1xyXG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnZmFsc2UnKSB7XHJcbiAgICAgICAgdmFsdWUgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzZXREYXRhKCRlbGUsIG5hbWUsIHZhbHVlKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICRlbGUuZGF0YXNldFtuYW1lXSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldFN0eWxlKCRlbGUsIG5hbWUsIHZhbHVlKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICRlbGUuc3R5bGVbbmFtZV0gPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRFbGVtZW50cygkZWxlKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkZWxlLmxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICRlbGUgPSBbJGVsZV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICRlbGU7XHJcbiAgfVxyXG5cclxuICAvKiogY29udmVydCBvYmplY3QgdG8gc3R5bGUgYXR0cmlidXRlICovXHJcbiAgc3RhdGljIGdldFN0eWxlVGV4dChwcm9wcywgc2tpcEF0dHJOYW1lKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gJyc7XHJcblxyXG4gICAgZm9yIChsZXQgayBpbiBwcm9wcykge1xyXG4gICAgICByZXN1bHQgKz0gYCR7a306ICR7cHJvcHNba119O2A7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJlc3VsdCAmJiAhc2tpcEF0dHJOYW1lKSB7XHJcbiAgICAgIHJlc3VsdCA9IGBzdHlsZT1cIiR7cmVzdWx0fVwiYDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgLyoqIGNvbnZlcnQgb2JqZWN0IHRvIGRvbSBhdHRyaWJ1dGVzICovXHJcbiAgc3RhdGljIGdldEF0dHJpYnV0ZXNUZXh0KGRhdGEpIHtcclxuICAgIGxldCBodG1sID0gJyc7XHJcblxyXG4gICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgIHJldHVybiBodG1sO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGsgaW4gZGF0YSkge1xyXG4gICAgICBsZXQgdmFsdWUgPSBkYXRhW2tdO1xyXG5cclxuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBodG1sICs9IGAgJHtrfT1cIiR7dmFsdWV9XCIgYDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBodG1sO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgVXRpbHMge1xyXG4gIHN0YXRpYyBnZXRTdHJpbmcodGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQgfHwgdGV4dCA9PT0gMCA/IHRleHQudG9TdHJpbmcoKSA6ICcnO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUsIGRlZmF1bHRWYWx1ZSA9IGZhbHNlKSB7XHJcbiAgICBpZiAodmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09ICd0cnVlJykge1xyXG4gICAgICB2YWx1ZSA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICB2YWx1ZSA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGlzRW1wdHkodmFsdWUpIHtcclxuICAgIGxldCByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBpc05vdEVtcHR5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gIXRoaXMuaXNFbXB0eSh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgcmVtb3ZlSXRlbUZyb21BcnJheShhcnJheSwgdmFsdWUsIGNsb25lQXJyYXkpIHtcclxuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkgfHwgIWFycmF5Lmxlbmd0aCB8fCAhdmFsdWUpIHtcclxuICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjbG9uZUFycmF5KSB7XHJcbiAgICAgIGFycmF5ID0gWy4uLmFycmF5XTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaW5kZXggPSBhcnJheS5pbmRleE9mKHZhbHVlKTtcclxuXHJcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFycmF5O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJlbW92ZUFycmF5RW1wdHkoYXJyYXkpIHtcclxuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkgfHwgIWFycmF5Lmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcigoZCkgPT4gISFkKTtcclxuICB9XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgVXRpbHMsIERvbVV0aWxzIH0gZnJvbSAnLi91dGlscyc7XHJcblxyXG5jb25zdCB2aXJ0dWFsU2VsZWN0VmVyc2lvbiA9ICd2MS4wLjYnO1xyXG5jb25zdCBkcm9wYm94Q2xvc2VCdXR0b25GdWxsSGVpZ2h0ID0gNDg7XHJcbmNvbnN0IHNlYXJjaEhlaWdodCA9IDQwO1xyXG5cclxuY29uc3Qga2V5RG93bk1ldGhvZE1hcHBpbmcgPSB7XHJcbiAgMTM6ICdvbkVudGVyUHJlc3MnLFxyXG4gIDI3OiAnb25Fc2NQcmVzcycsXHJcbiAgMzg6ICdvblVwQXJyb3dQcmVzcycsXHJcbiAgNDA6ICdvbkRvd25BcnJvd1ByZXNzJyxcclxufTtcclxuXHJcbi8qKiBDbGFzcyByZXByZXNlbnRpbmcgVmlydHVhbFNlbGVjdCAqL1xyXG5leHBvcnQgY2xhc3MgVmlydHVhbFNlbGVjdCB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgVmlydHVhbFNlbGVjdFxyXG4gICAqIEBwcm9wZXJ0eSB7KGVsZW1lbnR8c3RyaW5nKX0gZWxlIC0gUGFyZW50IGVsZW1lbnQgdG8gcmVuZGVyIFZpcnR1YWxTZWxlY3RcclxuICAgKiBAcHJvcGVydHkge29iamVjdFtdfSBvcHRpb25zIC0gQXJyYXkgb2Ygb2JqZWN0IHRvIHNob3cgYXMgb3B0aW9uc1xyXG4gICAqIEBwcm9wZXJ0eSB7KHN0cmluZ3xudW1iZXIpfSBvcHRpb25zW10udmFsdWUgLSBWYWx1ZSBvZiB0aGUgb3B0aW9uXHJcbiAgICogQHByb3BlcnR5IHsoc3RyaW5nfG51bWJlcil9IG9wdGlvbnNbXS5sYWJlbCAtIERpc3BsYXkgdGV4dCBvZiB0aGUgb3B0aW9uXHJcbiAgICogQHByb3BlcnR5IHsoc3RyaW5nfG51bWJlcil9IG9wdGlvbnNbXS5kZXNjcmlwdGlvbiAtIFRleHQgdG8gc2hvdyBhbG9uZyB3aXRoIGxhYmVsXHJcbiAgICogQHByb3BlcnR5IHsoc3RyaW5nfGFycmF5KX0gb3B0aW9uc1tdLmFsaWFzIC0gQWx0ZXJuYXRpdmUgbGFiZWxzIHRvIHVzZSBvbiBzZWFyY2guIEFycmF5IG9mIHN0cmluZyBvciBjb21tYSBzZXBhcmF0ZWQgc3RyaW5nLlxyXG4gICAqIEBwcm9wZXJ0eSB7YXJyYXl9IG9wdGlvbnNbXS5vcHRpb25zIC0gTGlzdCBvZiBvcHRpb25zIGZvciBvcHRpb24gZ3JvdXBcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3ZhbHVlS2V5PXZhbHVlXSAtIE9iamVjdCBrZXkgdG8gdXNlIHRvIGdldCB2YWx1ZSBmcm9tIG9wdGlvbnMgYXJyYXlcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2xhYmVsS2V5PWxhYmVsXSAtIE9iamVjdCBrZXkgdG8gdXNlIHRvIGdldCBsYWJlbCBmcm9tIG9wdGlvbnMgYXJyYXlcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2Rlc2NyaXB0aW9uS2V5PWRlc2NyaXB0aW9uXSAtIE9iamVjdCBrZXkgdG8gdXNlIHRvIGdldCBkZXNjcmlwdGlvbiBmcm9tIG9wdGlvbnMgYXJyYXlcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2FsaWFzS2V5PWFsaWFzXSAtIEtleSBuYW1lIHRvIGdldCBhbGlhcyBmcm9tIG9wdGlvbnMgb2JqZWN0XHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbbXVsdGlwbGU9ZmFsc2VdIC0gRW5hYmxlIG11bHRpc2VsZWN0XHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2VhcmNoPWZhbHNlXSAtIEVuYWJsZSBzZWFyY2hcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtoaWRlQ2xlYXJCdXR0b249ZmFsc2VdIC0gSGlkZSBjbGVhciBidXR0b25cclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdXRvU2VsZWN0Rmlyc3RPcHRpb249ZmFsc2VdIC0gU2VsZWN0IGZpcnN0IG9wdGlvbiBieSBkZWZhdWx0IG9uIGxvYWRcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtoYXNPcHRpb25EZXNjcmlwdGlvbj1mYWxzZV0gLSBIYXMgZGVzY3JpcHRpb24gdG8gc2hvdyBhbG9uZyB3aXRoIGxhYmVsXHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbZGlzYWJsZVNlbGVjdEFsbD1mYWxzZV0gLSBEaXNhYmxlIHNlbGVjdCBhbGwgZmVhdHVyZSBvZiBtdWx0aXBsZSBzZWxlY3RcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW29wdGlvbnNDb3VudD01fDRdIC0gTm8ub2Ygb3B0aW9ucyB0byBzaG93IG9uIHZpZXdwb3J0XHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtvcHRpb25IZWlnaHQ9NDBweHw2MHB4XSAtIEhlaWdodCBvZiBlYWNoIGRyb3Bkb3duIG9wdGlvbnNcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3Bvc2l0aW9uPWF1dG9dIC0gUG9zaXRpb24gb2YgZHJvcGJveCAodG9wLCBib3R0b20sIGF1dG8pXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtwbGFjZWhvbGRlcj1TZWxlY3RdIC0gVGV4dCB0byBzaG93IHdoZW4gbm8gb3B0aW9ucyBzZWxlY3RlZFxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbm9PcHRpb25zVGV4dD1ObyBvcHRpb25zIGZvdW5kXSAtIFRleHQgdG8gc2hvdyB3aGVuIG5vIG9wdGlvbnMgdG8gc2hvd1xyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbm9TZWFyY2hSZXN1bHRzVGV4dD1ObyByZXN1bHRzIGZvdW5kXSAtIFRleHQgdG8gc2hvdyB3aGVuIG5vIHJlc3VsdHMgb24gc2VhcmNoXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtzZWxlY3RBbGxUZXh0PVNlbGVjdCBhbGxdIC0gVGV4dCB0byBzaG93IG5lYXIgc2VsZWN0IGFsbCBjaGVja2JveCB3aGVuIHNlYXJjaCBpcyBkaXNhYmxlZFxyXG4gICAqIEBwcm9wZXJ0eSB7YXJyYXl9IFtkaXNhYmxlZE9wdGlvbnNdIC0gT3B0aW9ucyB0byBkaXNhYmxlIChhcnJheSBvZiB2YWx1ZXMpXHJcbiAgICogQHByb3BlcnR5IHsoc3RyaW5nfGFycmF5KX0gW3NlbGVjdGVkVmFsdWVdIC0gU2luZ2xlIHZhbHVlIG9yIGFycmF5IG9mIHZhbHVlcyB0byBzZWxlY3Qgb24gaW5pdFxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NpbGVudEluaXRpYWxWYWx1ZVNldD1mYWxzZV0gLSBUbyBhdm9pZCBcImNoYW5nZSBldmVudFwiIHRyaWdnZXIgb24gc2V0dGluZyBpbml0aWFsIHZhbHVlXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtkcm9wYm94V2lkdGhdIC0gQ3VzdG9tIHdpZHRoIGZvciBkcm9wYm94XHJcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXg9MV0gLSBDU1Mgei1pbmRleCB2YWx1ZSBmb3IgZHJvcGJveFxyXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbm9PZkRpc3BsYXlWYWx1ZXM9NTBdIC0gTWF4aW11bSBuby5vZiB2YWx1ZXMgdG8gc2hvdyBpbiB0aGUgdG9vbHRpcCBmb3IgbXVsdGktc2VsZWN0XHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbYWxsb3dOZXdPcHRpb249ZmFsc2VdIC0gQWxsb3cgdG8gYWRkIG5ldyBvcHRpb24gYnkgc2VhcmNoaW5nXHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbbWFya1NlYXJjaFJlc3VsdHM9ZmFsc2VdIC0gTWFyayBtYXRjaGVkIHRlcm0gaW4gbGFiZWxcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3Rvb2x0aXBGb250U2l6ZT0xNHB4XSAtIEZvbnQgc2l6ZSBmb3IgdG9vbHRpcFxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdG9vbHRpcEFsaWdubWVudD1jZW50ZXJdIC0gQ1NTIFRleHQgYWxpZ25tZW50IGZvciB0b29sdGlwXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFt0b29sdGlwTWF4V2lkdGg9MzAwcHhdIC0gQ1NTIG1heCB3aWR0aCBmb3IgdG9vbHRpcFxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Nob3dTZWxlY3RlZE9wdGlvbnNGaXJzdD1mYWxzZV0gLSBTaG93IHNlbGVjdGVkIG9wdGlvbnMgYXQgdGhlIHRvcCBvZiB0aGUgZHJvcGJveFxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gLSBOYW1lIGF0dHJpYnV0ZSBmb3IgaGlkZGVuIGlucHV0XHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBba2VlcEFsd2F5c09wZW5dIC0gS2VlcCBkcm9wYm94IGFsd2F5cyBvcGVuIHdpdGggZml4ZWQgaGVpZ2h0XHJcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhWYWx1ZXM9MF0gLSBNYXhpbXVtIG5vLm9mIG9wdGlvbnMgYWxsb3dlZCB0byBjaG9vc2UgaW4gbXVsdGlwbGUgc2VsZWN0XHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFthZGRpdGlvbmFsQ2xhc3Nlc10gLSBBZGRpdGlvbmFsIGNsYXNzZXMgZm9yIHdyYXBwZXIgZWxlbWVudFxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Nob3dEcm9wYm94QXNQb3B1cD10cnVlXSAtIFNob3cgZHJvcGJveCBhcyBwb3B1cCBvbiBzbWFsbCBzY3JlZW4gbGlrZSBtb2JpbGVcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3BvcHVwRHJvcGJveEJyZWFrcG9pbnQ9NTc2cHhdIC0gTWF4aW11bSBzY3JlZW4gd2lkdGggdGhhdCBhbGxvd2VkIHRvIHNob3cgZHJvcGJveCBhcyBwb3B1cFxyXG4gICAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFtvblNlcnZlclNlYXJjaF0gLSBDYWxsYmFjayBmdW5jdGlvbiB0byBpbnRlZ3JhdGUgc2VydmVyIHNlYXJjaFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuc2V0UHJvcHMob3B0aW9ucyk7XHJcbiAgICAgIHRoaXMuc2V0RGlzYWJsZWRPcHRpb25zKG9wdGlvbnMuZGlzYWJsZWRPcHRpb25zKTtcclxuICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMub3B0aW9ucyk7XHJcbiAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgQ291bGRuJ3QgaW5pdGlhdGUgVmlydHVhbCBTZWxlY3RgKTtcclxuICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKiByZW5kZXIgbWV0aG9kcyAtIHN0YXJ0ICovXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgaWYgKCF0aGlzLiRlbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB3cmFwcGVyQ2xhc3NlcyA9ICd2c2NvbXAtd3JhcHBlcic7XHJcbiAgICBsZXQgdmFsdWVUb29sdGlwID0gdGhpcy5nZXRUb29sdGlwQXR0clRleHQoJycsICF0aGlzLm11bHRpcGxlLCB0cnVlKTtcclxuICAgIGxldCBjbGVhckJ1dHRvblRvb2x0aXAgPSB0aGlzLmdldFRvb2x0aXBBdHRyVGV4dCgnQ2xlYXInKTtcclxuXHJcbiAgICBsZXQgZHJvcGJveENvbnRhaW5lclN0eWxlID0ge1xyXG4gICAgICAnei1pbmRleCc6IHRoaXMuekluZGV4LFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodGhpcy5hZGRpdGlvbmFsQ2xhc3Nlcykge1xyXG4gICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnICcgKyB0aGlzLmFkZGl0aW9uYWxDbGFzc2VzO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgIHdyYXBwZXJDbGFzc2VzICs9ICcgbXVsdGlwbGUnO1xyXG5cclxuICAgICAgaWYgKCF0aGlzLmRpc2FibGVTZWxlY3RBbGwpIHtcclxuICAgICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnIGhhcy1zZWxlY3QtYWxsJztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnBvc2l0aW9uID09PSAndG9wJykge1xyXG4gICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnIHBvc2l0aW9uLXRvcCc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLmhpZGVDbGVhckJ1dHRvbikge1xyXG4gICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnIGhhcy1jbGVhci1idXR0b24nO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmtlZXBBbHdheXNPcGVuKSB7XHJcbiAgICAgIHdyYXBwZXJDbGFzc2VzICs9ICcga2VlcC1hbHdheXMtb3BlbiBvcGVuZWQnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd3JhcHBlckNsYXNzZXMgKz0gJyBjbG9zZWQnO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnNob3dBc1BvcHVwKSB7XHJcbiAgICAgIHdyYXBwZXJDbGFzc2VzICs9ICcgc2hvdy1hcy1wb3B1cCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5kcm9wYm94V2lkdGgpIHtcclxuICAgICAgICBkcm9wYm94Q29udGFpbmVyU3R5bGUud2lkdGggPSB0aGlzLmRyb3Bib3hXaWR0aDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmhhc1NlYXJjaCkge1xyXG4gICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnIGhhcy1zZWFyY2gtaW5wdXQnO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCIke3dyYXBwZXJDbGFzc2VzfVwiIHRhYmluZGV4PVwiMFwiPlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIiR7dGhpcy5uYW1lfVwiIGNsYXNzPVwidnNjb21wLWhpZGRlbi1pbnB1dFwiPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLXRvZ2dsZS1idXR0b25cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtdmFsdWVcIiAke3ZhbHVlVG9vbHRpcH0+XHJcbiAgICAgICAgICAgICR7dGhpcy5wbGFjZWhvbGRlcn1cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtYXJyb3dcIj48L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLWNsZWFyLWJ1dHRvbiB0b2dnbGUtYnV0dG9uLWNoaWxkXCIgJHtjbGVhckJ1dHRvblRvb2x0aXB9PlxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cInZzY29tcC1jbGVhci1pY29uXCI+PC9pPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtZHJvcGJveC1jb250YWluZXJcIiAke0RvbVV0aWxzLmdldFN0eWxlVGV4dChcclxuICAgICAgICAgIGRyb3Bib3hDb250YWluZXJTdHlsZVxyXG4gICAgICAgICl9PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC1kcm9wYm94XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtc2VhcmNoLXdyYXBwZXJcIj48L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtb3B0aW9ucy1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLW9wdGlvbnMtbG9hZGVyXCI+PC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtb3B0aW9ucy1saXN0XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLW9wdGlvbnNcIj48L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLW5vLW9wdGlvbnNcIj4ke3RoaXMubm9PcHRpb25zVGV4dH08L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC1uby1zZWFyY2gtcmVzdWx0c1wiPiR7XHJcbiAgICAgICAgICAgICAgdGhpcy5ub1NlYXJjaFJlc3VsdHNUZXh0XHJcbiAgICAgICAgICAgIH08L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidnNjb21wLWRyb3Bib3gtY2xvc2UtYnV0dG9uXCI+PGkgY2xhc3M9XCJ2c2NvbXAtY2xlYXItaWNvblwiPjwvaT48L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+YDtcclxuXHJcbiAgICB0aGlzLiRlbGUuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIHRoaXMuJGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XHJcbiAgICB0aGlzLiR3cmFwcGVyID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtd3JhcHBlcicpO1xyXG4gICAgdGhpcy4kdG9nZ2xlQnV0dG9uID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtdG9nZ2xlLWJ1dHRvbicpO1xyXG4gICAgdGhpcy4kY2xlYXJCdXR0b24gPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1jbGVhci1idXR0b24nKTtcclxuICAgIHRoaXMuJGRyb3Bib3hDb250YWluZXIgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy52c2NvbXAtZHJvcGJveC1jb250YWluZXInXHJcbiAgICApO1xyXG4gICAgdGhpcy4kZHJvcGJveENsb3NlQnV0dG9uID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICcudnNjb21wLWRyb3Bib3gtY2xvc2UtYnV0dG9uJ1xyXG4gICAgKTtcclxuICAgIHRoaXMuJHNlYXJjaCA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKCcudnNjb21wLXNlYXJjaC13cmFwcGVyJyk7XHJcbiAgICB0aGlzLiRvcHRpb25zQ29udGFpbmVyID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICcudnNjb21wLW9wdGlvbnMtY29udGFpbmVyJ1xyXG4gICAgKTtcclxuICAgIHRoaXMuJG9wdGlvbnNMaXN0ID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtb3B0aW9ucy1saXN0Jyk7XHJcbiAgICB0aGlzLiRvcHRpb25zID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtb3B0aW9ucycpO1xyXG4gICAgdGhpcy4kdmFsdWVUZXh0ID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtdmFsdWUnKTtcclxuICAgIHRoaXMuJGhpZGRlbklucHV0ID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtaGlkZGVuLWlucHV0Jyk7XHJcbiAgICB0aGlzLiRub09wdGlvbnMgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1uby1vcHRpb25zJyk7XHJcbiAgICB0aGlzLiRub1NlYXJjaFJlc3VsdHMgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy52c2NvbXAtbm8tc2VhcmNoLXJlc3VsdHMnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuYWZ0ZXJSZW5kZXJXcmFwcGVyKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJPcHRpb25zKCkge1xyXG4gICAgbGV0IGh0bWwgPSAnJztcclxuICAgIGxldCB2aXNpYmxlT3B0aW9ucyA9IHRoaXMuZ2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuICAgIGxldCBjaGVja2JveEh0bWwgPSAnJztcclxuICAgIGxldCBuZXdPcHRpb25JY29uSHRtbCA9ICcnO1xyXG4gICAgbGV0IG1hcmtTZWFyY2hSZXN1bHRzID1cclxuICAgICAgdGhpcy5tYXJrU2VhcmNoUmVzdWx0cyAmJiB0aGlzLnNlYXJjaFZhbHVlID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgbGV0IHNlYXJjaFJlZ2V4O1xyXG5cclxuICAgIGxldCBzdHlsZVRleHQgPSBEb21VdGlscy5nZXRTdHlsZVRleHQoe1xyXG4gICAgICBoZWlnaHQ6IHRoaXMub3B0aW9uSGVpZ2h0ICsgJ3B4JyxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChtYXJrU2VhcmNoUmVzdWx0cykge1xyXG4gICAgICBzZWFyY2hSZWdleCA9IG5ldyBSZWdFeHAoYCgke3RoaXMuc2VhcmNoVmFsdWV9KWAsICdnaScpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgIGNoZWNrYm94SHRtbCA9ICc8c3BhbiBjbGFzcz1cImNoZWNrYm94LWljb25cIj48L3NwYW4+JztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5hbGxvd05ld09wdGlvbikge1xyXG4gICAgICBsZXQgbmV3T3B0aW9uVG9vbHRpcCA9IHRoaXMuZ2V0VG9vbHRpcEF0dHJUZXh0KCdOZXcgT3B0aW9uJyk7XHJcbiAgICAgIG5ld09wdGlvbkljb25IdG1sID0gYDxzcGFuIGNsYXNzPVwidnNjb21wLW5ldy1vcHRpb24taWNvblwiICR7bmV3T3B0aW9uVG9vbHRpcH0+PC9zcGFuPmA7XHJcbiAgICB9XHJcblxyXG4gICAgdmlzaWJsZU9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBsZXQgb3B0aW9uTGFiZWwgPSBkLmxhYmVsO1xyXG4gICAgICBsZXQgb3B0aW9uQ2xhc3NlcyA9ICd2c2NvbXAtb3B0aW9uJztcclxuICAgICAgbGV0IG9wdGlvblRvb2x0aXAgPSB0aGlzLmdldFRvb2x0aXBBdHRyVGV4dCgnJywgdHJ1ZSk7XHJcbiAgICAgIGxldCBsZWZ0U2VjdGlvbiA9IGNoZWNrYm94SHRtbDtcclxuICAgICAgbGV0IHJpZ2h0U2VjdGlvbiA9ICcnO1xyXG4gICAgICBsZXQgZGVzY3JpcHRpb24gPSAnJztcclxuXHJcbiAgICAgIGlmIChkLmlzRm9jdXNlZCkge1xyXG4gICAgICAgIG9wdGlvbkNsYXNzZXMgKz0gJyBmb2N1c2VkJztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGQuaXNEaXNhYmxlZCkge1xyXG4gICAgICAgIG9wdGlvbkNsYXNzZXMgKz0gJyBkaXNhYmxlZCc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkLmlzR3JvdXBUaXRsZSkge1xyXG4gICAgICAgIG9wdGlvbkNsYXNzZXMgKz0gJyBncm91cC10aXRsZSc7XHJcbiAgICAgICAgbGVmdFNlY3Rpb24gPSAnJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoZC5pc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICBvcHRpb25DbGFzc2VzICs9ICcgc2VsZWN0ZWQnO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGQuaXNHcm91cE9wdGlvbikge1xyXG4gICAgICAgIG9wdGlvbkNsYXNzZXMgKz0gJyBncm91cC1vcHRpb24nO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZC5kZXNjcmlwdGlvbikge1xyXG4gICAgICAgIGRlc2NyaXB0aW9uID0gYDxkaXYgY2xhc3M9XCJ2c2NvbXAtb3B0aW9uLWRlc2NyaXB0aW9uXCIgJHtvcHRpb25Ub29sdGlwfT4ke2QuZGVzY3JpcHRpb259PC9kaXY+YDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGQuaXNDdXJyZW50TmV3KSB7XHJcbiAgICAgICAgb3B0aW9uQ2xhc3NlcyArPSAnIGN1cnJlbnQtbmV3JztcclxuICAgICAgICByaWdodFNlY3Rpb24gKz0gbmV3T3B0aW9uSWNvbkh0bWw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKG1hcmtTZWFyY2hSZXN1bHRzICYmICFkLmlzR3JvdXBUaXRsZSkge1xyXG4gICAgICAgICAgb3B0aW9uTGFiZWwgPSBvcHRpb25MYWJlbC5yZXBsYWNlKHNlYXJjaFJlZ2V4LCAnPG1hcms+JDE8L21hcms+Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtvcHRpb25DbGFzc2VzfVwiIGRhdGEtdmFsdWU9XCIke2QudmFsdWV9XCIgZGF0YS1pbmRleD1cIiR7ZC5pbmRleH1cIiBkYXRhLXZpc2libGUtaW5kZXg9XCIke2QudmlzaWJsZUluZGV4fVwiICR7c3R5bGVUZXh0fT5cclxuICAgICAgICAgICR7bGVmdFNlY3Rpb259XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInZzY29tcC1vcHRpb24tdGV4dFwiICR7b3B0aW9uVG9vbHRpcH0+XHJcbiAgICAgICAgICAgICR7b3B0aW9uTGFiZWx9XHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAke2Rlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgJHtyaWdodFNlY3Rpb259XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuJG9wdGlvbnMuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIGxldCBoYXNOb09wdGlvbnMgPSAhdGhpcy5vcHRpb25zLmxlbmd0aDtcclxuICAgIGxldCBoYXNOb1NlYXJjaFJlc3VsdHMgPSAhaGFzTm9PcHRpb25zICYmICF2aXNpYmxlT3B0aW9ucy5sZW5ndGg7XHJcblxyXG4gICAgaWYgKCF0aGlzLmFsbG93TmV3T3B0aW9uKSB7XHJcbiAgICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKFxyXG4gICAgICAgIHRoaXMuJHdyYXBwZXIsXHJcbiAgICAgICAgJ2hhcy1uby1zZWFyY2gtcmVzdWx0cycsXHJcbiAgICAgICAgaGFzTm9TZWFyY2hSZXN1bHRzXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgRG9tVXRpbHMudG9nZ2xlQ2xhc3ModGhpcy4kd3JhcHBlciwgJ2hhcy1uby1vcHRpb25zJywgaGFzTm9PcHRpb25zKTtcclxuICAgIHRoaXMuc2V0T3B0aW9uc1Bvc2l0aW9uKCk7XHJcbiAgICB0aGlzLnNldE9wdGlvbnNUb29sdGlwKCk7XHJcbiAgICAvL3RoaXMubW92ZUZvY3VzZWRPcHRpb25Ub1ZpZXcoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlclNlYXJjaCgpIHtcclxuICAgIGlmICghdGhpcy5oYXNTZWFyY2hDb250YWluZXIpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBjaGVja2JveEh0bWwgPSAnJztcclxuICAgIGxldCBzZWFyY2hJbnB1dCA9ICcnO1xyXG5cclxuICAgIGlmICh0aGlzLm11bHRpcGxlICYmICF0aGlzLmRpc2FibGVTZWxlY3RBbGwpIHtcclxuICAgICAgY2hlY2tib3hIdG1sID0gYDxzcGFuIGNsYXNzPVwidnNjb21wLXRvZ2dsZS1hbGwtYnV0dG9uXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImNoZWNrYm94LWljb24gdnNjb21wLXRvZ2dsZS1hbGwtY2hlY2tib3hcIj48L3NwYW4+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInZzY29tcC10b2dnbGUtYWxsLWxhYmVsXCI+JHt0aGlzLnNlbGVjdEFsbFRleHR9PC9zcGFuPlxyXG4gICAgICAgIDwvc3Bhbj5gO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmhhc1NlYXJjaCkge1xyXG4gICAgICBzZWFyY2hJbnB1dCA9IGA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cInZzY29tcC1zZWFyY2gtaW5wdXRcIiBwbGFjZWhvbGRlcj1cIlNlYXJjaC4uLlwiPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cInZzY29tcC1zZWFyY2gtY2xlYXJcIj4mdGltZXM7PC9zcGFuPmA7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGh0bWwgPSBgPGRpdiBjbGFzcz1cInZzY29tcC1zZWFyY2gtY29udGFpbmVyXCI+XHJcbiAgICAgICAgJHtjaGVja2JveEh0bWx9XHJcbiAgICAgICAgJHtzZWFyY2hJbnB1dH1cclxuICAgICAgPC9kaXY+YDtcclxuXHJcbiAgICB0aGlzLiRzZWFyY2guaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIHRoaXMuJHNlYXJjaElucHV0ID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtc2VhcmNoLWlucHV0Jyk7XHJcbiAgICB0aGlzLiRzZWFyY2hDbGVhciA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKCcudnNjb21wLXNlYXJjaC1jbGVhcicpO1xyXG4gICAgdGhpcy4kdG9nZ2xlQWxsQnV0dG9uID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICcudnNjb21wLXRvZ2dsZS1hbGwtYnV0dG9uJ1xyXG4gICAgKTtcclxuICAgIHRoaXMuJHRvZ2dsZUFsbENoZWNrYm94ID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICcudnNjb21wLXRvZ2dsZS1hbGwtY2hlY2tib3gnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuYWRkRXZlbnQodGhpcy4kc2VhcmNoSW5wdXQsICdrZXl1cCBjaGFuZ2UnLCAnb25TZWFyY2gnKTtcclxuICAgIHRoaXMuYWRkRXZlbnQodGhpcy4kc2VhcmNoQ2xlYXIsICdjbGljaycsICdvblNlYXJjaENsZWFyJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJHRvZ2dsZUFsbEJ1dHRvbiwgJ2NsaWNrJywgJ29uVG9nZ2xlQWxsT3B0aW9ucycpO1xyXG4gIH1cclxuICAvKiogcmVuZGVyIG1ldGhvZHMgLSBlbmQgKi9cclxuXHJcbiAgLyoqIGRvbSBldmVudCBtZXRob2RzIC0gc3RhcnQgKi9cclxuICBhZGRFdmVudHMoKSB7XHJcbiAgICB0aGlzLmFkZEV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCAnb25Eb2N1bWVudENsaWNrJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJHdyYXBwZXIsICdrZXlkb3duJywgJ29uS2V5RG93bicpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiR0b2dnbGVCdXR0b24sICdjbGljaycsICdvblRvZ2dsZUJ1dHRvbkNsaWNrJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJGNsZWFyQnV0dG9uLCAnY2xpY2snLCAnb25DbGVhckJ1dHRvbkNsaWNrJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJGRyb3Bib3hDb250YWluZXIsICdjbGljaycsICdvbkRyb3Bib3hDb250YWluZXJDbGljaycpO1xyXG4gICAgdGhpcy5hZGRFdmVudChcclxuICAgICAgdGhpcy4kZHJvcGJveENsb3NlQnV0dG9uLFxyXG4gICAgICAnY2xpY2snLFxyXG4gICAgICAnb25Ecm9wYm94Q2xvc2VCdXR0b25DbGljaydcclxuICAgICk7XHJcbiAgICBpZiAodGhpcy5vdmVycmlkZVNjcm9sbEV2ZW50U2VsZWN0b3IpIHtcclxuICAgICAgdGhpcy5hZGRFdmVudChcclxuICAgICAgICB0aGlzLiRlbGUucXVlcnlTZWxlY3Rvcih0aGlzLm92ZXJyaWRlU2Nyb2xsRXZlbnRTZWxlY3RvciksXHJcbiAgICAgICAgJ3Njcm9sbCcsXHJcbiAgICAgICAgJ29uT3B0aW9uc1Njcm9sbCdcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYWRkRXZlbnQodGhpcy4kb3B0aW9uc0NvbnRhaW5lciwgJ3Njcm9sbCcsICdvbk9wdGlvbnNTY3JvbGwnKTtcclxuICAgIH1cclxuICAgIHRoaXMuYWRkRXZlbnQodGhpcy4kb3B0aW9ucywgJ2NsaWNrJywgJ29uT3B0aW9uc0NsaWNrJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJG9wdGlvbnMsICdtb3VzZW92ZXInLCAnb25PcHRpb25zTW91c2VPdmVyJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJG9wdGlvbnMsICd0b3VjaG1vdmUnLCAnb25PcHRpb25zVG91Y2hNb3ZlJyk7XHJcbiAgfVxyXG5cclxuICBhZGRFdmVudCgkZWxlLCBldmVudHMsIG1ldGhvZCkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBldmVudHMgPSBVdGlscy5yZW1vdmVBcnJheUVtcHR5KGV2ZW50cy5zcGxpdCgnICcpKTtcclxuXHJcbiAgICBldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHtcclxuICAgICAgbGV0IGV2ZW50c0tleSA9IGAke21ldGhvZH0tJHtldmVudH1gO1xyXG4gICAgICBsZXQgY2FsbGJhY2sgPSB0aGlzLmV2ZW50c1tldmVudHNLZXldO1xyXG5cclxuICAgICAgaWYgKCFjYWxsYmFjaykge1xyXG4gICAgICAgIGNhbGxiYWNrID0gdGhpc1ttZXRob2RdLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRzS2V5XSA9IGNhbGxiYWNrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkZWxlID0gRG9tVXRpbHMuZ2V0RWxlbWVudHMoJGVsZSk7XHJcblxyXG4gICAgICAkZWxlLmZvckVhY2goKF90aGlzKSA9PiB7XHJcbiAgICAgICAgX3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGlzcGF0Y2hFdmVudCgkZWxlLCBldmVudE5hbWUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgJGVsZSA9IERvbVV0aWxzLmdldEVsZW1lbnRzKCRlbGUpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAkZWxlLmZvckVhY2goKF90aGlzKSA9PiB7XHJcbiAgICAgICAgX3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoZXZlbnROYW1lLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xyXG4gICAgICB9KTtcclxuICAgIH0sIDApO1xyXG4gIH1cclxuXHJcbiAgb25Eb2N1bWVudENsaWNrKGUpIHtcclxuICAgIFZpcnR1YWxTZWxlY3QuY2xvc2VBbGxEcm9wYm94KGUudGFyZ2V0LmNsb3Nlc3QoJy52c2NvbXAtd3JhcHBlcicpKTtcclxuICB9XHJcblxyXG4gIG9uS2V5RG93bihlKSB7XHJcbiAgICBsZXQga2V5ID0gZS53aGljaCB8fCBlLmtleUNvZGU7XHJcbiAgICBsZXQgbWV0aG9kID0ga2V5RG93bk1ldGhvZE1hcHBpbmdba2V5XTtcclxuXHJcbiAgICBpZiAobWV0aG9kKSB7XHJcbiAgICAgIHRoaXNbbWV0aG9kXShlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uRW50ZXJQcmVzcygpIHtcclxuICAgIGlmICghdGhpcy5pc09wZW5lZCgpKSB7XHJcbiAgICAgIHRoaXMub3BlbkRyb3Bib3goKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0Rm9jdXNlZE9wdGlvbigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25Fc2NQcmVzcygpIHtcclxuICAgIGlmICh0aGlzLmlzT3BlbmVkKCkpIHtcclxuICAgICAgdGhpcy5jbG9zZURyb3Bib3goKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uRG93bkFycm93UHJlc3MoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzT3BlbmVkKCkpIHtcclxuICAgICAgdGhpcy5mb2N1c09wdGlvbignbmV4dCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vcGVuRHJvcGJveCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25VcEFycm93UHJlc3MoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzT3BlbmVkKCkpIHtcclxuICAgICAgdGhpcy5mb2N1c09wdGlvbigncHJldmlvdXMnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMub3BlbkRyb3Bib3goKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uVG9nZ2xlQnV0dG9uQ2xpY2soZSkge1xyXG4gICAgbGV0IGNoaWxkRWxlID0gZS50YXJnZXQuY2xvc2VzdCgnLnRvZ2dsZS1idXR0b24tY2hpbGQnKTtcclxuXHJcbiAgICBpZiAoY2hpbGRFbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudG9nZ2xlRHJvcGJveCgpO1xyXG4gIH1cclxuXHJcbiAgb25DbGVhckJ1dHRvbkNsaWNrKCkge1xyXG4gICAgdGhpcy5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgb25PcHRpb25zU2Nyb2xsKCkge1xyXG4gICAgdGhpcy5zZXRWaXNpYmxlT3B0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgb25PcHRpb25zQ2xpY2soZSkge1xyXG4gICAgdGhpcy5zZWxlY3RPcHRpb24oXHJcbiAgICAgIGUudGFyZ2V0LmNsb3Nlc3QoJy52c2NvbXAtb3B0aW9uOm5vdCguZGlzYWJsZWQpOm5vdCguZ3JvdXAtdGl0bGUpJylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBvbkRyb3Bib3hDb250YWluZXJDbGljayhlKSB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy52c2NvbXAtZHJvcGJveCcpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VEcm9wYm94KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkRyb3Bib3hDbG9zZUJ1dHRvbkNsaWNrKCkge1xyXG4gICAgdGhpcy5jbG9zZURyb3Bib3goKTtcclxuICB9XHJcblxyXG4gIG9uT3B0aW9uc01vdXNlT3ZlcihlKSB7XHJcbiAgICBsZXQgJGVsZSA9IGUudGFyZ2V0LmNsb3Nlc3QoXHJcbiAgICAgICcudnNjb21wLW9wdGlvbjpub3QoLmRpc2FibGVkKTpub3QoLmdyb3VwLXRpdGxlKSdcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCRlbGUpIHtcclxuICAgICAgdGhpcy5mb2N1c09wdGlvbihudWxsLCAkZWxlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uT3B0aW9uc1RvdWNoTW92ZSgpIHtcclxuICAgIHRoaXMucmVtb3ZlT3B0aW9uRm9jdXMoKTtcclxuICB9XHJcblxyXG4gIG9uU2VhcmNoKGUpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB0aGlzLnNldFNlYXJjaFZhbHVlKGUudGFyZ2V0LnZhbHVlLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIG9uU2VhcmNoQ2xlYXIoKSB7XHJcbiAgICB0aGlzLnNldFNlYXJjaFZhbHVlKCcnKTtcclxuICAgIHRoaXMuZm9jdXNTZWFyY2hJbnB1dCgpO1xyXG4gIH1cclxuXHJcbiAgb25Ub2dnbGVBbGxPcHRpb25zKCkge1xyXG4gICAgdGhpcy50b2dnbGVBbGxPcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICBvblJlc2l6ZSgpIHtcclxuICAgIHRoaXMuc2V0T3B0aW9uc0NvbnRhaW5lckhlaWdodCh0cnVlKTtcclxuICB9XHJcbiAgLyoqIGRvbSBldmVudCBtZXRob2RzIC0gZW5kICovXHJcblxyXG4gIC8qKiBhZnRlciBldmVudCBtZXRob2RzIC0gc3RhcnQgKi9cclxuICBhZnRlclJlbmRlcldyYXBwZXIoKSB7XHJcbiAgICB0aGlzLiRlbGUuc2V0QXR0cmlidXRlKCduYW1lJywgdGhpcy5uYW1lKTtcclxuXHJcbiAgICBEb21VdGlscy5hZGRDbGFzcyh0aGlzLiRlbGUsICd2c2NvbXAtZWxlJyk7XHJcbiAgICB0aGlzLnJlbmRlclNlYXJjaCgpO1xyXG4gICAgdGhpcy5zZXRPcHRpb25zSGVpZ2h0KCk7XHJcbiAgICB0aGlzLnNldFZpc2libGVPcHRpb25zKCk7XHJcbiAgICB0aGlzLnNldE9wdGlvbnNDb250YWluZXJIZWlnaHQoKTtcclxuICAgIHRoaXMuYWRkRXZlbnRzKCk7XHJcbiAgICB0aGlzLnNldE1ldGhvZHMoKTtcclxuXHJcbiAgICBpZiAodGhpcy5pbml0aWFsU2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICB0aGlzLnNldFZhbHVlTWV0aG9kKFxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFNlbGVjdGVkVmFsdWUsXHJcbiAgICAgICAgdGhpcy5zaWxlbnRJbml0aWFsVmFsdWVTZXRcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5hdXRvU2VsZWN0Rmlyc3RPcHRpb24gJiYgdGhpcy52aXNpYmxlT3B0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5zZXRWYWx1ZU1ldGhvZChcclxuICAgICAgICB0aGlzLnZpc2libGVPcHRpb25zWzBdLnZhbHVlLFxyXG4gICAgICAgIHRoaXMuc2lsZW50SW5pdGlhbFZhbHVlU2V0XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhZnRlclNldE9wdGlvbnNDb250YWluZXJIZWlnaHQocmVzZXQpIHtcclxuICAgIGlmIChyZXNldCkge1xyXG4gICAgICBpZiAodGhpcy5zaG93QXNQb3B1cCkge1xyXG4gICAgICAgIHRoaXMuc2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKiogYWZ0ZXIgZXZlbnQgbWV0aG9kcyAtIGVuZCAqL1xyXG5cclxuICAvKiogc2V0IG1ldGhvZHMgLSBzdGFydCAqL1xyXG4gIHNldFByb3BzKG9wdGlvbnMpIHtcclxuICAgIG9wdGlvbnMgPSB0aGlzLnNldERlZmF1bHRQcm9wcyhvcHRpb25zKTtcclxuICAgIHRoaXMuc2V0UHJvcHNGcm9tRWxlbWVudEF0dHIob3B0aW9ucyk7XHJcblxyXG4gICAgbGV0IGNvbnZlcnRUb0Jvb2xlYW4gPSBVdGlscy5jb252ZXJ0VG9Cb29sZWFuO1xyXG5cclxuICAgIHRoaXMuJGVsZSA9IG9wdGlvbnMuZWxlO1xyXG4gICAgdGhpcy52YWx1ZUtleSA9IG9wdGlvbnMudmFsdWVLZXk7XHJcbiAgICB0aGlzLmxhYmVsS2V5ID0gb3B0aW9ucy5sYWJlbEtleTtcclxuICAgIHRoaXMuZGVzY3JpcHRpb25LZXkgPSBvcHRpb25zLmRlc2NyaXB0aW9uS2V5O1xyXG4gICAgdGhpcy5hbGlhc0tleSA9IG9wdGlvbnMuYWxpYXNLZXk7XHJcbiAgICB0aGlzLm9wdGlvbkhlaWdodFRleHQgPSBvcHRpb25zLm9wdGlvbkhlaWdodDtcclxuICAgIHRoaXMub3B0aW9uSGVpZ2h0ID0gcGFyc2VGbG9hdCh0aGlzLm9wdGlvbkhlaWdodFRleHQpO1xyXG4gICAgdGhpcy5tdWx0aXBsZSA9IGNvbnZlcnRUb0Jvb2xlYW4ob3B0aW9ucy5tdWx0aXBsZSk7XHJcbiAgICB0aGlzLmhhc1NlYXJjaCA9IGNvbnZlcnRUb0Jvb2xlYW4ob3B0aW9ucy5zZWFyY2gpO1xyXG4gICAgdGhpcy5oaWRlQ2xlYXJCdXR0b24gPSBjb252ZXJ0VG9Cb29sZWFuKG9wdGlvbnMuaGlkZUNsZWFyQnV0dG9uKTtcclxuICAgIHRoaXMuYXV0b1NlbGVjdEZpcnN0T3B0aW9uID0gY29udmVydFRvQm9vbGVhbihcclxuICAgICAgb3B0aW9ucy5hdXRvU2VsZWN0Rmlyc3RPcHRpb25cclxuICAgICk7XHJcbiAgICB0aGlzLmhhc09wdGlvbkRlc2NyaXB0aW9uID0gY29udmVydFRvQm9vbGVhbihvcHRpb25zLmhhc09wdGlvbkRlc2NyaXB0aW9uKTtcclxuICAgIHRoaXMuc2lsZW50SW5pdGlhbFZhbHVlU2V0ID0gY29udmVydFRvQm9vbGVhbihcclxuICAgICAgb3B0aW9ucy5zaWxlbnRJbml0aWFsVmFsdWVTZXRcclxuICAgICk7XHJcbiAgICB0aGlzLmFsbG93TmV3T3B0aW9uID0gY29udmVydFRvQm9vbGVhbihvcHRpb25zLmFsbG93TmV3T3B0aW9uKTtcclxuICAgIHRoaXMubWFya1NlYXJjaFJlc3VsdHMgPSBjb252ZXJ0VG9Cb29sZWFuKG9wdGlvbnMubWFya1NlYXJjaFJlc3VsdHMpO1xyXG4gICAgdGhpcy5zaG93U2VsZWN0ZWRPcHRpb25zRmlyc3QgPSBjb252ZXJ0VG9Cb29sZWFuKFxyXG4gICAgICBvcHRpb25zLnNob3dTZWxlY3RlZE9wdGlvbnNGaXJzdFxyXG4gICAgKTtcclxuICAgIHRoaXMuZGlzYWJsZVNlbGVjdEFsbCA9IGNvbnZlcnRUb0Jvb2xlYW4ob3B0aW9ucy5kaXNhYmxlU2VsZWN0QWxsKTtcclxuICAgIHRoaXMua2VlcEFsd2F5c09wZW4gPSBjb252ZXJ0VG9Cb29sZWFuKG9wdGlvbnMua2VlcEFsd2F5c09wZW4pO1xyXG4gICAgdGhpcy5zaG93RHJvcGJveEFzUG9wdXAgPSBjb252ZXJ0VG9Cb29sZWFuKG9wdGlvbnMuc2hvd0Ryb3Bib3hBc1BvcHVwKTtcclxuICAgIHRoaXMubm9PcHRpb25zVGV4dCA9IG9wdGlvbnMubm9PcHRpb25zVGV4dDtcclxuICAgIHRoaXMubm9TZWFyY2hSZXN1bHRzVGV4dCA9IG9wdGlvbnMubm9TZWFyY2hSZXN1bHRzVGV4dDtcclxuICAgIHRoaXMuc2VsZWN0QWxsVGV4dCA9IG9wdGlvbnMuc2VsZWN0QWxsVGV4dDtcclxuICAgIHRoaXMucGxhY2Vob2xkZXIgPSBvcHRpb25zLnBsYWNlaG9sZGVyO1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb247XHJcbiAgICB0aGlzLmRyb3Bib3hXaWR0aCA9IG9wdGlvbnMuZHJvcGJveFdpZHRoO1xyXG4gICAgdGhpcy50b29sdGlwRm9udFNpemUgPSBvcHRpb25zLnRvb2x0aXBGb250U2l6ZTtcclxuICAgIHRoaXMudG9vbHRpcEFsaWdubWVudCA9IG9wdGlvbnMudG9vbHRpcEFsaWdubWVudDtcclxuICAgIHRoaXMudG9vbHRpcE1heFdpZHRoID0gb3B0aW9ucy50b29sdGlwTWF4V2lkdGg7XHJcbiAgICB0aGlzLm5vT2ZEaXNwbGF5VmFsdWVzID0gcGFyc2VJbnQob3B0aW9ucy5ub09mRGlzcGxheVZhbHVlcyk7XHJcbiAgICB0aGlzLnpJbmRleCA9IHBhcnNlSW50KG9wdGlvbnMuekluZGV4KTtcclxuICAgIHRoaXMubWF4VmFsdWVzID0gcGFyc2VJbnQob3B0aW9ucy5tYXhWYWx1ZXMpO1xyXG4gICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lO1xyXG4gICAgdGhpcy5hZGRpdGlvbmFsQ2xhc3NlcyA9IG9wdGlvbnMuYWRkaXRpb25hbENsYXNzZXM7XHJcbiAgICB0aGlzLmluaXRpYWxTZWxlY3RlZFZhbHVlID0gb3B0aW9ucy5zZWxlY3RlZFZhbHVlO1xyXG4gICAgdGhpcy5wb3B1cERyb3Bib3hCcmVha3BvaW50ID0gb3B0aW9ucy5wb3B1cERyb3Bib3hCcmVha3BvaW50O1xyXG4gICAgdGhpcy5vblNlcnZlclNlYXJjaCA9IG9wdGlvbnMub25TZXJ2ZXJTZWFyY2g7XHJcblxyXG4gICAgdGhpcy5zZWxlY3RlZFZhbHVlcyA9IFtdO1xyXG4gICAgdGhpcy5uZXdWYWx1ZXMgPSBbXTtcclxuICAgIHRoaXMuZXZlbnRzID0ge307XHJcbiAgICB0aGlzLnRvb2x0aXBFbnRlckRlbGF5ID0gMjAwO1xyXG4gICAgdGhpcy50cmFuc2l0aW9uRHVyYXRpb24gPSAyNTA7XHJcbiAgICB0aGlzLnNlYXJjaFZhbHVlID0gJyc7XHJcbiAgICB0aGlzLnNlYXJjaFZhbHVlT3JpZ2luYWwgPSAnJztcclxuICAgIHRoaXMuaXNBbGxTZWxlY3RlZCA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgKG9wdGlvbnMuc2VhcmNoID09PSB1bmRlZmluZWQgJiYgdGhpcy5tdWx0aXBsZSkgfHxcclxuICAgICAgdGhpcy5hbGxvd05ld09wdGlvblxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuaGFzU2VhcmNoID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5tYXhWYWx1ZXMpIHtcclxuICAgICAgdGhpcy5kaXNhYmxlU2VsZWN0QWxsID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmhhc1NlcnZlclNlYXJjaCA9IHR5cGVvZiB0aGlzLm9uU2VydmVyU2VhcmNoID09PSAnZnVuY3Rpb24nO1xyXG4gICAgdGhpcy5zaG93QXNQb3B1cCA9XHJcbiAgICAgIHRoaXMuc2hvd0Ryb3Bib3hBc1BvcHVwICYmXHJcbiAgICAgICF0aGlzLmtlZXBBbHdheXNPcGVuICYmXHJcbiAgICAgIHdpbmRvdy5pbm5lcldpZHRoIDw9IHBhcnNlRmxvYXQodGhpcy5wb3B1cERyb3Bib3hCcmVha3BvaW50KTtcclxuICAgIHRoaXMuaGFzU2VhcmNoQ29udGFpbmVyID1cclxuICAgICAgdGhpcy5oYXNTZWFyY2ggfHwgKHRoaXMubXVsdGlwbGUgJiYgIXRoaXMuZGlzYWJsZVNlbGVjdEFsbCk7XHJcbiAgICB0aGlzLm9wdGlvbnNDb3VudCA9IHRoaXMuZ2V0T3B0aW9uc0NvdW50KG9wdGlvbnMub3B0aW9uc0NvdW50KTtcclxuICAgIHRoaXMuaGFsZk9wdGlvbnNDb3VudCA9IE1hdGguY2VpbCh0aGlzLm9wdGlvbnNDb3VudCAvIDIpO1xyXG4gICAgdGhpcy5vcHRpb25zSGVpZ2h0ID0gdGhpcy5nZXRPcHRpb25zSGVpZ2h0KCk7XHJcbiAgfVxyXG5cclxuICBzZXREZWZhdWx0UHJvcHMob3B0aW9ucykge1xyXG4gICAgbGV0IGRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgICB2YWx1ZUtleTogJ3ZhbHVlJyxcclxuICAgICAgbGFiZWxLZXk6ICdsYWJlbCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uS2V5OiAnZGVzY3JpcHRpb24nLFxyXG4gICAgICBhbGlhc0tleTogJ2FsaWFzJyxcclxuICAgICAgb3B0aW9uc0NvdW50OiA1LFxyXG4gICAgICBub09mRGlzcGxheVZhbHVlczogNTAsXHJcbiAgICAgIG9wdGlvbkhlaWdodDogJzQwcHgnLFxyXG4gICAgICBtdWx0aXBsZTogZmFsc2UsXHJcbiAgICAgIGhpZGVDbGVhckJ1dHRvbjogZmFsc2UsXHJcbiAgICAgIGF1dG9TZWxlY3RGaXJzdE9wdGlvbjogZmFsc2UsXHJcbiAgICAgIGhhc09wdGlvbkRlc2NyaXB0aW9uOiBmYWxzZSxcclxuICAgICAgc2lsZW50SW5pdGlhbFZhbHVlU2V0OiBmYWxzZSxcclxuICAgICAgZGlzYWJsZVNlbGVjdEFsbDogZmFsc2UsXHJcbiAgICAgIG5vT3B0aW9uc1RleHQ6ICdObyBvcHRpb25zIGZvdW5kJyxcclxuICAgICAgbm9TZWFyY2hSZXN1bHRzVGV4dDogJ05vIHJlc3VsdHMgZm91bmQnLFxyXG4gICAgICBzZWxlY3RBbGxUZXh0OiAnU2VsZWN0IEFsbCcsXHJcbiAgICAgIHBsYWNlaG9sZGVyOiAnU2VsZWN0JyxcclxuICAgICAgcG9zaXRpb246ICdhdXRvJyxcclxuICAgICAgekluZGV4OiAxLFxyXG4gICAgICBhbGxvd05ld09wdGlvbjogZmFsc2UsXHJcbiAgICAgIG1hcmtTZWFyY2hSZXN1bHRzOiBmYWxzZSxcclxuICAgICAgdG9vbHRpcEZvbnRTaXplOiAnMTRweCcsXHJcbiAgICAgIHRvb2x0aXBBbGlnbm1lbnQ6ICdjZW50ZXInLFxyXG4gICAgICB0b29sdGlwTWF4V2lkdGg6ICczMDBweCcsXHJcbiAgICAgIHNob3dTZWxlY3RlZE9wdGlvbnNGaXJzdDogZmFsc2UsXHJcbiAgICAgIG5hbWU6ICcnLFxyXG4gICAgICBhZGRpdGlvbmFsQ2xhc3NlczogJycsXHJcbiAgICAgIGtlZXBBbHdheXNPcGVuOiBmYWxzZSxcclxuICAgICAgbWF4VmFsdWVzOiAwLFxyXG4gICAgICBzaG93RHJvcGJveEFzUG9wdXA6IHRydWUsXHJcbiAgICAgIHBvcHVwRHJvcGJveEJyZWFrcG9pbnQ6ICc1NzZweCcsXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChvcHRpb25zLmhhc09wdGlvbkRlc2NyaXB0aW9uKSB7XHJcbiAgICAgIGRlZmF1bHRPcHRpb25zLm9wdGlvbnNDb3VudCA9IDQ7XHJcbiAgICAgIGRlZmF1bHRPcHRpb25zLm9wdGlvbkhlaWdodCA9ICc2MHB4JztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBzZXRQcm9wc0Zyb21FbGVtZW50QXR0cihvcHRpb25zKSB7XHJcbiAgICBsZXQgJGVsZSA9IG9wdGlvbnMuZWxlO1xyXG4gICAgbGV0IG1hcHBpbmcgPSB7XHJcbiAgICAgIG11bHRpcGxlOiAnbXVsdGlwbGUnLFxyXG4gICAgICBwbGFjZWhvbGRlcjogJ3BsYWNlaG9sZGVyJyxcclxuICAgICAgbmFtZTogJ25hbWUnLFxyXG4gICAgICAnZGF0YS12YWx1ZS1rZXknOiAndmFsdWVLZXknLFxyXG4gICAgICAnZGF0YS1sYWJlbC1rZXknOiAnbGFiZWxLZXknLFxyXG4gICAgICAnZGF0YS1kZXNjcmlwdGlvbi1rZXknOiAnZGVzY3JpcHRpb25LZXknLFxyXG4gICAgICAnZGF0YS1hbGlhcy1rZXknOiAnYWxpYXNLZXknLFxyXG4gICAgICAnZGF0YS1zZWFyY2gnOiAnc2VhcmNoJyxcclxuICAgICAgJ2RhdGEtaGlkZS1jbGVhci1idXR0b24nOiAnaGlkZUNsZWFyQnV0dG9uJyxcclxuICAgICAgJ2RhdGEtYXV0by1zZWxlY3QtZmlyc3Qtb3B0aW9uJzogJ2F1dG9TZWxlY3RGaXJzdE9wdGlvbicsXHJcbiAgICAgICdkYXRhLWhhcy1vcHRpb24tZGVzY3JpcHRpb24nOiAnaGFzT3B0aW9uRGVzY3JpcHRpb24nLFxyXG4gICAgICAnZGF0YS1vcHRpb25zLWNvdW50JzogJ29wdGlvbnNDb3VudCcsXHJcbiAgICAgICdkYXRhLW9wdGlvbi1oZWlnaHQnOiAnb3B0aW9uSGVpZ2h0JyxcclxuICAgICAgJ2RhdGEtcG9zaXRpb24nOiAncG9zaXRpb24nLFxyXG4gICAgICAnZGF0YS1uby1vcHRpb25zLXRleHQnOiAnbm9PcHRpb25zVGV4dCcsXHJcbiAgICAgICdkYXRhLW5vLXNlYXJjaC1yZXN1bHRzLXRleHQnOiAnbm9TZWFyY2hSZXN1bHRzVGV4dCcsXHJcbiAgICAgICdkYXRhLXNlbGVjdC1hbGwtdGV4dCc6ICdzZWxlY3RBbGxUZXh0JyxcclxuICAgICAgJ2RhdGEtc2lsZW50LWluaXRpYWwtdmFsdWUtc2V0JzogJ3NpbGVudEluaXRpYWxWYWx1ZVNldCcsXHJcbiAgICAgICdkYXRhLWRyb3Bib3gtd2lkdGgnOiAnZHJvcGJveFdpZHRoJyxcclxuICAgICAgJ2RhdGEtei1pbmRleCc6ICd6SW5kZXgnLFxyXG4gICAgICAnZGF0YS1uby1vZi1kaXNwbGF5LXZhbHVlcyc6ICdub09mRGlzcGxheVZhbHVlcycsXHJcbiAgICAgICdkYXRhLWFsbG93LW5ldy1vcHRpb24nOiAnYWxsb3dOZXdPcHRpb24nLFxyXG4gICAgICAnZGF0YS1tYXJrLXNlYXJjaC1yZXN1bHRzJzogJ21hcmtTZWFyY2hSZXN1bHRzJyxcclxuICAgICAgJ2RhdGEtdG9vbHRpcC1mb250LXNpemUnOiAndG9vbHRpcEZvbnRTaXplJyxcclxuICAgICAgJ2RhdGEtdG9vbHRpcC1hbGlnbm1lbnQnOiAndG9vbHRpcEFsaWdubWVudCcsXHJcbiAgICAgICdkYXRhLXRvb2x0aXAtbWF4LXdpZHRoJzogJ3Rvb2x0aXBNYXhXaWR0aCcsXHJcbiAgICAgICdkYXRhLXNob3ctc2VsZWN0ZWQtb3B0aW9ucy1maXJzdCc6ICdzaG93U2VsZWN0ZWRPcHRpb25zRmlyc3QnLFxyXG4gICAgICAnZGF0YS1kaXNhYmxlLXNlbGVjdC1hbGwnOiAnZGlzYWJsZVNlbGVjdEFsbCcsXHJcbiAgICAgICdkYXRhLWtlZXAtYWx3YXlzLW9wZW4nOiAna2VlcEFsd2F5c09wZW4nLFxyXG4gICAgICAnZGF0YS1tYXgtdmFsdWVzJzogJ21heFZhbHVlcycsXHJcbiAgICAgICdkYXRhLWFkZGl0aW9uYWwtY2xhc3Nlcyc6ICdhZGRpdGlvbmFsQ2xhc3NlcycsXHJcbiAgICAgICdkYXRhLXNob3ctZHJvcGJveC1hcy1wb3B1cCc6ICdzaG93RHJvcGJveEFzUG9wdXAnLFxyXG4gICAgICAnZGF0YS1wb3B1cC1kcm9wYm94LWJyZWFrcG9pbnQnOiAncG9wdXBEcm9wYm94QnJlYWtwb2ludCcsXHJcbiAgICB9O1xyXG5cclxuICAgIGZvciAobGV0IGsgaW4gbWFwcGluZykge1xyXG4gICAgICBsZXQgdmFsdWUgPSAkZWxlLmdldEF0dHJpYnV0ZShrKTtcclxuXHJcbiAgICAgIGlmIChrID09PSAnbXVsdGlwbGUnICYmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09ICd0cnVlJykpIHtcclxuICAgICAgICB2YWx1ZSA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIG9wdGlvbnNbbWFwcGluZ1trXV0gPSB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0TWV0aG9kcygpIHtcclxuICAgIGxldCAkZWxlID0gdGhpcy4kZWxlO1xyXG4gICAgJGVsZS52aXJ0dWFsU2VsZWN0ID0gdGhpcztcclxuICAgICRlbGUudmFsdWUgPSB0aGlzLm11bHRpcGxlID8gW10gOiAnJztcclxuICAgICRlbGUucmVzZXQgPSBWaXJ0dWFsU2VsZWN0LnJlc2V0O1xyXG4gICAgJGVsZS5zZXRWYWx1ZSA9IFZpcnR1YWxTZWxlY3Quc2V0VmFsdWVNZXRob2Q7XHJcbiAgICAkZWxlLnNldE9wdGlvbnMgPSBWaXJ0dWFsU2VsZWN0LnNldE9wdGlvbnNNZXRob2Q7XHJcbiAgICAkZWxlLnNldERpc2FibGVkT3B0aW9ucyA9IFZpcnR1YWxTZWxlY3Quc2V0RGlzYWJsZWRPcHRpb25zTWV0aG9kO1xyXG4gICAgJGVsZS50b2dnbGVTZWxlY3RBbGwgPSBWaXJ0dWFsU2VsZWN0LnRvZ2dsZVNlbGVjdEFsbDtcclxuICAgICRlbGUuaXNBbGxTZWxlY3RlZCA9IFZpcnR1YWxTZWxlY3QuaXNBbGxTZWxlY3RlZDtcclxuICAgICRlbGUuYWRkT3B0aW9uID0gVmlydHVhbFNlbGVjdC5hZGRPcHRpb25NZXRob2Q7XHJcbiAgICAkZWxlLmdldE5ld1ZhbHVlID0gVmlydHVhbFNlbGVjdC5nZXROZXdWYWx1ZU1ldGhvZDtcclxuICAgICRlbGUuZ2V0RGlzcGxheVZhbHVlID0gVmlydHVhbFNlbGVjdC5nZXREaXNwbGF5VmFsdWVNZXRob2Q7XHJcbiAgICAkZWxlLm9wZW4gPSBWaXJ0dWFsU2VsZWN0Lm9wZW5NZXRob2Q7XHJcbiAgICAkZWxlLmNsb3NlID0gVmlydHVhbFNlbGVjdC5jbG9zZU1ldGhvZDtcclxuICB9XHJcblxyXG4gIHNldFZhbHVlTWV0aG9kKHZhbHVlLCBzaWxlbnRDaGFuZ2UpIHtcclxuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgdmFsdWUgPSBbdmFsdWVdO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbHVlID0gdmFsdWUubWFwKCh2KSA9PiB7XHJcbiAgICAgIHJldHVybiB2IHx8IHYgPT0gMCA/IHYudG9TdHJpbmcoKSA6ICcnO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IHZhbGlkVmFsdWVzID0gW107XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgbGV0IGlzU2VsZWN0ZWQgPSB2YWx1ZS5pbmRleE9mKGQudmFsdWUpICE9PSAtMTtcclxuXHJcbiAgICAgIGlmIChpc1NlbGVjdGVkICYmICFkLmlzRGlzYWJsZWQgJiYgIWQuaXNHcm91cFRpdGxlKSB7XHJcbiAgICAgICAgZC5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB2YWxpZFZhbHVlcy5wdXNoKGQudmFsdWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGQuaXNTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHtcclxuICAgICAgdmFsaWRWYWx1ZXMgPSB2YWxpZFZhbHVlc1swXTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJlZm9yZVZhbHVlU2V0KCk7XHJcbiAgICB0aGlzLnNldFZhbHVlKHZhbGlkVmFsdWVzLCAhc2lsZW50Q2hhbmdlKTtcclxuICAgIHRoaXMuYWZ0ZXJWYWx1ZVNldCgpO1xyXG4gIH1cclxuXHJcbiAgc2V0T3B0aW9uc01ldGhvZChvcHRpb25zLCBrZWVwVmFsdWUpIHtcclxuICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcclxuICAgIHRoaXMuYWZ0ZXJTZXRPcHRpb25zKGtlZXBWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBzZXREaXNhYmxlZE9wdGlvbnNNZXRob2QoZGlzYWJsZWRPcHRpb25zKSB7XHJcbiAgICB0aGlzLnNldERpc2FibGVkT3B0aW9ucyhkaXNhYmxlZE9wdGlvbnMsIHRydWUpO1xyXG4gICAgdGhpcy5zZXRWYWx1ZU1ldGhvZChudWxsKTtcclxuICAgIHRoaXMuc2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIHNldERpc2FibGVkT3B0aW9ucyhkaXNhYmxlZE9wdGlvbnMgPSBbXSwgc2V0T3B0aW9uc1Byb3AgPSBmYWxzZSkge1xyXG4gICAgZGlzYWJsZWRPcHRpb25zID0gZGlzYWJsZWRPcHRpb25zLm1hcCgoZCkgPT4gZC50b1N0cmluZygpKTtcclxuICAgIHRoaXMuZGlzYWJsZWRPcHRpb25zID0gZGlzYWJsZWRPcHRpb25zO1xyXG5cclxuICAgIGlmIChzZXRPcHRpb25zUHJvcCAmJiBkaXNhYmxlZE9wdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgICAgZC5pc0Rpc2FibGVkID0gZGlzYWJsZWRPcHRpb25zLmluZGV4T2YoZC52YWx1ZSkgIT09IC0xO1xyXG5cclxuICAgICAgICByZXR1cm4gZDtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcclxuICAgIGlmICghb3B0aW9ucykge1xyXG4gICAgICBvcHRpb25zID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHByZXBhcmVkT3B0aW9ucyA9IFtdO1xyXG4gICAgbGV0IGRpc2FibGVkT3B0aW9ucyA9IHRoaXMuZGlzYWJsZWRPcHRpb25zO1xyXG4gICAgbGV0IGhhc0Rpc2FibGVkT3B0aW9ucyA9IGRpc2FibGVkT3B0aW9ucy5sZW5ndGg7XHJcbiAgICBsZXQgdmFsdWVLZXkgPSB0aGlzLnZhbHVlS2V5O1xyXG4gICAgbGV0IGxhYmVsS2V5ID0gdGhpcy5sYWJlbEtleTtcclxuICAgIGxldCBkZXNjcmlwdGlvbktleSA9IHRoaXMuZGVzY3JpcHRpb25LZXk7XHJcbiAgICBsZXQgYWxpYXNLZXkgPSB0aGlzLmFsaWFzS2V5O1xyXG4gICAgbGV0IGhhc09wdGlvbkRlc2NyaXB0aW9uID0gdGhpcy5oYXNPcHRpb25EZXNjcmlwdGlvbjtcclxuICAgIGxldCBnZXRTdHJpbmcgPSBVdGlscy5nZXRTdHJpbmc7XHJcbiAgICBsZXQgZ2V0QWxpYXMgPSB0aGlzLmdldEFsaWFzO1xyXG4gICAgbGV0IGluZGV4ID0gMDtcclxuICAgIGxldCBoYXNPcHRpb25Hcm91cCA9IGZhbHNlO1xyXG5cclxuICAgIGxldCBwcmVwYXJlT3B0aW9uID0gKGQpID0+IHtcclxuICAgICAgbGV0IHZhbHVlID0gZ2V0U3RyaW5nKGRbdmFsdWVLZXldKTtcclxuICAgICAgbGV0IGNoaWxkT3B0aW9ucyA9IGQub3B0aW9ucztcclxuICAgICAgbGV0IGlzR3JvdXBUaXRsZSA9IGNoaWxkT3B0aW9ucyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgbGV0IG9wdGlvbiA9IHtcclxuICAgICAgICBpbmRleCxcclxuICAgICAgICB2YWx1ZSxcclxuICAgICAgICBsYWJlbDogZ2V0U3RyaW5nKGRbbGFiZWxLZXldKSxcclxuICAgICAgICBhbGlhczogZ2V0QWxpYXMoZFthbGlhc0tleV0pLFxyXG4gICAgICAgIGlzVmlzaWJsZTogdHJ1ZSxcclxuICAgICAgICBpc0dyb3VwVGl0bGUsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAoaGFzRGlzYWJsZWRPcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9uLmlzRGlzYWJsZWQgPSBkaXNhYmxlZE9wdGlvbnMuaW5kZXhPZih2YWx1ZSkgIT09IC0xO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZC5pc0dyb3VwT3B0aW9uKSB7XHJcbiAgICAgICAgb3B0aW9uLmlzR3JvdXBPcHRpb24gPSB0cnVlO1xyXG4gICAgICAgIG9wdGlvbi5ncm91cEluZGV4ID0gZC5ncm91cEluZGV4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaGFzT3B0aW9uRGVzY3JpcHRpb24pIHtcclxuICAgICAgICBvcHRpb24uZGVzY3JpcHRpb24gPSBnZXRTdHJpbmcoZFtkZXNjcmlwdGlvbktleV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwcmVwYXJlZE9wdGlvbnMucHVzaChvcHRpb24pO1xyXG4gICAgICBpbmRleCsrO1xyXG5cclxuICAgICAgaWYgKGlzR3JvdXBUaXRsZSkge1xyXG4gICAgICAgIGxldCBncm91cEluZGV4ID0gb3B0aW9uLmluZGV4O1xyXG4gICAgICAgIGhhc09wdGlvbkdyb3VwID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgY2hpbGRPcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgICAgIGQuaXNHcm91cE9wdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICBkLmdyb3VwSW5kZXggPSBncm91cEluZGV4O1xyXG5cclxuICAgICAgICAgIHByZXBhcmVPcHRpb24oZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgb3B0aW9ucy5mb3JFYWNoKHByZXBhcmVPcHRpb24pO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHByZXBhcmVkT3B0aW9ucztcclxuICAgIHRoaXMudmlzaWJsZU9wdGlvbnNDb3VudCA9IHByZXBhcmVkT3B0aW9ucy5sZW5ndGg7XHJcbiAgICB0aGlzLmxhc3RPcHRpb25JbmRleCA9IHRoaXMub3B0aW9ucy5sZW5ndGggLSAxO1xyXG4gICAgdGhpcy5uZXdWYWx1ZXMgPSBbXTtcclxuICAgIHRoaXMuaGFzT3B0aW9uR3JvdXAgPSBoYXNPcHRpb25Hcm91cDtcclxuICAgIHRoaXMuc2V0U29ydGVkT3B0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgc2V0U2VydmVyT3B0aW9ucyhvcHRpb25zKSB7XHJcbiAgICB0aGlzLnNldE9wdGlvbnNNZXRob2Qob3B0aW9ucywgdHJ1ZSk7XHJcbiAgICBEb21VdGlscy5yZW1vdmVDbGFzcyh0aGlzLiR3cmFwcGVyLCAnc2VydmVyLXNlYXJjaGluZycpO1xyXG4gIH1cclxuXHJcbiAgc2V0U29ydGVkT3B0aW9ucygpIHtcclxuICAgIGxldCBzb3J0ZWRPcHRpb25zID0gWy4uLnRoaXMub3B0aW9uc107XHJcblxyXG4gICAgaWYgKHRoaXMuc2hvd1NlbGVjdGVkT3B0aW9uc0ZpcnN0ICYmIHRoaXMuc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgIGlmICh0aGlzLmhhc09wdGlvbkdyb3VwKSB7XHJcbiAgICAgICAgc29ydGVkT3B0aW9ucyA9IHRoaXMuc29ydE9wdGlvbnNHcm91cChzb3J0ZWRPcHRpb25zKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzb3J0ZWRPcHRpb25zID0gdGhpcy5zb3J0T3B0aW9ucyhzb3J0ZWRPcHRpb25zKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc29ydGVkT3B0aW9ucyA9IHNvcnRlZE9wdGlvbnM7XHJcbiAgfVxyXG5cclxuICBzZXRWaXNpYmxlT3B0aW9ucygpIHtcclxuICAgIGxldCB2aXNpYmxlT3B0aW9ucyA9IFsuLi50aGlzLnNvcnRlZE9wdGlvbnNdO1xyXG4gICAgbGV0IG1heE9wdGlvbnNUb1Nob3cgPSB0aGlzLm9wdGlvbnNDb3VudCAqIDI7XHJcbiAgICBsZXQgc3RhcnRJbmRleCA9IHRoaXMuZ2V0VmlzaWJsZVN0YXJ0SW5kZXgoKTtcclxuICAgIGxldCBuZXdPcHRpb24gPSB0aGlzLmdldE5ld09wdGlvbigpO1xyXG4gICAgbGV0IGVuZEluZGV4ID0gc3RhcnRJbmRleCArIG1heE9wdGlvbnNUb1Nob3cgLSAxO1xyXG4gICAgbGV0IGkgPSAwO1xyXG5cclxuICAgIGlmIChuZXdPcHRpb24pIHtcclxuICAgICAgbmV3T3B0aW9uLnZpc2libGVJbmRleCA9IGk7XHJcbiAgICAgIGkrKztcclxuICAgIH1cclxuXHJcbiAgICB2aXNpYmxlT3B0aW9ucyA9IHZpc2libGVPcHRpb25zLmZpbHRlcigoZCkgPT4ge1xyXG4gICAgICBsZXQgaW5WaWV3ID0gZmFsc2U7XHJcblxyXG4gICAgICBpZiAoZC5pc1Zpc2libGUgJiYgIWQuaXNDdXJyZW50TmV3KSB7XHJcbiAgICAgICAgaW5WaWV3ID0gaSA+PSBzdGFydEluZGV4ICYmIGkgPD0gZW5kSW5kZXg7XHJcbiAgICAgICAgZC52aXNpYmxlSW5kZXggPSBpO1xyXG4gICAgICAgIGkrKztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGluVmlldztcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChuZXdPcHRpb24pIHtcclxuICAgICAgdmlzaWJsZU9wdGlvbnMgPSBbbmV3T3B0aW9uLCAuLi52aXNpYmxlT3B0aW9uc107XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy52aXNpYmxlT3B0aW9ucyA9IHZpc2libGVPcHRpb25zO1xyXG4gICAgdGhpcy5yZW5kZXJPcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICBzZXRPcHRpb25zUG9zaXRpb24oc3RhcnRJbmRleCkge1xyXG4gICAgaWYgKHN0YXJ0SW5kZXggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBzdGFydEluZGV4ID0gdGhpcy5nZXRWaXNpYmxlU3RhcnRJbmRleCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB0b3AgPSBzdGFydEluZGV4ICogdGhpcy5vcHRpb25IZWlnaHQ7XHJcbiAgICB0aGlzLiRvcHRpb25zLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgwLCAke3RvcH1weCwgMClgO1xyXG4gICAgRG9tVXRpbHMuc2V0RGF0YSh0aGlzLiRvcHRpb25zLCAndG9wJywgdG9wKTtcclxuICB9XHJcblxyXG4gIHNldE9wdGlvbnNUb29sdGlwKCkge1xyXG4gICAgbGV0IHZpc2libGVPcHRpb25zID0gdGhpcy5nZXRWaXNpYmxlT3B0aW9ucygpO1xyXG4gICAgbGV0IGhhc09wdGlvbkRlc2NyaXB0aW9uID0gdGhpcy5oYXNPcHRpb25EZXNjcmlwdGlvbjtcclxuXHJcbiAgICB2aXNpYmxlT3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIGxldCAkb3B0aW9uRWxlID0gdGhpcy4kZHJvcGJveENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIGAudnNjb21wLW9wdGlvbltkYXRhLWluZGV4PVwiJHtkLmluZGV4fVwiXWBcclxuICAgICAgKTtcclxuXHJcbiAgICAgIERvbVV0aWxzLnNldERhdGEoXHJcbiAgICAgICAgJG9wdGlvbkVsZS5xdWVyeVNlbGVjdG9yKCcudnNjb21wLW9wdGlvbi10ZXh0JyksXHJcbiAgICAgICAgJ3Rvb2x0aXAnLFxyXG4gICAgICAgIGQubGFiZWxcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChoYXNPcHRpb25EZXNjcmlwdGlvbikge1xyXG4gICAgICAgIERvbVV0aWxzLnNldERhdGEoXHJcbiAgICAgICAgICAkb3B0aW9uRWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtb3B0aW9uLWRlc2NyaXB0aW9uJyksXHJcbiAgICAgICAgICAndG9vbHRpcCcsXHJcbiAgICAgICAgICBkLmRlc2NyaXB0aW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZSh2YWx1ZSwgdHJpZ2dlckV2ZW50KSB7XHJcbiAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcclxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZFZhbHVlcyA9IFsuLi52YWx1ZV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gW3ZhbHVlXTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbmV3VmFsdWUgPSB0aGlzLm11bHRpcGxlXHJcbiAgICAgID8gdGhpcy5zZWxlY3RlZFZhbHVlc1xyXG4gICAgICA6IHRoaXMuc2VsZWN0ZWRWYWx1ZXNbMF0gfHwgJyc7XHJcbiAgICB0aGlzLiRlbGUudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgIHRoaXMuJGhpZGRlbklucHV0LnZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICB0aGlzLmlzTWF4VmFsdWVzU2VsZWN0ZWQgPVxyXG4gICAgICB0aGlzLm1heFZhbHVlcyAmJiB0aGlzLm1heFZhbHVlcyA8PSB0aGlzLnNlbGVjdGVkVmFsdWVzLmxlbmd0aFxyXG4gICAgICAgID8gdHJ1ZVxyXG4gICAgICAgIDogZmFsc2U7XHJcbiAgICB0aGlzLnNldFZhbHVlVGV4dCgpO1xyXG4gICAgRG9tVXRpbHMudG9nZ2xlQ2xhc3MoXHJcbiAgICAgIHRoaXMuJHdyYXBwZXIsXHJcbiAgICAgICdoYXMtdmFsdWUnLFxyXG4gICAgICBVdGlscy5pc05vdEVtcHR5KHRoaXMuc2VsZWN0ZWRWYWx1ZXMpXHJcbiAgICApO1xyXG4gICAgRG9tVXRpbHMudG9nZ2xlQ2xhc3MoXHJcbiAgICAgIHRoaXMuJHdyYXBwZXIsXHJcbiAgICAgICdtYXgtdmFsdWUtc2VsZWN0ZWQnLFxyXG4gICAgICB0aGlzLmlzTWF4VmFsdWVzU2VsZWN0ZWRcclxuICAgICk7XHJcblxyXG4gICAgaWYgKHRyaWdnZXJFdmVudCkge1xyXG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy4kZWxlLCAnY2hhbmdlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZVRleHQoKSB7XHJcbiAgICBsZXQgdmFsdWVUZXh0ID0gW107XHJcbiAgICBsZXQgdmFsdWVUb29sdGlwID0gW107XHJcbiAgICBsZXQgc2VsZWN0ZWRWYWx1ZXMgPSB0aGlzLnNlbGVjdGVkVmFsdWVzO1xyXG4gICAgbGV0IHNlbGVjdGVkTGVuZ3RoID0gc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoO1xyXG4gICAgbGV0IG5vT2ZEaXNwbGF5VmFsdWVzID0gdGhpcy5ub09mRGlzcGxheVZhbHVlcztcclxuICAgIGxldCBtYXhpbXVtVmFsdWVzVG9TaG93ID0gNTA7XHJcbiAgICBsZXQgc2VsZWN0ZWRWYWx1ZXNDb3VudCA9IDA7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNBbGxTZWxlY3RlZCkge1xyXG4gICAgICB0aGlzLiR2YWx1ZVRleHQuaW5uZXJIVE1MID0gYEFsbCAoJHtzZWxlY3RlZExlbmd0aH0pYDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvciAobGV0IGQgb2YgdGhpcy5vcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKGQuaXNDdXJyZW50TmV3KSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RlZFZhbHVlc0NvdW50ID4gbWF4aW11bVZhbHVlc1RvU2hvdykge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdmFsdWUgPSBkLnZhbHVlO1xyXG5cclxuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZXMuaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICBsZXQgbGFiZWwgPSBkLmxhYmVsO1xyXG4gICAgICAgICAgdmFsdWVUZXh0LnB1c2gobGFiZWwpO1xyXG4gICAgICAgICAgc2VsZWN0ZWRWYWx1ZXNDb3VudCsrO1xyXG5cclxuICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlc0NvdW50IDw9IG5vT2ZEaXNwbGF5VmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHZhbHVlVG9vbHRpcC5wdXNoKGA8c3BhbiBjbGFzcz1cInZzY29tcC12YWx1ZS10YWdcIj4ke2xhYmVsfTwvc3Bhbj5gKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBtb3JlU2VsZWN0ZWRPcHRpb25zID0gc2VsZWN0ZWRMZW5ndGggLSBub09mRGlzcGxheVZhbHVlcztcclxuXHJcbiAgICAgIGlmIChtb3JlU2VsZWN0ZWRPcHRpb25zID4gMCkge1xyXG4gICAgICAgIHZhbHVlVG9vbHRpcC5wdXNoKFxyXG4gICAgICAgICAgYDxzcGFuIGNsYXNzPVwidnNjb21wLXZhbHVlLXRhZyBtb3JlLXZhbHVlLWNvdW50XCI+KyAke21vcmVTZWxlY3RlZE9wdGlvbnN9IG1vcmUuLi48L3NwYW4+YFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGFnZ3JlZ2F0ZWRWYWx1ZVRleHQgPSB2YWx1ZVRleHQuam9pbignLCAnKTtcclxuXHJcbiAgICAgIGlmIChhZ2dyZWdhdGVkVmFsdWVUZXh0ID09PSAnJykge1xyXG4gICAgICAgIHRoaXMuJHZhbHVlVGV4dC5pbm5lckhUTUwgPSB0aGlzLnBsYWNlaG9sZGVyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuJHZhbHVlVGV4dC5pbm5lckhUTUwgPSBhZ2dyZWdhdGVkVmFsdWVUZXh0O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tdWx0aXBsZSkge1xyXG4gICAgICAgICAgbGV0IG1heFZhbHVlcyA9IHRoaXMubWF4VmFsdWVzO1xyXG5cclxuICAgICAgICAgIGlmIChEb21VdGlscy5oYXNFbGxpcHNpcyh0aGlzLiR2YWx1ZVRleHQpIHx8IG1heFZhbHVlcykge1xyXG4gICAgICAgICAgICBsZXQgY291bnRUZXh0ID0gYCR7c2VsZWN0ZWRMZW5ndGh9YDtcclxuXHJcbiAgICAgICAgICAgIGlmIChtYXhWYWx1ZXMpIHtcclxuICAgICAgICAgICAgICBjb3VudFRleHQgKz0gYCAvICR7bWF4VmFsdWVzfWA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKiByZXBsYWNlIGNvbW1hIGRlbGltaXR0ZWQgbGlzdCBvZiBzZWxlY3Rpb25zIHdpdGggc2hvcnRlciB0ZXh0IGluZGljYXRpbmcgc2VsZWN0aW9uIGNvdW50ICovXHJcbiAgICAgICAgICAgIHRoaXMuJHZhbHVlVGV4dC5pbm5lckhUTUwgPSBgJHtjb3VudFRleHR9IG9wdGlvbiR7XHJcbiAgICAgICAgICAgICAgc2VsZWN0ZWRMZW5ndGggPT09IDEgPyAnJyA6ICdzJ1xyXG4gICAgICAgICAgICB9IHNlbGVjdGVkYDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8qKiByZW1vdmluZyB0b29sdGlwIGlmIGZ1bGwgdmFsdWUgdGV4dCBpcyB2aXNpYmxlICovXHJcbiAgICAgICAgICAgIHZhbHVlVG9vbHRpcCA9IFtdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIERvbVV0aWxzLnNldERhdGEodGhpcy4kdmFsdWVUZXh0LCAndG9vbHRpcCcsIHZhbHVlVG9vbHRpcC5qb2luKCcsICcpKTtcclxuICB9XHJcblxyXG4gIHNldFNlYXJjaFZhbHVlKHZhbHVlLCBza2lwSW5wdXRTZXQpIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5zZWFyY2hWYWx1ZU9yaWdpbmFsKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXNraXBJbnB1dFNldCkge1xyXG4gICAgICB0aGlzLiRzZWFyY2hJbnB1dC52YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzZWFyY2hWYWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG4gICAgdGhpcy5zZWFyY2hWYWx1ZSA9IHNlYXJjaFZhbHVlO1xyXG4gICAgdGhpcy5zZWFyY2hWYWx1ZU9yaWdpbmFsID0gdmFsdWU7XHJcblxyXG4gICAgRG9tVXRpbHMudG9nZ2xlQ2xhc3ModGhpcy4kd3JhcHBlciwgJ2hhcy1zZWFyY2gtdmFsdWUnLCB2YWx1ZSk7XHJcblxyXG4gICAgaWYgKHRoaXMuaGFzU2VydmVyU2VhcmNoKSB7XHJcbiAgICAgIHRoaXMuc2VydmVyU2VhcmNoKHNlYXJjaFZhbHVlKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB2aXNpYmxlT3B0aW9uc0NvdW50ID0gMDtcclxuICAgIGxldCBoYXNFeGFjdE9wdGlvbiA9IGZhbHNlO1xyXG4gICAgbGV0IHZpc2libGVPcHRpb25Hcm91cHNNYXBwaW5nO1xyXG4gICAgbGV0IGlzT3B0aW9uVmlzaWJsZSA9IHRoaXMuaXNPcHRpb25WaXNpYmxlO1xyXG5cclxuICAgIGlmICh0aGlzLmhhc09wdGlvbkdyb3VwKSB7XHJcbiAgICAgIHZpc2libGVPcHRpb25Hcm91cHNNYXBwaW5nID0gdGhpcy5nZXRWaXNpYmxlT3B0aW9uR3JvdXBzTWFwcGluZyhcclxuICAgICAgICBzZWFyY2hWYWx1ZVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIGlmIChkLmlzQ3VycmVudE5ldykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHJlc3VsdCA9IGlzT3B0aW9uVmlzaWJsZShcclxuICAgICAgICBkLFxyXG4gICAgICAgIHNlYXJjaFZhbHVlLFxyXG4gICAgICAgIGhhc0V4YWN0T3B0aW9uLFxyXG4gICAgICAgIHZpc2libGVPcHRpb25Hcm91cHNNYXBwaW5nXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAocmVzdWx0LmlzVmlzaWJsZSkge1xyXG4gICAgICAgIHZpc2libGVPcHRpb25zQ291bnQrKztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFoYXNFeGFjdE9wdGlvbikge1xyXG4gICAgICAgIGhhc0V4YWN0T3B0aW9uID0gcmVzdWx0Lmhhc0V4YWN0T3B0aW9uO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAodGhpcy5hbGxvd05ld09wdGlvbikge1xyXG4gICAgICBpZiAoc2VhcmNoVmFsdWUgJiYgIWhhc0V4YWN0T3B0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5zZXROZXdPcHRpb24oKTtcclxuICAgICAgICB2aXNpYmxlT3B0aW9uc0NvdW50Kys7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVOZXdPcHRpb24oKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudmlzaWJsZU9wdGlvbnNDb3VudCA9IHZpc2libGVPcHRpb25zQ291bnQ7XHJcblxyXG4gICAgdGhpcy5zY3JvbGxUb1RvcCgpO1xyXG4gICAgdGhpcy5zZXRPcHRpb25zSGVpZ2h0KCk7XHJcbiAgICB0aGlzLnNldFZpc2libGVPcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICBzZXRPcHRpb25Qcm9wKGluZGV4LCBrZXksIHZhbHVlKSB7XHJcbiAgICBpZiAoIXRoaXMub3B0aW9uc1tpbmRleF0pIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub3B0aW9uc1tpbmRleF1ba2V5XSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2V0T3B0aW9uc0hlaWdodCgpIHtcclxuICAgIHRoaXMuJG9wdGlvbnNMaXN0LnN0eWxlLmhlaWdodCA9XHJcbiAgICAgIHRoaXMub3B0aW9uSGVpZ2h0ICogdGhpcy52aXNpYmxlT3B0aW9uc0NvdW50ICsgJ3B4JztcclxuICB9XHJcblxyXG4gIHNldE9wdGlvbnNDb250YWluZXJIZWlnaHQocmVzZXQpIHtcclxuICAgIGxldCBvcHRpb25zSGVpZ2h0O1xyXG5cclxuICAgIGlmIChyZXNldCkge1xyXG4gICAgICBpZiAodGhpcy5zaG93QXNQb3B1cCkge1xyXG4gICAgICAgIHRoaXMub3B0aW9uc0NvdW50ID0gdGhpcy5nZXRPcHRpb25zQ291bnQoKTtcclxuICAgICAgICBvcHRpb25zSGVpZ2h0ID0gdGhpcy5nZXRPcHRpb25zSGVpZ2h0KCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zSGVpZ2h0ID0gb3B0aW9uc0hlaWdodDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb3B0aW9uc0hlaWdodCA9IHRoaXMub3B0aW9uc0hlaWdodDtcclxuXHJcbiAgICAgIGlmICh0aGlzLmtlZXBBbHdheXNPcGVuKSB7XHJcbiAgICAgICAgRG9tVXRpbHMuc2V0U3R5bGUodGhpcy4kbm9PcHRpb25zLCAnaGVpZ2h0Jywgb3B0aW9uc0hlaWdodCk7XHJcbiAgICAgICAgRG9tVXRpbHMuc2V0U3R5bGUodGhpcy4kbm9TZWFyY2hSZXN1bHRzLCAnaGVpZ2h0Jywgb3B0aW9uc0hlaWdodCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBEb21VdGlscy5zZXRTdHlsZSh0aGlzLiRvcHRpb25zQ29udGFpbmVyLCAnbWF4LWhlaWdodCcsIG9wdGlvbnNIZWlnaHQpO1xyXG5cclxuICAgIHRoaXMuYWZ0ZXJTZXRPcHRpb25zQ29udGFpbmVySGVpZ2h0KHJlc2V0KTtcclxuICB9XHJcblxyXG4gIHNldERyb3Bib3hQb3NpdGlvbigpIHtcclxuICAgIGlmICh0aGlzLnBvc2l0aW9uICE9PSAnYXV0bycpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBtb3JlVmlzaWJsZVNpZGVzID0gRG9tVXRpbHMuZ2V0TW9yZVZpc2libGVTaWRlcyh0aGlzLiR3cmFwcGVyKTtcclxuICAgIGxldCBzaG93T25MZWZ0ID0gZmFsc2U7XHJcblxyXG4gICAgLyoqIGNoZWNrIHRoYXQgaXMgZHJvcGJveCBoaWRkZW4gb24gcmlnaHQgZWRnZSAtIG9ubHkgaWYgY3VzdG9tIHdpZHRoIGdpdmVuICovXHJcbiAgICBpZiAodGhpcy5kcm9wYm94V2lkdGgpIHtcclxuICAgICAgbGV0IGJ1dHRvbkNvb3JkcyA9IHRoaXMuJHRvZ2dsZUJ1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgbGV0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgbGV0IGRyb3Bib3hXaWR0aCA9IHBhcnNlRmxvYXQodGhpcy5kcm9wYm94V2lkdGgpO1xyXG4gICAgICBsZXQgaGlkZGVuT25SaWdodCA9IGJ1dHRvbkNvb3Jkcy5sZWZ0ICsgZHJvcGJveFdpZHRoID4gdmlld3BvcnRXaWR0aDtcclxuICAgICAgbGV0IGhpZGRlbk9uTGVmdCA9IGRyb3Bib3hXaWR0aCA+IGJ1dHRvbkNvb3Jkcy5yaWdodDtcclxuXHJcbiAgICAgIGlmIChoaWRkZW5PblJpZ2h0ICYmICFoaWRkZW5PbkxlZnQpIHtcclxuICAgICAgICBzaG93T25MZWZ0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKFxyXG4gICAgICB0aGlzLiR3cmFwcGVyLFxyXG4gICAgICAncG9zaXRpb24tdG9wJyxcclxuICAgICAgbW9yZVZpc2libGVTaWRlcy52ZXJ0aWNhbCA9PT0gJ3RvcCdcclxuICAgICk7XHJcbiAgICBEb21VdGlscy50b2dnbGVDbGFzcyh0aGlzLiR3cmFwcGVyLCAncG9zaXRpb24tbGVmdCcsIHNob3dPbkxlZnQpO1xyXG4gIH1cclxuXHJcbiAgc2V0TmV3T3B0aW9uKCkge1xyXG4gICAgbGV0IHZhbHVlID0gdGhpcy5zZWFyY2hWYWx1ZU9yaWdpbmFsLnRyaW0oKTtcclxuXHJcbiAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbmV3T3B0aW9uID0gdGhpcy5nZXROZXdPcHRpb24oKTtcclxuXHJcbiAgICBpZiAobmV3T3B0aW9uKSB7XHJcbiAgICAgIGxldCBuZXdJbmRleCA9IG5ld09wdGlvbi5pbmRleDtcclxuXHJcbiAgICAgIHRoaXMuc2V0T3B0aW9uUHJvcChuZXdJbmRleCwgJ3ZhbHVlJywgdmFsdWUpO1xyXG4gICAgICB0aGlzLnNldE9wdGlvblByb3AobmV3SW5kZXgsICdsYWJlbCcsIHZhbHVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBkYXRhID0ge1xyXG4gICAgICAgIHZhbHVlLFxyXG4gICAgICAgIGxhYmVsOiB2YWx1ZSxcclxuICAgICAgICBpc0N1cnJlbnROZXc6IHRydWUsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmFkZE9wdGlvbihkYXRhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldFNlbGVjdGVkUHJvcCgpIHtcclxuICAgIGxldCBzZWxlY3RlZFZhbHVlcyA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXM7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgaWYgKHNlbGVjdGVkVmFsdWVzLmluZGV4T2YoZC52YWx1ZSkgIT09IC0xKSB7XHJcbiAgICAgICAgZC5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8qKiBzZXQgbWV0aG9kcyAtIGVuZCAqL1xyXG5cclxuICAvKiogZ2V0IG1ldGhvZHMgLSBzdGFydCAqL1xyXG4gIGdldFZpc2libGVPcHRpb25zKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmlzaWJsZU9wdGlvbnMgfHwgW107XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLm11bHRpcGxlID8gdGhpcy5zZWxlY3RlZFZhbHVlcyA6IHRoaXMuc2VsZWN0ZWRWYWx1ZXNbMF07XHJcbiAgfVxyXG5cclxuICBnZXRGaXJzdFZpc2libGVPcHRpb25JbmRleCgpIHtcclxuICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy4kb3B0aW9uc0NvbnRhaW5lci5zY3JvbGxUb3AgLyB0aGlzLm9wdGlvbkhlaWdodCk7XHJcbiAgfVxyXG5cclxuICBnZXRWaXNpYmxlU3RhcnRJbmRleCgpIHtcclxuICAgIGxldCBmaXJzdFZpc2libGVPcHRpb25JbmRleCA9IHRoaXMuZ2V0Rmlyc3RWaXNpYmxlT3B0aW9uSW5kZXgoKTtcclxuICAgIGxldCBzdGFydEluZGV4ID0gZmlyc3RWaXNpYmxlT3B0aW9uSW5kZXggLSB0aGlzLmhhbGZPcHRpb25zQ291bnQ7XHJcblxyXG4gICAgaWYgKHN0YXJ0SW5kZXggPCAwKSB7XHJcbiAgICAgIHN0YXJ0SW5kZXggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdGFydEluZGV4O1xyXG4gIH1cclxuXHJcbiAgZ2V0VG9vbHRpcEF0dHJUZXh0KHRleHQsIGVsbGlwc2lzT25seSA9IGZhbHNlLCBhbGxvd0h0bWwgPSBmYWxzZSkge1xyXG4gICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICdkYXRhLXRvb2x0aXAnOiB0ZXh0IHx8ICcnLFxyXG4gICAgICAnZGF0YS10b29sdGlwLWVudGVyLWRlbGF5JzogdGhpcy50b29sdGlwRW50ZXJEZWxheSxcclxuICAgICAgJ2RhdGEtdG9vbHRpcC16LWluZGV4JzogdGhpcy56SW5kZXgsXHJcbiAgICAgICdkYXRhLXRvb2x0aXAtZm9udC1zaXplJzogdGhpcy50b29sdGlwRm9udFNpemUsXHJcbiAgICAgICdkYXRhLXRvb2x0aXAtYWxpZ25tZW50JzogdGhpcy50b29sdGlwQWxpZ25tZW50LFxyXG4gICAgICAnZGF0YS10b29sdGlwLW1heC13aWR0aCc6IHRoaXMudG9vbHRpcE1heFdpZHRoLFxyXG4gICAgICAnZGF0YS10b29sdGlwLWVsbGlwc2lzLW9ubHknOiBlbGxpcHNpc09ubHksXHJcbiAgICAgICdkYXRhLXRvb2x0aXAtYWxsb3ctaHRtbCc6IGFsbG93SHRtbCxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIERvbVV0aWxzLmdldEF0dHJpYnV0ZXNUZXh0KGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgZ2V0T3B0aW9uT2JqKGRhdGEpIHtcclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGdldFN0cmluZyA9IFV0aWxzLmdldFN0cmluZztcclxuICAgIGxldCBuZXdPcHRpb24gPSB7XHJcbiAgICAgIGluZGV4OiBkYXRhLmluZGV4LFxyXG4gICAgICB2YWx1ZTogZ2V0U3RyaW5nKGRhdGEudmFsdWUpLFxyXG4gICAgICBsYWJlbDogZ2V0U3RyaW5nKGRhdGEubGFiZWwpLFxyXG4gICAgICBkZXNjcmlwdGlvbjogZ2V0U3RyaW5nKGRhdGEuZGVzY3JpcHRpb24pLFxyXG4gICAgICBhbGlhczogdGhpcy5nZXRBbGlhcyhkYXRhLmFsaWFzKSxcclxuICAgICAgaXNDdXJyZW50TmV3OiBkYXRhLmlzQ3VycmVudE5ldyB8fCBmYWxzZSxcclxuICAgICAgaXNWaXNpYmxlOiB0cnVlLFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gbmV3T3B0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0TmV3T3B0aW9uKCkge1xyXG4gICAgbGV0IGxhc3RPcHRpb24gPSB0aGlzLm9wdGlvbnNbdGhpcy5sYXN0T3B0aW9uSW5kZXhdO1xyXG5cclxuICAgIGlmICghbGFzdE9wdGlvbiB8fCAhbGFzdE9wdGlvbi5pc0N1cnJlbnROZXcpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsYXN0T3B0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0T3B0aW9uSW5kZXgodmFsdWUpIHtcclxuICAgIGxldCBpbmRleDtcclxuXHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgdGhpcy5vcHRpb25zLnNvbWUoKGQpID0+IHtcclxuICAgICAgICBpZiAoZC52YWx1ZSA9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgaW5kZXggPSBkLmluZGV4O1xyXG5cclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGluZGV4O1xyXG4gIH1cclxuXHJcbiAgZ2V0TmV3VmFsdWUoKSB7XHJcbiAgICBsZXQgbmV3VmFsdWVzID0gdGhpcy5uZXdWYWx1ZXM7XHJcbiAgICBsZXQgcmVzdWx0ID0gdGhpcy5zZWxlY3RlZFZhbHVlcy5maWx0ZXIoKGQpID0+IG5ld1ZhbHVlcy5pbmRleE9mKGQpICE9PSAtMSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMubXVsdGlwbGUgPyByZXN1bHQgOiByZXN1bHRbMF07XHJcbiAgfVxyXG5cclxuICBnZXRBbGlhcyhhbGlhcykge1xyXG4gICAgaWYgKGFsaWFzKSB7XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGFsaWFzKSkge1xyXG4gICAgICAgIGFsaWFzID0gYWxpYXMuam9pbignLCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFsaWFzID0gYWxpYXMudG9TdHJpbmcoKS50cmltKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFsaWFzID0gYWxpYXMudG9Mb3dlckNhc2UoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFsaWFzID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFsaWFzO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGlzcGxheVZhbHVlKCkge1xyXG4gICAgbGV0IGRpc3BsYXlWYWx1ZXMgPSBbXTtcclxuICAgIGxldCBzZWxlY3RlZFZhbHVlcyA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXM7XHJcblxyXG4gICAgZm9yIChsZXQgZCBvZiB0aGlzLm9wdGlvbnMpIHtcclxuICAgICAgaWYgKHNlbGVjdGVkVmFsdWVzLmluZGV4T2YoZC52YWx1ZSkgIT09IC0xKSB7XHJcbiAgICAgICAgZGlzcGxheVZhbHVlcy5wdXNoKGQubGFiZWwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMubXVsdGlwbGUgPyBkaXNwbGF5VmFsdWVzIDogZGlzcGxheVZhbHVlc1swXSB8fCAnJztcclxuICB9XHJcblxyXG4gIGdldFZpc2libGVPcHRpb25Hcm91cHNNYXBwaW5nKHNlYXJjaFZhbHVlKSB7XHJcbiAgICBsZXQgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcclxuICAgIGxldCByZXN1bHQgPSB7fTtcclxuICAgIGxldCBpc09wdGlvblZpc2libGUgPSB0aGlzLmlzT3B0aW9uVmlzaWJsZTtcclxuICAgIG9wdGlvbnMgPSB0aGlzLnN0cnVjdHVyZU9wdGlvbkdyb3VwKG9wdGlvbnMpO1xyXG5cclxuICAgIG9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICByZXN1bHRbZC5pbmRleF0gPSBkLm9wdGlvbnMuc29tZShcclxuICAgICAgICAoZSkgPT4gaXNPcHRpb25WaXNpYmxlKGUsIHNlYXJjaFZhbHVlKS5pc1Zpc2libGVcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBnZXRPcHRpb25zQ291bnQoY291bnQpIHtcclxuICAgIGlmICh0aGlzLnNob3dBc1BvcHVwKSB7XHJcbiAgICAgIGxldCBhdmFpbGFibGVIZWlnaHQgPVxyXG4gICAgICAgICh3aW5kb3cuaW5uZXJIZWlnaHQgKiA4MCkgLyAxMDAgLSBkcm9wYm94Q2xvc2VCdXR0b25GdWxsSGVpZ2h0O1xyXG5cclxuICAgICAgaWYgKHRoaXMuaGFzU2VhcmNoQ29udGFpbmVyKSB7XHJcbiAgICAgICAgYXZhaWxhYmxlSGVpZ2h0IC09IHNlYXJjaEhlaWdodDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY291bnQgPSBNYXRoLmZsb29yKGF2YWlsYWJsZUhlaWdodCAvIHRoaXMub3B0aW9uSGVpZ2h0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvdW50ID0gcGFyc2VJbnQoY291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb3VudDtcclxuICB9XHJcblxyXG4gIGdldE9wdGlvbnNIZWlnaHQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zQ291bnQgKiB0aGlzLm9wdGlvbkhlaWdodCArICdweCc7XHJcbiAgfVxyXG5cclxuICBnZXRTaWJsaW5nKCRlbGUsIGRpcmVjdGlvbikge1xyXG4gICAgbGV0IHByb3BOYW1lID1cclxuICAgICAgZGlyZWN0aW9uID09PSAnbmV4dCcgPyAnbmV4dEVsZW1lbnRTaWJsaW5nJyA6ICdwcmV2aW91c0VsZW1lbnRTaWJsaW5nJztcclxuXHJcbiAgICBkbyB7XHJcbiAgICAgIGlmICgkZWxlKSB7XHJcbiAgICAgICAgJGVsZSA9ICRlbGVbcHJvcE5hbWVdO1xyXG4gICAgICB9XHJcbiAgICB9IHdoaWxlIChcclxuICAgICAgRG9tVXRpbHMuaGFzQ2xhc3MoJGVsZSwgJ2Rpc2FibGVkJykgfHxcclxuICAgICAgRG9tVXRpbHMuaGFzQ2xhc3MoJGVsZSwgJ2dyb3VwLXRpdGxlJylcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuICRlbGU7XHJcbiAgfVxyXG4gIC8qKiBnZXQgbWV0aG9kcyAtIGVuZCAqL1xyXG5cclxuICBvcGVuRHJvcGJveChpc1NpbGVudCkge1xyXG4gICAgdGhpcy5zZXREcm9wYm94UG9zaXRpb24oKTtcclxuICAgIERvbVV0aWxzLnJlbW92ZUNsYXNzKHRoaXMuJHdyYXBwZXIsICdjbG9zZWQnKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgRG9tVXRpbHMuYWRkQ2xhc3ModGhpcy4kd3JhcHBlciwgJ29wZW5lZCcpO1xyXG5cclxuICAgICAgaWYgKCFpc1NpbGVudCkge1xyXG4gICAgICAgIHRoaXMubW92ZVNlbGVjdGVkT3B0aW9uc0ZpcnN0KCk7XHJcbiAgICAgICAgRG9tVXRpbHMuYWRkQ2xhc3ModGhpcy4kd3JhcHBlciwgJ2ZvY3VzZWQnKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2hvd0FzUG9wdXApIHtcclxuICAgICAgICAgIERvbVV0aWxzLmFkZENsYXNzKHRoaXMuJGJvZHksICd2c2NvbXAtcG9wdXAtYWN0aXZlJyk7XHJcbiAgICAgICAgICB0aGlzLmlzUG9wdXBBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmZvY3VzU2VhcmNoSW5wdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sIDApO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VEcm9wYm94KGlzU2lsZW50KSB7XHJcbiAgICBpZiAodGhpcy5rZWVwQWx3YXlzT3Blbikge1xyXG4gICAgICB0aGlzLnJlbW92ZU9wdGlvbkZvY3VzKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdHJhbnNpdGlvbkR1cmF0aW9uID0gaXNTaWxlbnQgPyAwIDogdGhpcy50cmFuc2l0aW9uRHVyYXRpb247XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIERvbVV0aWxzLnJlbW92ZUNsYXNzKHRoaXMuJHdyYXBwZXIsICdvcGVuZWQgZm9jdXNlZCcpO1xyXG4gICAgICB0aGlzLnJlbW92ZU9wdGlvbkZvY3VzKCk7XHJcblxyXG4gICAgICBpZiAoIWlzU2lsZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQb3B1cEFjdGl2ZSkge1xyXG4gICAgICAgICAgRG9tVXRpbHMucmVtb3ZlQ2xhc3ModGhpcy4kYm9keSwgJ3ZzY29tcC1wb3B1cC1hY3RpdmUnKTtcclxuICAgICAgICAgIHRoaXMuaXNQb3B1cEFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgMCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIERvbVV0aWxzLmFkZENsYXNzKHRoaXMuJHdyYXBwZXIsICdjbG9zZWQnKTtcclxuICAgIH0sIHRyYW5zaXRpb25EdXJhdGlvbik7XHJcbiAgfVxyXG5cclxuICBtb3ZlU2VsZWN0ZWRPcHRpb25zRmlyc3QoKSB7XHJcbiAgICBpZiAoIXRoaXMuc2hvd1NlbGVjdGVkT3B0aW9uc0ZpcnN0KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFNvcnRlZE9wdGlvbnMoKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuJG9wdGlvbnNDb250YWluZXIuc2Nyb2xsVG9wIHx8ICF0aGlzLnNlbGVjdGVkVmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLnNldFZpc2libGVPcHRpb25zKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNjcm9sbFRvVG9wKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVEcm9wYm94KCkge1xyXG4gICAgaWYgKHRoaXMuaXNPcGVuZWQoKSkge1xyXG4gICAgICB0aGlzLmNsb3NlRHJvcGJveCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vcGVuRHJvcGJveCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNPcGVuZWQoKSB7XHJcbiAgICByZXR1cm4gRG9tVXRpbHMuaGFzQ2xhc3ModGhpcy4kd3JhcHBlciwgJ29wZW5lZCcpO1xyXG4gIH1cclxuXHJcbiAgZm9jdXNTZWFyY2hJbnB1dCgpIHtcclxuICAgIGxldCAkZWxlID0gdGhpcy4kc2VhcmNoSW5wdXQ7XHJcblxyXG4gICAgaWYgKCRlbGUpIHtcclxuICAgICAgJGVsZS5mb2N1cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZm9jdXNPcHRpb24oZGlyZWN0aW9uLCBlbGUpIHtcclxuICAgIGxldCAkZm9jdXNlZEVsZSA9IHRoaXMuJGRyb3Bib3hDb250YWluZXIucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy52c2NvbXAtb3B0aW9uLmZvY3VzZWQnXHJcbiAgICApO1xyXG4gICAgbGV0ICRuZXdGb2N1c2VkRWxlO1xyXG5cclxuICAgIGlmIChlbGUpIHtcclxuICAgICAgJG5ld0ZvY3VzZWRFbGUgPSBlbGU7XHJcbiAgICB9IGVsc2UgaWYgKCEkZm9jdXNlZEVsZSkge1xyXG4gICAgICAvKiBpZiBubyBlbGVtZW50IG9uIGZvY3VzIGNob29zZSBmaXJzdCB2aXNpYmxlIG9uZSAqL1xyXG4gICAgICBsZXQgZmlyc3RWaXNpYmxlT3B0aW9uSW5kZXggPSB0aGlzLmdldEZpcnN0VmlzaWJsZU9wdGlvbkluZGV4KCk7XHJcbiAgICAgICRuZXdGb2N1c2VkRWxlID0gdGhpcy4kZHJvcGJveENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIGAudnNjb21wLW9wdGlvbltkYXRhLXZpc2libGUtaW5kZXg9XCIke2ZpcnN0VmlzaWJsZU9wdGlvbkluZGV4fVwiXWBcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICBEb21VdGlscy5oYXNDbGFzcygkbmV3Rm9jdXNlZEVsZSwgJ2Rpc2FibGVkJykgfHxcclxuICAgICAgICBEb21VdGlscy5oYXNDbGFzcygkbmV3Rm9jdXNlZEVsZSwgJ2dyb3VwLXRpdGxlJylcclxuICAgICAgKSB7XHJcbiAgICAgICAgJG5ld0ZvY3VzZWRFbGUgPSB0aGlzLmdldFNpYmxpbmcoJG5ld0ZvY3VzZWRFbGUsICduZXh0Jyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRuZXdGb2N1c2VkRWxlID0gdGhpcy5nZXRTaWJsaW5nKCRmb2N1c2VkRWxlLCBkaXJlY3Rpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkbmV3Rm9jdXNlZEVsZSAmJiAkbmV3Rm9jdXNlZEVsZSAhPT0gJGZvY3VzZWRFbGUpIHtcclxuICAgICAgaWYgKCRmb2N1c2VkRWxlKSB7XHJcbiAgICAgICAgRG9tVXRpbHMucmVtb3ZlQ2xhc3MoJGZvY3VzZWRFbGUsICdmb2N1c2VkJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIERvbVV0aWxzLmFkZENsYXNzKCRuZXdGb2N1c2VkRWxlLCAnZm9jdXNlZCcpO1xyXG4gICAgICB0aGlzLnRvZ2dsZUZvY3VzZWRQcm9wKERvbVV0aWxzLmdldERhdGEoJG5ld0ZvY3VzZWRFbGUsICdpbmRleCcpLCB0cnVlKTtcclxuICAgICAgdGhpcy5tb3ZlRm9jdXNlZE9wdGlvblRvVmlldygkbmV3Rm9jdXNlZEVsZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtb3ZlRm9jdXNlZE9wdGlvblRvVmlldygkZm9jdXNlZEVsZSkge1xyXG4gICAgaWYgKCEkZm9jdXNlZEVsZSkge1xyXG4gICAgICAkZm9jdXNlZEVsZSA9IHRoaXMuJGRyb3Bib3hDb250YWluZXIucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAnLnZzY29tcC1vcHRpb24uZm9jdXNlZCdcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoISRmb2N1c2VkRWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbmV3U2Nyb2xsVG9wO1xyXG4gICAgbGV0IGNvbnRhaW5lclJlY3QgPSB0aGlzLiRvcHRpb25zQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgbGV0IG9wdGlvblJlY3QgPSAkZm9jdXNlZEVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGxldCBjb250YWluZXJUb3AgPSBjb250YWluZXJSZWN0LnRvcDtcclxuICAgIGxldCBjb250YWluZXJCb3R0b20gPSBjb250YWluZXJSZWN0LmJvdHRvbTtcclxuICAgIGxldCBjb250YWluZXJIZWlnaHQgPSBjb250YWluZXJSZWN0LmhlaWdodDtcclxuICAgIGxldCBvcHRpb25Ub3AgPSBvcHRpb25SZWN0LnRvcDtcclxuICAgIGxldCBvcHRpb25Cb3R0b20gPSBvcHRpb25SZWN0LmJvdHRvbTtcclxuICAgIGxldCBvcHRpb25IZWlnaHQgPSBvcHRpb25SZWN0LmhlaWdodDtcclxuICAgIGxldCBvcHRpb25PZmZzZXRUb3AgPSAkZm9jdXNlZEVsZS5vZmZzZXRUb3A7XHJcbiAgICBsZXQgb3B0aW9uc1RvcCA9IERvbVV0aWxzLmdldERhdGEodGhpcy4kb3B0aW9ucywgJ3RvcCcsICdudW1iZXInKTtcclxuXHJcbiAgICAvKiBpZiBvcHRpb24gaGlkZGVuIG9uIHRvcCAqL1xyXG4gICAgaWYgKGNvbnRhaW5lclRvcCA+IG9wdGlvblRvcCkge1xyXG4gICAgICBuZXdTY3JvbGxUb3AgPSBvcHRpb25PZmZzZXRUb3AgKyBvcHRpb25zVG9wO1xyXG4gICAgfSBlbHNlIGlmIChjb250YWluZXJCb3R0b20gPCBvcHRpb25Cb3R0b20pIHtcclxuICAgICAgLyogaWYgb3B0aW9uIGhpZGRlbiBvbiBib3R0b20gKi9cclxuICAgICAgbmV3U2Nyb2xsVG9wID1cclxuICAgICAgICBvcHRpb25PZmZzZXRUb3AgLSBjb250YWluZXJIZWlnaHQgKyBvcHRpb25IZWlnaHQgKyBvcHRpb25zVG9wO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZXdTY3JvbGxUb3AgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLiRvcHRpb25zQ29udGFpbmVyLnNjcm9sbFRvcCA9IG5ld1Njcm9sbFRvcDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZU9wdGlvbkZvY3VzKCkge1xyXG4gICAgbGV0ICRmb2N1c2VkRWxlID0gdGhpcy4kZHJvcGJveENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLnZzY29tcC1vcHRpb24uZm9jdXNlZCdcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCEkZm9jdXNlZEVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgRG9tVXRpbHMucmVtb3ZlQ2xhc3MoJGZvY3VzZWRFbGUsICdmb2N1c2VkJyk7XHJcbiAgICB0aGlzLnRvZ2dsZUZvY3VzZWRQcm9wKG51bGwpO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0T3B0aW9uKCRlbGUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGlzQWRkaW5nID0gIURvbVV0aWxzLmhhc0NsYXNzKCRlbGUsICdzZWxlY3RlZCcpO1xyXG5cclxuICAgIGlmIChpc0FkZGluZykge1xyXG4gICAgICBpZiAodGhpcy5tdWx0aXBsZSAmJiB0aGlzLmlzTWF4VmFsdWVzU2VsZWN0ZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8qKiBvbiBzZWxlY3Rpbmcgc2FtZSB2YWx1ZSBpbiBzaW5nbGUgc2VsZWN0ICovXHJcbiAgICAgIGlmICghdGhpcy5tdWx0aXBsZSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2VEcm9wYm94KCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gdGhpcy5zZWxlY3RlZFZhbHVlcztcclxuICAgIGxldCBzZWxlY3RlZFZhbHVlID0gRG9tVXRpbHMuZ2V0RGF0YSgkZWxlLCAndmFsdWUnKTtcclxuICAgIGxldCBzZWxlY3RlZEluZGV4ID0gRG9tVXRpbHMuZ2V0RGF0YSgkZWxlLCAnaW5kZXgnKTtcclxuXHJcbiAgICB0aGlzLnRvZ2dsZVNlbGVjdGVkUHJvcChzZWxlY3RlZEluZGV4LCBpc0FkZGluZyk7XHJcblxyXG4gICAgaWYgKGlzQWRkaW5nKSB7XHJcbiAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZXMucHVzaChzZWxlY3RlZFZhbHVlKTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUFsbE9wdGlvbnNDbGFzcygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChzZWxlY3RlZFZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICAgIHRoaXMudG9nZ2xlU2VsZWN0ZWRQcm9wKFxyXG4gICAgICAgICAgICB0aGlzLmdldE9wdGlvbkluZGV4KHNlbGVjdGVkVmFsdWVzWzBdKSxcclxuICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxlY3RlZFZhbHVlcyA9IFtzZWxlY3RlZFZhbHVlXTtcclxuICAgICAgICBsZXQgJHByZXZTZWxlY3RlZE9wdGlvbiA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgJy52c2NvbXAtb3B0aW9uLnNlbGVjdGVkJ1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICgkcHJldlNlbGVjdGVkT3B0aW9uKSB7XHJcbiAgICAgICAgICBEb21VdGlscy50b2dnbGVDbGFzcygkcHJldlNlbGVjdGVkT3B0aW9uLCAnc2VsZWN0ZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNsb3NlRHJvcGJveCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBEb21VdGlscy50b2dnbGVDbGFzcygkZWxlLCAnc2VsZWN0ZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgICAgRG9tVXRpbHMudG9nZ2xlQ2xhc3MoJGVsZSwgJ3NlbGVjdGVkJyk7XHJcbiAgICAgICAgVXRpbHMucmVtb3ZlSXRlbUZyb21BcnJheShzZWxlY3RlZFZhbHVlcywgc2VsZWN0ZWRWYWx1ZSk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVBbGxPcHRpb25zQ2xhc3MoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKERvbVV0aWxzLmhhc0NsYXNzKCRlbGUsICdjdXJyZW50LW5ldycpKSB7XHJcbiAgICAgIHRoaXMuYmVmb3JlU2VsZWN0TmV3VmFsdWUoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFZhbHVlKHNlbGVjdGVkVmFsdWVzLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIHNlbGVjdEZvY3VzZWRPcHRpb24oKSB7XHJcbiAgICB0aGlzLnNlbGVjdE9wdGlvbihcclxuICAgICAgdGhpcy4kZHJvcGJveENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcudnNjb21wLW9wdGlvbi5mb2N1c2VkJylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVBbGxPcHRpb25zKGlzU2VsZWN0ZWQpIHtcclxuICAgIGlmICghdGhpcy5tdWx0aXBsZSB8fCB0aGlzLmRpc2FibGVTZWxlY3RBbGwpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgaXNTZWxlY3RlZCAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgIGlzU2VsZWN0ZWQgPSAhRG9tVXRpbHMuaGFzQ2xhc3ModGhpcy4kdG9nZ2xlQWxsQ2hlY2tib3gsICdjaGVja2VkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gW107XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgaWYgKGQuaXNEaXNhYmxlZCB8fCBkLmlzQ3VycmVudE5ldyB8fCBkLmlzR3JvdXBUaXRsZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZC5pc1NlbGVjdGVkID0gaXNTZWxlY3RlZDtcclxuXHJcbiAgICAgIGlmIChpc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZXMucHVzaChkLnZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy50b2dnbGVBbGxPcHRpb25zQ2xhc3MoaXNTZWxlY3RlZCk7XHJcbiAgICB0aGlzLnNldFZhbHVlKHNlbGVjdGVkVmFsdWVzLCB0cnVlKTtcclxuICAgIHRoaXMucmVuZGVyT3B0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlQWxsT3B0aW9uc0NsYXNzKGlzQWxsU2VsZWN0ZWQpIHtcclxuICAgIGlmICh0eXBlb2YgaXNBbGxTZWxlY3RlZCAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgIGlzQWxsU2VsZWN0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgaXNBbGxTZWxlY3RlZCA9ICF0aGlzLm9wdGlvbnMuc29tZSgoZCkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuICFkLmlzU2VsZWN0ZWQgJiYgIWQuaXNEaXNhYmxlZCAmJiAhZC5pc0dyb3VwVGl0bGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBEb21VdGlscy50b2dnbGVDbGFzcyh0aGlzLiR0b2dnbGVBbGxDaGVja2JveCwgJ2NoZWNrZWQnLCBpc0FsbFNlbGVjdGVkKTtcclxuICAgIHRoaXMuaXNBbGxTZWxlY3RlZCA9IGlzQWxsU2VsZWN0ZWQ7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVGb2N1c2VkUHJvcChpbmRleCwgaXNGb2N1c2VkID0gZmFsc2UpIHtcclxuICAgIGlmICh0aGlzLmZvY3VzZWRPcHRpb25JbmRleCkge1xyXG4gICAgICB0aGlzLnNldE9wdGlvblByb3AodGhpcy5mb2N1c2VkT3B0aW9uSW5kZXgsICdpc0ZvY3VzZWQnLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRPcHRpb25Qcm9wKGluZGV4LCAnaXNGb2N1c2VkJywgaXNGb2N1c2VkKTtcclxuICAgIHRoaXMuZm9jdXNlZE9wdGlvbkluZGV4ID0gaW5kZXg7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVTZWxlY3RlZFByb3AoaW5kZXgsIGlzU2VsZWN0ZWQgPSBmYWxzZSkge1xyXG4gICAgdGhpcy5zZXRPcHRpb25Qcm9wKGluZGV4LCAnaXNTZWxlY3RlZCcsIGlzU2VsZWN0ZWQpO1xyXG4gIH1cclxuXHJcbiAgc2Nyb2xsVG9Ub3AoKSB7XHJcbiAgICBsZXQgaXNDbG9zZWQgPSAhdGhpcy5pc09wZW5lZCgpO1xyXG5cclxuICAgIGlmIChpc0Nsb3NlZCkge1xyXG4gICAgICB0aGlzLm9wZW5Ecm9wYm94KHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzY3JvbGxUb3AgPSB0aGlzLiRvcHRpb25zQ29udGFpbmVyLnNjcm9sbFRvcDtcclxuXHJcbiAgICBpZiAoc2Nyb2xsVG9wID4gMCkge1xyXG4gICAgICB0aGlzLiRvcHRpb25zQ29udGFpbmVyLnNjcm9sbFRvcCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzQ2xvc2VkKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VEcm9wYm94KHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBkLmlzU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuYmVmb3JlVmFsdWVTZXQodHJ1ZSk7XHJcbiAgICB0aGlzLnNldFZhbHVlKG51bGwsIHRydWUpO1xyXG4gICAgdGhpcy5hZnRlclZhbHVlU2V0KCk7XHJcbiAgfVxyXG5cclxuICBiZWZvcmVWYWx1ZVNldChpc1Jlc2V0KSB7XHJcbiAgICB0aGlzLnRvZ2dsZUFsbE9wdGlvbnNDbGFzcyhpc1Jlc2V0ID8gZmFsc2UgOiB1bmRlZmluZWQpO1xyXG4gIH1cclxuXHJcbiAgYWZ0ZXJWYWx1ZVNldCgpIHtcclxuICAgIHRoaXMuc2Nyb2xsVG9Ub3AoKTtcclxuICAgIHRoaXMuc2V0U2VhcmNoVmFsdWUoJycpO1xyXG4gICAgdGhpcy5yZW5kZXJPcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICBhZnRlclNldE9wdGlvbnMoa2VlcFZhbHVlKSB7XHJcbiAgICBpZiAoa2VlcFZhbHVlKSB7XHJcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQcm9wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRPcHRpb25zSGVpZ2h0KCk7XHJcbiAgICB0aGlzLnNldFZpc2libGVPcHRpb25zKCk7XHJcblxyXG4gICAgaWYgKCFrZWVwVmFsdWUpIHtcclxuICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWRkT3B0aW9uKGRhdGEsIHJlcmVuZGVyKSB7XHJcbiAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubGFzdE9wdGlvbkluZGV4Kys7XHJcbiAgICBkYXRhLmluZGV4ID0gdGhpcy5sYXN0T3B0aW9uSW5kZXg7XHJcbiAgICBsZXQgbmV3T3B0aW9uID0gdGhpcy5nZXRPcHRpb25PYmooZGF0YSk7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLnB1c2gobmV3T3B0aW9uKTtcclxuICAgIHRoaXMuc29ydGVkT3B0aW9ucy5wdXNoKG5ld09wdGlvbik7XHJcblxyXG4gICAgaWYgKHJlcmVuZGVyKSB7XHJcbiAgICAgIHRoaXMudmlzaWJsZU9wdGlvbnNDb3VudCsrO1xyXG4gICAgICB0aGlzLmFmdGVyU2V0T3B0aW9ucygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlT3B0aW9uKGluZGV4KSB7XHJcbiAgICBpZiAoIWluZGV4ICYmIGluZGV4ICE9IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub3B0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgdGhpcy5sYXN0T3B0aW9uSW5kZXgtLTtcclxuICB9XHJcblxyXG4gIHJlbW92ZU5ld09wdGlvbigpIHtcclxuICAgIGxldCBuZXdPcHRpb24gPSB0aGlzLmdldE5ld09wdGlvbigpO1xyXG5cclxuICAgIGlmIChuZXdPcHRpb24pIHtcclxuICAgICAgdGhpcy5yZW1vdmVPcHRpb24obmV3T3B0aW9uLmluZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGJlZm9yZVNlbGVjdE5ld1ZhbHVlKCkge1xyXG4gICAgbGV0IG5ld09wdGlvbiA9IHRoaXMuZ2V0TmV3T3B0aW9uKCk7XHJcbiAgICBsZXQgbmV3SW5kZXggPSBuZXdPcHRpb24uaW5kZXg7XHJcblxyXG4gICAgdGhpcy5uZXdWYWx1ZXMucHVzaChuZXdPcHRpb24udmFsdWUpO1xyXG4gICAgdGhpcy5zZXRPcHRpb25Qcm9wKG5ld0luZGV4LCAnaXNDdXJyZW50TmV3JywgZmFsc2UpO1xyXG4gICAgdGhpcy5zZXRPcHRpb25Qcm9wKG5ld0luZGV4LCAnaXNOZXcnLCB0cnVlKTtcclxuXHJcbiAgICAvKiogdXNpbmcgc2V0VGltZW91dCB0byBmaXggdGhlIGlzc3VlIG9mIGRyb3Bib3ggZ2V0dGluZyBjbG9zZWQgb24gc2VsZWN0ICovXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5zZXRTZWFyY2hWYWx1ZSgnJyk7XHJcbiAgICAgIHRoaXMuZm9jdXNTZWFyY2hJbnB1dCgpO1xyXG4gICAgfSwgMCk7XHJcbiAgfVxyXG5cclxuICBzb3J0T3B0aW9ucyhvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gb3B0aW9ucy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgIGlmICghYS5pc1NlbGVjdGVkICYmICFiLmlzU2VsZWN0ZWQpIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfSBlbHNlIGlmIChhLmlzU2VsZWN0ZWQgJiYgKCFiLmlzU2VsZWN0ZWQgfHwgYS5pbmRleCA8IGIuaW5kZXgpKSB7XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNvcnRPcHRpb25zR3JvdXAob3B0aW9ucykge1xyXG4gICAgbGV0IHNvcnRPcHRpb25zID0gdGhpcy5zb3J0T3B0aW9ucztcclxuICAgIG9wdGlvbnMgPSB0aGlzLnN0cnVjdHVyZU9wdGlvbkdyb3VwKG9wdGlvbnMpO1xyXG5cclxuICAgIG9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBsZXQgY2hpbGRPcHRpb25zID0gZC5vcHRpb25zO1xyXG4gICAgICBkLmlzU2VsZWN0ZWQgPSBjaGlsZE9wdGlvbnMuc29tZSgoZSkgPT4gZS5pc1NlbGVjdGVkKTtcclxuXHJcbiAgICAgIGlmIChkLmlzU2VsZWN0ZWQpIHtcclxuICAgICAgICBzb3J0T3B0aW9ucyhjaGlsZE9wdGlvbnMpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBzb3J0T3B0aW9ucyhvcHRpb25zKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5kZXN0cnVjdHVyZU9wdGlvbkdyb3VwKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgaXNPcHRpb25WaXNpYmxlKGQsIHNlYXJjaFZhbHVlLCBoYXNFeGFjdE9wdGlvbiwgdmlzaWJsZU9wdGlvbkdyb3Vwc01hcHBpbmcpIHtcclxuICAgIGxldCB2YWx1ZSA9IGQubGFiZWwudG9Mb3dlckNhc2UoKTtcclxuICAgIGxldCBkZXNjcmlwdGlvbiA9IGQuZGVzY3JpcHRpb247XHJcbiAgICBsZXQgYWxpYXMgPSBkLmFsaWFzO1xyXG4gICAgbGV0IGlzVmlzaWJsZSA9IHZhbHVlLmluZGV4T2Yoc2VhcmNoVmFsdWUpICE9PSAtMTtcclxuXHJcbiAgICBpZiAoZC5pc0dyb3VwVGl0bGUpIHtcclxuICAgICAgaXNWaXNpYmxlID0gdmlzaWJsZU9wdGlvbkdyb3Vwc01hcHBpbmdbZC5pbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFsaWFzICYmICFpc1Zpc2libGUpIHtcclxuICAgICAgaXNWaXNpYmxlID0gYWxpYXMuaW5kZXhPZihzZWFyY2hWYWx1ZSkgIT09IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkZXNjcmlwdGlvbiAmJiAhaXNWaXNpYmxlKSB7XHJcbiAgICAgIGlzVmlzaWJsZSA9IGRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hWYWx1ZSkgIT09IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIGQuaXNWaXNpYmxlID0gaXNWaXNpYmxlO1xyXG5cclxuICAgIGlmICghaGFzRXhhY3RPcHRpb24pIHtcclxuICAgICAgaGFzRXhhY3RPcHRpb24gPSB2YWx1ZSA9PT0gc2VhcmNoVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNWaXNpYmxlLFxyXG4gICAgICBoYXNFeGFjdE9wdGlvbixcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzdHJ1Y3R1cmVPcHRpb25Hcm91cChvcHRpb25zKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICBsZXQgY2hpbGRPcHRpb25zID0ge307XHJcblxyXG4gICAgLyoqIGdldHRpbmcgYWxsIGdyb3VwIHRpdGxlICovXHJcbiAgICBvcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgaWYgKGQuaXNHcm91cFRpdGxlKSB7XHJcbiAgICAgICAgbGV0IGNoaWxkQXJyYXkgPSBbXTtcclxuICAgICAgICBkLm9wdGlvbnMgPSBjaGlsZEFycmF5O1xyXG4gICAgICAgIGNoaWxkT3B0aW9uc1tkLmluZGV4XSA9IGNoaWxkQXJyYXk7XHJcblxyXG4gICAgICAgIHJlc3VsdC5wdXNoKGQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKiogZ2V0dGluZyBhbGwgZ3JvdXAgb3B0aW9ucyAqL1xyXG4gICAgb3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIGlmIChkLmlzR3JvdXBPcHRpb24pIHtcclxuICAgICAgICBjaGlsZE9wdGlvbnNbZC5ncm91cEluZGV4XS5wdXNoKGQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgZGVzdHJ1Y3R1cmVPcHRpb25Hcm91cChvcHRpb25zKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gW107XHJcblxyXG4gICAgb3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5wdXNoKGQpO1xyXG4gICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGQub3B0aW9ucyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgc2VydmVyU2VhcmNoKHNlYXJjaFZhbHVlKSB7XHJcbiAgICBEb21VdGlscy5yZW1vdmVDbGFzcyh0aGlzLiR3cmFwcGVyLCAnaGFzLW5vLW9wdGlvbnMnKTtcclxuICAgIERvbVV0aWxzLmFkZENsYXNzKHRoaXMuJHdyYXBwZXIsICdzZXJ2ZXItc2VhcmNoaW5nJyk7XHJcbiAgICB0aGlzLm9uU2VydmVyU2VhcmNoKHNlYXJjaFZhbHVlLCB0aGlzKTtcclxuICB9XHJcblxyXG4gIC8qKiBzdGF0aWMgbWV0aG9kcyAtIHN0YXJ0ICovXHJcbiAgc3RhdGljIGluaXQob3B0aW9ucykge1xyXG4gICAgbGV0ICRlbGVBcnJheSA9IG9wdGlvbnMuZWxlO1xyXG5cclxuICAgIGlmICghJGVsZUFycmF5KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2luZ2xlRWxlID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKHR5cGVvZiAkZWxlQXJyYXkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICRlbGVBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJGVsZUFycmF5KTtcclxuXHJcbiAgICAgIGlmICghJGVsZUFycmF5KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCRlbGVBcnJheS5sZW5ndGggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAkZWxlQXJyYXkgPSBbJGVsZUFycmF5XTtcclxuICAgICAgc2luZ2xlRWxlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaW5zdGFuY2VzID0gW107XHJcbiAgICAkZWxlQXJyYXkuZm9yRWFjaCgoJGVsZSkgPT4ge1xyXG4gICAgICBvcHRpb25zLmVsZSA9ICRlbGU7XHJcbiAgICAgIGluc3RhbmNlcy5wdXNoKG5ldyBWaXJ0dWFsU2VsZWN0KG9wdGlvbnMpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBzaW5nbGVFbGUgPyBpbnN0YW5jZXNbMF0gOiBpbnN0YW5jZXM7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY2xvc2VBbGxEcm9wYm94KCRlbGVUb0tlZXBPcGVuKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnNjb21wLXdyYXBwZXInKS5mb3JFYWNoKCgkZWxlKSA9PiB7XHJcbiAgICAgIGlmICgkZWxlVG9LZWVwT3BlbiAmJiAkZWxlVG9LZWVwT3BlbiA9PT0gJGVsZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJGVsZS5wYXJlbnRFbGVtZW50LnZpcnR1YWxTZWxlY3QuY2xvc2VEcm9wYm94KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyByZXNldEZvcm0oZSkge1xyXG4gICAgbGV0ICRmb3JtID0gZS50YXJnZXQuY2xvc2VzdCgnZm9ybScpO1xyXG5cclxuICAgIGlmICghJGZvcm0pIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICRmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c2NvbXAtd3JhcHBlcicpLmZvckVhY2goKCRlbGUpID0+IHtcclxuICAgICAgJGVsZS5wYXJlbnRFbGVtZW50LnZpcnR1YWxTZWxlY3QucmVzZXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJlc2V0KCkge1xyXG4gICAgdGhpcy52aXJ0dWFsU2VsZWN0LnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2V0VmFsdWVNZXRob2QodmFsdWUsIHNpbGVudENoYW5nZSkge1xyXG4gICAgdGhpcy52aXJ0dWFsU2VsZWN0LnNldFZhbHVlTWV0aG9kKHZhbHVlLCBzaWxlbnRDaGFuZ2UpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldE9wdGlvbnNNZXRob2Qob3B0aW9ucykge1xyXG4gICAgdGhpcy52aXJ0dWFsU2VsZWN0LnNldE9wdGlvbnNNZXRob2Qob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2V0RGlzYWJsZWRPcHRpb25zTWV0aG9kKG9wdGlvbnMpIHtcclxuICAgIHRoaXMudmlydHVhbFNlbGVjdC5zZXREaXNhYmxlZE9wdGlvbnNNZXRob2Qob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdG9nZ2xlU2VsZWN0QWxsKGlzU2VsZWN0ZWQpIHtcclxuICAgIHRoaXMudmlydHVhbFNlbGVjdC50b2dnbGVBbGxPcHRpb25zKGlzU2VsZWN0ZWQpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGlzQWxsU2VsZWN0ZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52aXJ0dWFsU2VsZWN0LmlzQWxsU2VsZWN0ZWQ7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYWRkT3B0aW9uTWV0aG9kKGRhdGEpIHtcclxuICAgIHRoaXMudmlydHVhbFNlbGVjdC5hZGRPcHRpb24oZGF0YSwgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0TmV3VmFsdWVNZXRob2QoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52aXJ0dWFsU2VsZWN0LmdldE5ld1ZhbHVlKCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdmVyc2lvbigpIHtcclxuICAgIHJldHVybiB2aXJ0dWFsU2VsZWN0VmVyc2lvbjtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXREaXNwbGF5VmFsdWVNZXRob2QoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52aXJ0dWFsU2VsZWN0LmdldERpc3BsYXlWYWx1ZSgpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIG9wZW5NZXRob2QoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52aXJ0dWFsU2VsZWN0Lm9wZW5Ecm9wYm94KCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY2xvc2VNZXRob2QoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52aXJ0dWFsU2VsZWN0LmNsb3NlRHJvcGJveCgpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIG9uUmVzaXplTWV0aG9kKCkge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnZzY29tcC13cmFwcGVyJykuZm9yRWFjaCgoJGVsZSkgPT4ge1xyXG4gICAgICAkZWxlLnBhcmVudEVsZW1lbnQudmlydHVhbFNlbGVjdC5vblJlc2l6ZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8qKiBzdGF0aWMgbWV0aG9kcyAtIGVuZCAqL1xyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdyZXNldCcsIFZpcnR1YWxTZWxlY3QucmVzZXRGb3JtKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIFZpcnR1YWxTZWxlY3Qub25SZXNpemVNZXRob2QpO1xyXG5cclxud2luZG93LlZpcnR1YWxTZWxlY3QgPSBWaXJ0dWFsU2VsZWN0O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9