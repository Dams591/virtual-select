/*!
 * Virtual Select v1.0.6
 * https://sa-si-dev.github.io/virtual-select
 * Licensed under MIT (https://github.com/sa-si-dev/virtual-select/blob/master/LICENSE)
 */(()=>{"use strict";var t={"./src/utils/dom-utils.js":
/*!********************************!*\
  !*** ./src/utils/dom-utils.js ***!
  \********************************/(t,e,i)=>{function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}i.r(e),i.d(e,{DomUtils:()=>l});var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,s;return e=t,s=[{key:"addClass",value:function(t,e){t&&(e=e.split(" "),this.getElements(t).forEach((function(t){var i;(i=t.classList).add.apply(i,o(e))})))}},{key:"removeClass",value:function(t,e){t&&(e=e.split(" "),this.getElements(t).forEach((function(t){var i;(i=t.classList).remove.apply(i,o(e))})))}},{key:"toggleClass",value:function(t,e,i){var o;if(t)return void 0!==i&&(i=Boolean(i)),this.getElements(t).forEach((function(t){o=t.classList.toggle(e,i)})),o}},{key:"hasClass",value:function(t,e){return!!t&&t.classList.contains(e)}},{key:"hasEllipsis",value:function(t){return!!t&&t.scrollWidth>t.offsetWidth}},{key:"getMoreVisibleSides",value:function(t){if(!t)return{};var e=t.getBoundingClientRect(),i=window.innerWidth,o=window.innerHeight,s=e.left,n=e.top;return{horizontal:s>i-s-e.width?"left":"right",vertical:n>o-n-e.height?"top":"bottom"}}},{key:"getData",value:function(t,e,i){if(t){var o=t?t.dataset[e]:"";return"number"===i?o=parseFloat(o)||0:"true"===o?o=!0:"false"===o&&(o=!1),o}}},{key:"setData",value:function(t,e,i){t&&(t.dataset[e]=i)}},{key:"setStyle",value:function(t,e,i){t&&(t.style[e]=i)}},{key:"getElements",value:function(t){if(t)return void 0===t.length&&(t=[t]),t}},{key:"getStyleText",value:function(t,e){var i="";for(var o in t)i+="".concat(o,": ").concat(t[o],";");return i&&!e&&(i='style="'.concat(i,'"')),i}},{key:"getAttributesText",value:function(t){var e="";if(!t)return e;for(var i in t){var o=t[i];void 0!==o&&(e+=" ".concat(i,'="').concat(o,'" '))}return e}}],(i=null)&&n(e.prototype,i),s&&n(e,s),t}()},"./src/utils/index.js":
/*!****************************!*\
  !*** ./src/utils/index.js ***!
  \****************************/(t,e,i)=>{i.r(e),i.d(e,{Utils:()=>o.Utils,DomUtils:()=>s.DomUtils});var o=i(/*! ./utils */"./src/utils/utils.js"),s=i(/*! ./dom-utils */"./src/utils/dom-utils.js")},"./src/utils/utils.js":
/*!****************************!*\
  !*** ./src/utils/utils.js ***!
  \****************************/(t,e,i)=>{function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}i.r(e),i.d(e,{Utils:()=>a});var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,s;return e=t,s=[{key:"getString",value:function(t){return t||0===t?t.toString():""}},{key:"convertToBoolean",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=!0===t||"true"===t||!1!==t&&"false"!==t&&e}},{key:"isEmpty",value:function(t){var e=!1;return t?Array.isArray(t)?0===t.length&&(e=!0):"object"===n(t)&&0===Object.keys(t).length&&(e=!0):e=!0,e}},{key:"isNotEmpty",value:function(t){return!this.isEmpty(t)}},{key:"removeItemFromArray",value:function(t,e,i){if(!Array.isArray(t)||!t.length||!e)return t;i&&(t=o(t));var s=t.indexOf(e);return-1!==s&&t.splice(s,1),t}},{key:"removeArrayEmpty",value:function(t){return Array.isArray(t)&&t.length?t.filter((function(t){return!!t})):[]}}],(i=null)&&l(e.prototype,i),s&&l(e,s),t}()}},e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={exports:{}};return t[o](s,s.exports,i),s.exports}i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};(()=>{
/*!*******************************!*\
  !*** ./src/virtual-select.js ***!
  \*******************************/
i.r(o),i.d(o,{VirtualSelect:()=>u});var t=i(/*! ./utils */"./src/utils/index.js");function e(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,s=function(){};return{s,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){r=!0,l=t},f:function(){try{a||null==i.return||i.return()}finally{if(r)throw l}}}}function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function a(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r="{#virtual-select-none-option#}",p={13:"onEnterPress",27:"onEscPress",38:"onUpArrowPress",40:"onDownArrowPress"},u=function(){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);try{this.setProps(t),this.setDisabledOptions(t.disabledOptions),this.setOptions(t.options),this.render()}catch(t){console.warn("Couldn't initiate Virtual Select"),console.error(t)}}var o,n,l;return o=i,l=[{key:"init",value:function(t){var e=t.ele;if(e){var o=!1;if("string"!=typeof e||(e=document.querySelector(e))){void 0===e.length&&(e=[e],o=!0);var s=[];return e.forEach((function(e){t.ele=e,s.push(new i(t))})),o?s[0]:s}}}},{key:"closeAllDropbox",value:function(t){document.querySelectorAll(".vscomp-wrapper").forEach((function(e){t&&t==e||e.parentElement.virtualSelect.closeDropbox()}))}},{key:"resetForm",value:function(t){var e=t.target.closest("form");e&&e.querySelectorAll(".vscomp-wrapper").forEach((function(t){t.parentElement.virtualSelect.reset()}))}},{key:"reset",value:function(){this.virtualSelect.reset()}},{key:"setValueMethod",value:function(t,e){this.virtualSelect.setValueMethod(t,e)}},{key:"setOptionsMethod",value:function(t){this.virtualSelect.setOptionsMethod(t)}},{key:"setDisabledOptionsMethod",value:function(t){this.virtualSelect.setDisabledOptionsMethod(t)}},{key:"toggleSelectAll",value:function(t){this.virtualSelect.toggleAllOptions(t)}},{key:"isAllSelected",value:function(){return this.virtualSelect.isAllSelected}},{key:"addOptionMethod",value:function(t){this.virtualSelect.addOption(t,!0)}},{key:"getNewValueMethod",value:function(){return this.virtualSelect.getNewValue()}},{key:"version",value:function(){return"v1.0.6"}},{key:"getDisplayValueMethod",value:function(){return this.virtualSelect.getDisplayValue()}},{key:"openMethod",value:function(){return this.virtualSelect.openDropbox()}},{key:"closeMethod",value:function(){return this.virtualSelect.closeDropbox()}},{key:"onResizeMethod",value:function(){document.querySelectorAll(".vscomp-wrapper").forEach((function(t){t.parentElement.virtualSelect.onResize()}))}}],(n=[{key:"render",value:function(){if(this.$ele){var e="vscomp-wrapper",i=this.getTooltipAttrText("",!this.multiple,!0),o=this.getTooltipAttrText("Clear"),s={"z-index":this.zIndex};this.additionalClasses&&(e+=" "+this.additionalClasses),this.multiple&&(e+=" multiple",this.disableSelectAll||(e+=" has-select-all")),"top"===this.position&&(e+=" position-top"),this.hideClearButton||(e+=" has-clear-button"),this.keepAlwaysOpen?e+=" keep-always-open opened":e+=" closed",this.showAsPopup?e+=" show-as-popup":this.dropboxWidth&&(s.width=this.dropboxWidth),this.hasSearch&&(e+=" has-search-input");var n='<div class="'.concat(e,'" tabindex="0">\n        <input type="hidden" name="').concat(this.name,'" class="vscomp-hidden-input">\n\n        <div class="vscomp-toggle-button">\n          <div class="vscomp-value" ').concat(i,">\n            ").concat(this.placeholder,'\n          </div>\n\n          <div class="vscomp-arrow"></div>\n\n          <div class="vscomp-clear-button toggle-button-child" ').concat(o,'>\n            <i class="vscomp-clear-icon"></i>\n          </div>\n        </div>\n\n        <div class="vscomp-dropbox-container" ').concat(t.DomUtils.getStyleText(s),'>\n          <div class="vscomp-dropbox">\n            <div class="vscomp-search-wrapper"></div>\n\n            <div class="vscomp-options-container">\n              <div class="vscomp-options-loader"></div>\n\n              <div class="vscomp-options-list">\n                <div class="vscomp-options"></div>\n              </div>\n            </div>\n\n            <div class="vscomp-no-options">').concat(this.noOptionsText,'</div>\n            <div class="vscomp-no-search-results">').concat(this.noSearchResultsText,'</div>\n\n            <span class="vscomp-dropbox-close-button"><i class="vscomp-clear-icon"></i></span>\n          </div>\n        </div>\n      </div>');this.$ele.innerHTML=n,this.$body=document.querySelector("body"),this.$wrapper=this.$ele.querySelector(".vscomp-wrapper"),this.$toggleButton=this.$ele.querySelector(".vscomp-toggle-button"),this.$clearButton=this.$ele.querySelector(".vscomp-clear-button"),this.$dropboxContainer=this.$ele.querySelector(".vscomp-dropbox-container"),this.$dropboxCloseButton=this.$ele.querySelector(".vscomp-dropbox-close-button"),this.$search=this.$ele.querySelector(".vscomp-search-wrapper"),this.$optionsContainer=this.$ele.querySelector(".vscomp-options-container"),this.$optionsList=this.$ele.querySelector(".vscomp-options-list"),this.$options=this.$ele.querySelector(".vscomp-options"),this.$valueText=this.$ele.querySelector(".vscomp-value"),this.$hiddenInput=this.$ele.querySelector(".vscomp-hidden-input"),this.$noOptions=this.$ele.querySelector(".vscomp-no-options"),this.$noSearchResults=this.$ele.querySelector(".vscomp-no-search-results"),this.afterRenderWrapper()}}},{key:"renderOptions",value:function(){var e,i=this,o="",s=this.getVisibleOptions(),n="",l="",a=!(!this.markSearchResults||!this.searchValue),p=t.DomUtils.getStyleText({height:this.optionHeight+"px"});if(a&&(e=new RegExp("(".concat(this.searchValue,")"),"gi")),this.multiple&&(n='<span class="checkbox-icon"></span>'),this.allowNewOption){var u=this.getTooltipAttrText("New Option");l='<span class="vscomp-new-option-icon" '.concat(u,"></span>")}s.forEach((function(t){var s=t.label,u="vscomp-option",c=i.getTooltipAttrText("",!0),h=n,d="",v="";t.isFocused&&(u+=" focused"),t.isDisabled&&(u+=" disabled"),t.isGroupTitle?(u+=" group-title",h=""):t.isSelected&&(u+=" selected"),t.isGroupOption&&(u+=" group-option"),t.description&&(v='<div class="vscomp-option-description" '.concat(c,">").concat(t.description,"</div>")),t.isCurrentNew?(u+=" current-new",d+=l):a&&!t.isGroupTitle&&(s=s.replace(e,"<mark>$1</mark>")),o+='<div class="'.concat(u,'" data-value="').concat(t.value,'" data-index="').concat(t.index,'" data-visible-index="').concat(t.visibleIndex,'" ').concat(p,">\n          ").concat(h,'\n          <span class="vscomp-option-text ').concat(t.value===r?"none":"",'" ').concat(c,">\n            ").concat(s,"\n          </span>\n          ").concat(v,"\n          ").concat(d,"\n        </div>")})),this.$options.innerHTML=o;var c=!this.options.length,h=!c&&!s.length;this.allowNewOption||t.DomUtils.toggleClass(this.$wrapper,"has-no-search-results",h),t.DomUtils.toggleClass(this.$wrapper,"has-no-options",c),this.setOptionsPosition(),this.setOptionsTooltip()}},{key:"renderSearch",value:function(){if(this.hasSearchContainer){var t="",e="";this.multiple&&!this.disableSelectAll&&(t='<span class="vscomp-toggle-all-button">\n          <span class="checkbox-icon vscomp-toggle-all-checkbox"></span>\n          <span class="vscomp-toggle-all-label">'.concat(this.selectAllText,"</span>\n        </span>")),this.hasSearch&&(e='<input type="text" class="vscomp-search-input" placeholder="'.concat(this.searchPlaceholder,'">\n      <span class="vscomp-search-clear">&times;</span>'));var i='<div class="vscomp-search-container">\n        '.concat(t,"\n        ").concat(e,"\n      </div>");this.$search.innerHTML=i,this.$searchInput=this.$ele.querySelector(".vscomp-search-input"),this.$searchClear=this.$ele.querySelector(".vscomp-search-clear"),this.$toggleAllButton=this.$ele.querySelector(".vscomp-toggle-all-button"),this.$toggleAllCheckbox=this.$ele.querySelector(".vscomp-toggle-all-checkbox"),this.addEvent(this.$searchInput,"keyup change","onSearch"),this.addEvent(this.$searchClear,"click","onSearchClear"),this.addEvent(this.$toggleAllButton,"click","onToggleAllOptions")}}},{key:"addEvents",value:function(){this.addEvent(document,"click","onDocumentClick"),this.addEvent(this.$wrapper,"keydown","onKeyDown"),this.addEvent(this.$toggleButton,"click","onToggleButtonClick"),this.addEvent(this.$clearButton,"click","onClearButtonClick"),this.addEvent(this.$dropboxContainer,"click","onDropboxContainerClick"),this.addEvent(this.$dropboxCloseButton,"click","onDropboxCloseButtonClick"),this.overrideScrollEventSelector?this.addEvent(this.$ele.querySelector(this.overrideScrollEventSelector),"scroll","onOptionsScroll"):this.addEvent(this.$optionsContainer,"scroll","onOptionsScroll"),this.addEvent(this.$options,"click","onOptionsClick"),this.addEvent(this.$options,"mouseover","onOptionsMouseOver"),this.addEvent(this.$options,"touchmove","onOptionsTouchMove")}},{key:"addEvent",value:function(e,i,o){var s=this;e&&(i=t.Utils.removeArrayEmpty(i.split(" "))).forEach((function(i){var n="".concat(o,"-").concat(i),l=s.events[n];l||(l=s[o].bind(s),s.events[n]=l),(e=t.DomUtils.getElements(e)).forEach((function(t){t.addEventListener(i,l)}))}))}},{key:"dispatchEvent",value:function(e,i){e&&(e=t.DomUtils.getElements(e),setTimeout((function(){e.forEach((function(t){t.dispatchEvent(new Event(i,{bubbles:!0}))}))}),0))}},{key:"onDocumentClick",value:function(t){i.closeAllDropbox(t.target.closest(".vscomp-wrapper"))}},{key:"onKeyDown",value:function(t){var e=t.which||t.keyCode,i=p[e];i&&this[i](t)}},{key:"onEnterPress",value:function(){this.isOpened()?this.selectFocusedOption():this.openDropbox()}},{key:"onEscPress",value:function(){this.isOpened()&&this.closeDropbox()}},{key:"onDownArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption("next"):this.openDropbox()}},{key:"onUpArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption("previous"):this.openDropbox()}},{key:"onToggleButtonClick",value:function(t){t.target.closest(".toggle-button-child")||this.toggleDropbox()}},{key:"onClearButtonClick",value:function(){this.reset()}},{key:"onOptionsScroll",value:function(){this.setVisibleOptions()}},{key:"onOptionsClick",value:function(t){this.selectOption(t.target.closest(".vscomp-option:not(.disabled):not(.group-title)"))}},{key:"onDropboxContainerClick",value:function(t){t.target.closest(".vscomp-dropbox")||this.closeDropbox()}},{key:"onDropboxCloseButtonClick",value:function(){this.closeDropbox()}},{key:"onOptionsMouseOver",value:function(t){var e=t.target.closest(".vscomp-option:not(.disabled):not(.group-title)");e&&this.focusOption(null,e)}},{key:"onOptionsTouchMove",value:function(){this.removeOptionFocus()}},{key:"onSearch",value:function(t){t.stopPropagation(),this.setSearchValue(t.target.value,!0)}},{key:"onSearchClear",value:function(){this.setSearchValue(""),this.focusSearchInput()}},{key:"onToggleAllOptions",value:function(){this.toggleAllOptions()}},{key:"onResize",value:function(){this.setOptionsContainerHeight(!0)}},{key:"afterRenderWrapper",value:function(){this.$ele.setAttribute("name",this.name),t.DomUtils.addClass(this.$ele,"vscomp-ele"),this.renderSearch(),this.setOptionsHeight(),this.setVisibleOptions(),this.setOptionsContainerHeight(),this.addEvents(),this.setMethods(),this.initialSelectedValue?this.setValueMethod(this.initialSelectedValue,this.silentInitialValueSet):this.autoSelectFirstOption&&this.visibleOptions.length&&this.setValueMethod(this.visibleOptions[0].value,this.silentInitialValueSet)}},{key:"afterSetOptionsContainerHeight",value:function(t){t&&this.showAsPopup&&this.setVisibleOptions()}},{key:"setProps",value:function(e){e=this.setDefaultProps(e),this.setPropsFromElementAttr(e);var i=t.Utils.convertToBoolean;this.$ele=e.ele,this.valueKey=e.valueKey,this.labelKey=e.labelKey,this.descriptionKey=e.descriptionKey,this.aliasKey=e.aliasKey,this.optionHeightText=e.optionHeight,this.optionHeight=parseFloat(this.optionHeightText),this.multiple=i(e.multiple),this.hasSearch=i(e.search),this.hideClearButton=i(e.hideClearButton),this.autoSelectFirstOption=i(e.autoSelectFirstOption),this.hasOptionDescription=i(e.hasOptionDescription),this.silentInitialValueSet=i(e.silentInitialValueSet),this.allowNewOption=i(e.allowNewOption),this.markSearchResults=i(e.markSearchResults),this.showSelectedOptionsFirst=i(e.showSelectedOptionsFirst),this.disableSelectAll=i(e.disableSelectAll),this.keepAlwaysOpen=i(e.keepAlwaysOpen),this.showDropboxAsPopup=i(e.showDropboxAsPopup),this.noOptionsText=e.noOptionsText,this.noSearchResultsText=e.noSearchResultsText,this.selectAllText=e.selectAllText,this.placeholder=e.placeholder,this.position=e.position,this.dropboxWidth=e.dropboxWidth,this.tooltipFontSize=e.tooltipFontSize,this.tooltipAlignment=e.tooltipAlignment,this.tooltipMaxWidth=e.tooltipMaxWidth,this.noOfDisplayValues=parseInt(e.noOfDisplayValues),this.zIndex=parseInt(e.zIndex),this.maxValues=parseInt(e.maxValues),this.name=e.name,this.additionalClasses=e.additionalClasses,this.initialSelectedValue=e.selectedValue,this.popupDropboxBreakpoint=e.popupDropboxBreakpoint,this.onServerSearch=e.onServerSearch,this.searchPlaceholder=e.searchPlaceholder,this.itemsSelectedMessage=e.itemsSelectedMessage,this.allowNoneOption=e.allowNoneOption,this.noneOptionText=e.noneOptionText,this.selectedValues=[],this.selectedIndexes=[],this.newValues=[],this.events={},this.tooltipEnterDelay=200,this.transitionDuration=250,this.searchValue="",this.searchValueOriginal="",this.isAllSelected=!1,(void 0===e.search&&this.multiple||this.allowNewOption)&&(this.hasSearch=!0),this.maxValues&&(this.disableSelectAll=!0),this.hasServerSearch="function"==typeof this.onServerSearch,this.showAsPopup=this.showDropboxAsPopup&&!this.keepAlwaysOpen&&window.innerWidth<=parseFloat(this.popupDropboxBreakpoint),this.hasSearchContainer=this.hasSearch||this.multiple&&!this.disableSelectAll,this.optionsCount=this.getOptionsCount(e.optionsCount),this.halfOptionsCount=Math.ceil(this.optionsCount/2),this.optionsHeight=this.getOptionsHeight()}},{key:"setDefaultProps",value:function(t){var e={valueKey:"value",labelKey:"label",descriptionKey:"description",aliasKey:"alias",optionsCount:5,noOfDisplayValues:50,optionHeight:"40px",multiple:!1,hideClearButton:!1,autoSelectFirstOption:!1,hasOptionDescription:!1,silentInitialValueSet:!1,disableSelectAll:!1,noOptionsText:"No options found",noSearchResultsText:"No results found",selectAllText:"Select All",placeholder:"Select",position:"auto",zIndex:1,allowNewOption:!1,markSearchResults:!1,tooltipFontSize:"14px",tooltipAlignment:"center",tooltipMaxWidth:"300px",showSelectedOptionsFirst:!1,name:"",additionalClasses:"",keepAlwaysOpen:!1,maxValues:0,showDropboxAsPopup:!0,popupDropboxBreakpoint:"576px",searchPlaceholder:"Search...",itemsSelectedMessage:"selected",allowNoneOption:!1,noneOptionText:"None"};return t.hasOptionDescription&&(e.optionsCount=4,e.optionHeight="60px"),Object.assign(e,t)}},{key:"setPropsFromElementAttr",value:function(t){var e=t.ele,i={multiple:"multiple",placeholder:"placeholder",name:"name","data-value-key":"valueKey","data-label-key":"labelKey","data-description-key":"descriptionKey","data-alias-key":"aliasKey","data-search":"search","data-hide-clear-button":"hideClearButton","data-auto-select-first-option":"autoSelectFirstOption","data-has-option-description":"hasOptionDescription","data-options-count":"optionsCount","data-option-height":"optionHeight","data-position":"position","data-no-options-text":"noOptionsText","data-no-search-results-text":"noSearchResultsText","data-select-all-text":"selectAllText","data-silent-initial-value-set":"silentInitialValueSet","data-dropbox-width":"dropboxWidth","data-z-index":"zIndex","data-no-of-display-values":"noOfDisplayValues","data-allow-new-option":"allowNewOption","data-mark-search-results":"markSearchResults","data-tooltip-font-size":"tooltipFontSize","data-tooltip-alignment":"tooltipAlignment","data-tooltip-max-width":"tooltipMaxWidth","data-show-selected-options-first":"showSelectedOptionsFirst","data-disable-select-all":"disableSelectAll","data-keep-always-open":"keepAlwaysOpen","data-max-values":"maxValues","data-additional-classes":"additionalClasses","data-show-dropbox-as-popup":"showDropboxAsPopup","data-popup-dropbox-breakpoint":"popupDropboxBreakpoint"};for(var o in i){var s=e.getAttribute(o);"multiple"!==o||""!==s&&"true"!==s||(s=!0),s&&(t[i[o]]=s)}}},{key:"setMethods",value:function(){var t=this.$ele;t.virtualSelect=this,t.value=this.multiple?[]:"",t.reset=i.reset,t.setValue=i.setValueMethod,t.setOptions=i.setOptionsMethod,t.setDisabledOptions=i.setDisabledOptionsMethod,t.toggleSelectAll=i.toggleSelectAll,t.isAllSelected=i.isAllSelected,t.addOption=i.addOptionMethod,t.getNewValue=i.getNewValueMethod,t.getDisplayValue=i.getDisplayValueMethod,t.open=i.openMethod,t.close=i.closeMethod}},{key:"setValueMethod",value:function(t,e){Array.isArray(t)||(t=[t]),t=t.map((function(t){return t||0==t?t.toString():""}));var i=[],o=[];this.options.forEach((function(e,s){-1===t.indexOf(e.value)||e.isDisabled||e.isGroupTitle?e.isSelected=!1:(e.isSelected=!0,i.push(e.value),o.push(s))})),this.multiple||(i=i[0],o=o[0]),this.beforeValueSet(),this.setValue(i,o,!e),this.afterValueSet()}},{key:"setOptionsMethod",value:function(t,e){this.setOptions(t),this.afterSetOptions(e)}},{key:"setDisabledOptionsMethod",value:function(t){this.setDisabledOptions(t,!0),this.setValueMethod(null),this.setVisibleOptions()}},{key:"setDisabledOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=t.map((function(t){return t.toString()})),this.disabledOptions=t,e&&t.length&&this.options.forEach((function(e){return e.isDisabled=-1!==t.indexOf(e.value),e}))}},{key:"setOptions",value:function(e){e||(e=[]);var i=[],o=this.disabledOptions,s=o.length,n=this.valueKey,l=this.labelKey,a=this.descriptionKey,p=this.aliasKey,u=this.hasOptionDescription,c=t.Utils.getString,h=this.getAlias,d=0,v=!1;!this.multiple&&this.allowNoneOption&&e.unshift({value:r,label:this.noneOptionText}),e.forEach((function t(e){var r=c(e[n]),f=e.options,y=!!f,m={index:d,value:r,label:c(e[l]),alias:h(e[p]),isVisible:!0,isGroupTitle:y};if(s&&(m.isDisabled=-1!==o.indexOf(r)),e.isGroupOption&&(m.isGroupOption=!0,m.groupIndex=e.groupIndex),u&&(m.description=c(e[a])),i.push(m),d++,y){var g=m.index;v=!0,f.forEach((function(e){e.isGroupOption=!0,e.groupIndex=g,t(e)}))}})),this.options=i,this.visibleOptionsCount=i.length,this.lastOptionIndex=this.options.length-1,this.newValues=[],this.hasOptionGroup=v,this.setSortedOptions()}},{key:"setServerOptions",value:function(e){this.setOptionsMethod(e,!0),t.DomUtils.removeClass(this.$wrapper,"server-searching")}},{key:"setSortedOptions",value:function(){var t=s(this.options);this.showSelectedOptionsFirst&&this.selectedValues.length&&(t=this.hasOptionGroup?this.sortOptionsGroup(t):this.sortOptions(t)),this.sortedOptions=t}},{key:"setVisibleOptions",value:function(){var t=s(this.sortedOptions),e=2*this.optionsCount,i=this.getVisibleStartIndex(),o=this.getNewOption(),n=i+e-1,l=0;o&&(o.visibleIndex=l,l++),t=t.filter((function(t){var e=!1;return t.isVisible&&!t.isCurrentNew&&(e=l>=i&&l<=n,t.visibleIndex=l,l++),e})),o&&(t=[o].concat(s(t))),this.visibleOptions=t,this.renderOptions()}},{key:"setOptionsPosition",value:function(e){void 0===e&&(e=this.getVisibleStartIndex());var i=e*this.optionHeight;this.$options.style.transform="translate3d(0, ".concat(i,"px, 0)"),t.DomUtils.setData(this.$options,"top",i)}},{key:"setOptionsTooltip",value:function(){var e=this,i=this.getVisibleOptions(),o=this.hasOptionDescription;i.forEach((function(i){var s=e.$dropboxContainer.querySelector('.vscomp-option[data-index="'.concat(i.index,'"]'));t.DomUtils.setData(s.querySelector(".vscomp-option-text"),"tooltip",i.label),o&&t.DomUtils.setData(s.querySelector(".vscomp-option-description"),"tooltip",i.description)}))}},{key:"setValue",value:function(e,i,o){e?Array.isArray(e)?this.selectedValues=s(e):this.selectedValues=[e]:this.selectedValues=[];var n=this.multiple?this.selectedValues:this.selectedValues[0]||"";this.$ele.value=n,this.$hiddenInput.value=n,i?Array.isArray(e)?this.selectedIndexes=s(i):this.selectedIndexes=[i]:this.selectedIndexes=[];var l=this.multiple?this.selectedIndexes:this.selectedIndexes[0]||"";this.$ele.index=l,this.$hiddenInput.index=l,this.isMaxValuesSelected=!!(this.maxValues&&this.maxValues<=this.selectedValues.length),this.setValueText(),t.DomUtils.toggleClass(this.$wrapper,"has-value",t.Utils.isNotEmpty(this.selectedValues)),t.DomUtils.toggleClass(this.$wrapper,"max-value-selected",this.isMaxValuesSelected),o&&this.dispatchEvent(this.$ele,"change")}},{key:"setValueText",value:function(){var i=[],o=[],s=this.selectedValues,n=s.length,l=this.noOfDisplayValues,a=0;if(this.isAllSelected)this.$valueText.innerHTML="".concat(n," ").concat(this.itemsSelectedMessage);else{var r,p=e(this.options);try{for(p.s();!(r=p.n()).done;){var u=r.value;if(!u.isCurrentNew){if(a>50)break;var c=u.value;if(-1!==s.indexOf(c)){var h=u.label;i.push(h),++a<=l&&o.push('<span class="vscomp-value-tag">'.concat(h,"</span>"))}}}}catch(t){p.e(t)}finally{p.f()}var d=n-l;d>0&&o.push('<span class="vscomp-value-tag more-value-count">+ '.concat(d," more...</span>"));var v=i.join(", ");if(""===v)this.$valueText.innerHTML=this.placeholder;else if(this.$valueText.innerHTML=v,this.multiple){var f=this.maxValues;if(t.DomUtils.hasEllipsis(this.$valueText)||f){var y="".concat(n);f&&(y+=" / ".concat(f)),this.$valueText.innerHTML="".concat(y," ").concat(this.itemsSelectedMessage)}else o=[]}}t.DomUtils.setData(this.$valueText,"tooltip",o.join(", "))}},{key:"setSearchValue",value:function(e,i){if(e!==this.searchValueOriginal){i||(this.$searchInput.value=e);var o=e.toLowerCase().trim();if(this.searchValue=o,this.searchValueOriginal=e,t.DomUtils.toggleClass(this.$wrapper,"has-search-value",e),this.hasServerSearch)this.serverSearch(o);else{var s,n=0,l=!1,a=this.isOptionVisible;this.hasOptionGroup&&(s=this.getVisibleOptionGroupsMapping(o)),this.options.forEach((function(t){if(!t.isCurrentNew){var e=a(t,o,l,s);e.isVisible&&n++,l||(l=e.hasExactOption)}})),this.allowNewOption&&(o&&!l?(this.setNewOption(),n++):this.removeNewOption()),this.visibleOptionsCount=n,this.scrollToTop(),this.setOptionsHeight(),this.setVisibleOptions()}}}},{key:"setOptionProp",value:function(t,e,i){this.options[t]&&(this.options[t][e]=i)}},{key:"setOptionsHeight",value:function(){this.$optionsList.style.height=this.optionHeight*this.visibleOptionsCount+"px"}},{key:"setOptionsContainerHeight",value:function(e){var i;e?this.showAsPopup&&(this.optionsCount=this.getOptionsCount(),i=this.getOptionsHeight(),this.optionsHeight=i):(i=this.optionsHeight,this.keepAlwaysOpen&&(t.DomUtils.setStyle(this.$noOptions,"height",i),t.DomUtils.setStyle(this.$noSearchResults,"height",i))),t.DomUtils.setStyle(this.$optionsContainer,"max-height",i),this.afterSetOptionsContainerHeight(e)}},{key:"setDropboxPosition",value:function(){if("auto"===this.position){var e=t.DomUtils.getMoreVisibleSides(this.$wrapper),i=!1;if(this.dropboxWidth){var o=this.$toggleButton.getBoundingClientRect(),s=window.innerWidth,n=parseFloat(this.dropboxWidth),l=o.left+n>s,a=n>o.right;l&&!a&&(i=!0)}t.DomUtils.toggleClass(this.$wrapper,"position-top","top"===e.vertical),t.DomUtils.toggleClass(this.$wrapper,"position-left",i)}}},{key:"setNewOption",value:function(){var t=this.searchValueOriginal.trim();if(t){var e=this.getNewOption();if(e){var i=e.index;this.setOptionProp(i,"value",t),this.setOptionProp(i,"label",t)}else{var o={value:t,label:t,isCurrentNew:!0};this.addOption(o)}}}},{key:"setSelectedProp",value:function(){var t=this.selectedValues;this.options.forEach((function(e){-1!==t.indexOf(e.value)&&(e.isSelected=!0)}))}},{key:"getVisibleOptions",value:function(){return this.visibleOptions||[]}},{key:"getValue",value:function(){return this.multiple?this.selectedValues:this.selectedValues[0]}},{key:"getFirstVisibleOptionIndex",value:function(){return Math.ceil(this.$optionsContainer.scrollTop/this.optionHeight)}},{key:"getVisibleStartIndex",value:function(){var t=this.getFirstVisibleOptionIndex()-this.halfOptionsCount;return t<0&&(t=0),t}},{key:"getTooltipAttrText",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s={"data-tooltip":e||"","data-tooltip-enter-delay":this.tooltipEnterDelay,"data-tooltip-z-index":this.zIndex,"data-tooltip-font-size":this.tooltipFontSize,"data-tooltip-alignment":this.tooltipAlignment,"data-tooltip-max-width":this.tooltipMaxWidth,"data-tooltip-ellipsis-only":i,"data-tooltip-allow-html":o};return t.DomUtils.getAttributesText(s)}},{key:"getOptionObj",value:function(e){if(e){var i=t.Utils.getString;return{index:e.index,value:i(e.value),label:i(e.label),description:i(e.description),alias:this.getAlias(e.alias),isCurrentNew:e.isCurrentNew||!1,isVisible:!0}}}},{key:"getNewOption",value:function(){var t=this.options[this.lastOptionIndex];if(t&&t.isCurrentNew)return t}},{key:"getOptionIndex",value:function(t){var e;return t&&this.options.some((function(i){if(i.value==t)return e=i.index,!0})),e}},{key:"getNewValue",value:function(){var t=this.newValues,e=this.selectedValues.filter((function(e){return-1!==t.indexOf(e)}));return this.multiple?e:e[0]}},{key:"getAlias",value:function(t){return t=t?(t=Array.isArray(t)?t.join(","):t.toString().trim()).toLowerCase():""}},{key:"getDisplayValue",value:function(){var t,i=[],o=this.selectedValues,s=e(this.options);try{for(s.s();!(t=s.n()).done;){var n=t.value;-1!==o.indexOf(n.value)&&i.push(n.label)}}catch(t){s.e(t)}finally{s.f()}return this.multiple?i:i[0]||""}},{key:"getVisibleOptionGroupsMapping",value:function(t){var e=this.options,i={},o=this.isOptionVisible;return(e=this.structureOptionGroup(e)).forEach((function(e){i[e.index]=e.options.some((function(e){return o(e,t).isVisible}))})),i}},{key:"getOptionsCount",value:function(t){if(this.showAsPopup){var e=80*window.innerHeight/100-48;this.hasSearchContainer&&(e-=40),t=Math.floor(e/this.optionHeight)}else t=parseInt(t);return t}},{key:"getOptionsHeight",value:function(){return this.optionsCount*this.optionHeight+"px"}},{key:"getSibling",value:function(e,i){var o="next"===i?"nextElementSibling":"previousElementSibling";do{e&&(e=e[o])}while(t.DomUtils.hasClass(e,"disabled")||t.DomUtils.hasClass(e,"group-title"));return e}},{key:"openDropbox",value:function(e){var i=this;this.setDropboxPosition(),t.DomUtils.removeClass(this.$wrapper,"closed"),setTimeout((function(){t.DomUtils.addClass(i.$wrapper,"opened"),i.dispatchEvent(i.$ele,"opened"),e||(i.moveSelectedOptionsFirst(),t.DomUtils.addClass(i.$wrapper,"focused"),i.showAsPopup?(t.DomUtils.addClass(i.$body,"vscomp-popup-active"),i.isPopupActive=!0):i.focusSearchInput())}),0)}},{key:"closeDropbox",value:function(e){var i=this;if(this.keepAlwaysOpen)this.removeOptionFocus();else{var o=e?0:this.transitionDuration;setTimeout((function(){t.DomUtils.removeClass(i.$wrapper,"opened focused"),i.dispatchEvent(i.$ele,"closed"),i.removeOptionFocus(),e||i.isPopupActive&&(t.DomUtils.removeClass(i.$body,"vscomp-popup-active"),i.isPopupActive=!1)}),0),setTimeout((function(){t.DomUtils.addClass(i.$wrapper,"closed")}),o)}}},{key:"moveSelectedOptionsFirst",value:function(){this.showSelectedOptionsFirst&&(this.setSortedOptions(),this.$optionsContainer.scrollTop&&this.selectedValues.length?this.scrollToTop():this.setVisibleOptions())}},{key:"toggleDropbox",value:function(){this.isOpened()?this.closeDropbox():this.openDropbox()}},{key:"isOpened",value:function(){return t.DomUtils.hasClass(this.$wrapper,"opened")}},{key:"focusSearchInput",value:function(){var t=this.$searchInput;t&&t.focus()}},{key:"focusOption",value:function(e,i){var o,s=this.$dropboxContainer.querySelector(".vscomp-option.focused");if(i)o=i;else if(s)o=this.getSibling(s,e);else{var n=this.getFirstVisibleOptionIndex();o=this.$dropboxContainer.querySelector('.vscomp-option[data-visible-index="'.concat(n,'"]')),(t.DomUtils.hasClass(o,"disabled")||t.DomUtils.hasClass(o,"group-title"))&&(o=this.getSibling(o,"next"))}o&&o!==s&&(s&&t.DomUtils.removeClass(s,"focused"),t.DomUtils.addClass(o,"focused"),this.toggleFocusedProp(t.DomUtils.getData(o,"index"),!0),this.moveFocusedOptionToView(o))}},{key:"moveFocusedOptionToView",value:function(e){if(e||(e=this.$dropboxContainer.querySelector(".vscomp-option.focused")),e){var i,o=this.$optionsContainer.getBoundingClientRect(),s=e.getBoundingClientRect(),n=o.top,l=o.bottom,a=o.height,r=s.top,p=s.bottom,u=s.height,c=e.offsetTop,h=t.DomUtils.getData(this.$options,"top","number");n>r?i=c+h:l<p&&(i=c-a+u+h),void 0!==i&&(this.$optionsContainer.scrollTop=i)}}},{key:"removeOptionFocus",value:function(){var e=this.$dropboxContainer.querySelector(".vscomp-option.focused");e&&(t.DomUtils.removeClass(e,"focused"),this.toggleFocusedProp(null))}},{key:"selectOption",value:function(e){if(e){var i=!t.DomUtils.hasClass(e,"selected");if(i){if(this.multiple&&this.isMaxValuesSelected)return}else if(!this.multiple)return void this.closeDropbox();var o=this.selectedValues,s=this.selectedIndexes,n=t.DomUtils.getData(e,"value"),l=t.DomUtils.getData(e,"index");if(this.toggleSelectedProp(l,i),i){if(this.multiple)o.push(n),s.push(l),this.toggleAllOptionsClass();else{o.length&&this.toggleSelectedProp(this.getOptionIndex(o[0]),!1),o=[n],s=[l];var a=this.$ele.querySelector(".vscomp-option.selected");a&&t.DomUtils.toggleClass(a,"selected",!1),this.closeDropbox()}t.DomUtils.toggleClass(e,"selected")}else this.multiple&&(t.DomUtils.toggleClass(e,"selected"),t.Utils.removeItemFromArray(o,n),t.Utils.removeItemFromArray(s,l),this.toggleAllOptionsClass(!1));if(t.DomUtils.hasClass(e,"current-new")&&this.beforeSelectNewValue(),this.setValue(o,s,!0),this.keepAlwaysOpen&&this.showSelectedOptionsFirst){var r=this.$optionsContainer.scrollTop;this.moveSelectedOptionsFirst(),this.$optionsContainer.scrollTop=r}}}},{key:"selectFocusedOption",value:function(){this.selectOption(this.$dropboxContainer.querySelector(".vscomp-option.focused"))}},{key:"toggleAllOptions",value:function(e){if(this.multiple&&!this.disableSelectAll){"boolean"!=typeof e&&(e=!t.DomUtils.hasClass(this.$toggleAllCheckbox,"checked"));var i=[],o=[];this.options.forEach((function(t,s){t.isDisabled||t.isCurrentNew||t.isGroupTitle||(t.isSelected=e,e&&(i.push(t.value),o.push(s)))})),this.toggleAllOptionsClass(e),this.setValue(i,o,!0),this.renderOptions()}}},{key:"toggleAllOptionsClass",value:function(e){"boolean"!=typeof e&&(e=!1,this.options.length&&(e=!this.options.some((function(t){return!t.isSelected&&!t.isDisabled&&!t.isGroupTitle})))),t.DomUtils.toggleClass(this.$toggleAllCheckbox,"checked",e),this.isAllSelected=e}},{key:"toggleFocusedProp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.focusedOptionIndex&&this.setOptionProp(this.focusedOptionIndex,"isFocused",!1),this.setOptionProp(t,"isFocused",e),this.focusedOptionIndex=t}},{key:"toggleSelectedProp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setOptionProp(t,"isSelected",e)}},{key:"scrollToTop",value:function(){var t=!this.isOpened();t&&this.openDropbox(!0),this.$optionsContainer.scrollTop>0&&(this.$optionsContainer.scrollTop=0),t&&this.closeDropbox(!0)}},{key:"reset",value:function(){this.options.forEach((function(t){t.isSelected=!1})),this.beforeValueSet(!0),this.setValue(null,null,!0),this.afterValueSet()}},{key:"beforeValueSet",value:function(t){this.toggleAllOptionsClass(!t&&void 0)}},{key:"afterValueSet",value:function(){this.scrollToTop(),this.setSearchValue(""),this.renderOptions()}},{key:"afterSetOptions",value:function(t){t&&this.setSelectedProp(),this.setOptionsHeight(),this.setVisibleOptions(),t||this.reset()}},{key:"addOption",value:function(t,e){if(t){this.lastOptionIndex++,t.index=this.lastOptionIndex;var i=this.getOptionObj(t);this.options.push(i),this.sortedOptions.push(i),e&&(this.visibleOptionsCount++,this.afterSetOptions())}}},{key:"removeOption",value:function(t){(t||0==t)&&(this.options.splice(t,1),this.lastOptionIndex--)}},{key:"removeNewOption",value:function(){var t=this.getNewOption();t&&this.removeOption(t.index)}},{key:"beforeSelectNewValue",value:function(){var t=this,e=this.getNewOption(),i=e.index;this.newValues.push(e.value),this.setOptionProp(i,"isCurrentNew",!1),this.setOptionProp(i,"isNew",!0),setTimeout((function(){t.setSearchValue(""),t.focusSearchInput()}),0)}},{key:"sortOptions",value:function(t){return t.sort((function(t,e){return e.value===r&&t.value!==r?0:t.isSelected||e.isSelected?t.isSelected&&(!e.isSelected||t.index<e.index)?-1:1:0}))}},{key:"sortOptionsGroup",value:function(t){var e=this.sortOptions;return(t=this.structureOptionGroup(t)).forEach((function(t){var i=t.options;t.isSelected=i.some((function(t){return t.isSelected})),t.isSelected&&e(i)})),e(t),this.destructureOptionGroup(t)}},{key:"isOptionVisible",value:function(t,e,i,o){var s=t.label.toLowerCase(),n=t.description,l=t.alias,a=-1!==s.indexOf(e);return t.isGroupTitle&&(a=o[t.index]),l&&!a&&(a=-1!==l.indexOf(e)),n&&!a&&(a=-1!==n.toLowerCase().indexOf(e)),t.isVisible=a,i||(i=s===e),{isVisible:a,hasExactOption:i}}},{key:"structureOptionGroup",value:function(t){var e=[],i={};return t.forEach((function(t){if(t.isGroupTitle){var o=[];t.options=o,i[t.index]=o,e.push(t)}})),t.forEach((function(t){t.isGroupOption&&i[t.groupIndex].push(t)})),e}},{key:"destructureOptionGroup",value:function(t){var e=[];return t.forEach((function(t){e.push(t),e=e.concat(t.options)})),e}},{key:"serverSearch",value:function(e){t.DomUtils.removeClass(this.$wrapper,"has-no-options"),t.DomUtils.addClass(this.$wrapper,"server-searching"),this.onServerSearch(e,this)}}])&&a(o.prototype,n),l&&a(o,l),i}();document.addEventListener("reset",u.resetForm),window.addEventListener("resize",u.onResizeMethod),window.VirtualSelect=u})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXJ0dWFsLXNlbGVjdC8uL3NyYy91dGlscy9kb20tdXRpbHMuanMiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3QvLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3ZpcnR1YWwtc2VsZWN0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3Qvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly92aXJ0dWFsLXNlbGVjdC8uL3NyYy92aXJ0dWFsLXNlbGVjdC5qcyJdLCJuYW1lcyI6WyJEb21VdGlscyIsIiRlbGUiLCJjbGFzc05hbWUiLCJzcGxpdCIsInRoaXMiLCJnZXRFbGVtZW50cyIsImZvckVhY2giLCJfdGhpcyIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImlzQWRkIiwiaXNBZGRlZCIsInVuZGVmaW5lZCIsIkJvb2xlYW4iLCJ0b2dnbGUiLCJjb250YWlucyIsInNjcm9sbFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJib3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhdmFpbGFibGVXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJhdmFpbGFibGVIZWlnaHQiLCJpbm5lckhlaWdodCIsImxlZnRBcmVhIiwibGVmdCIsInRvcEFyZWEiLCJ0b3AiLCJob3Jpem9udGFsIiwid2lkdGgiLCJ2ZXJ0aWNhbCIsImhlaWdodCIsIm5hbWUiLCJ0eXBlIiwidmFsdWUiLCJkYXRhc2V0IiwicGFyc2VGbG9hdCIsInN0eWxlIiwibGVuZ3RoIiwicHJvcHMiLCJza2lwQXR0ck5hbWUiLCJyZXN1bHQiLCJrIiwiZGF0YSIsImh0bWwiLCJVdGlscyIsInRleHQiLCJ0b1N0cmluZyIsImRlZmF1bHRWYWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsIk9iamVjdCIsImtleXMiLCJpc0VtcHR5IiwiYXJyYXkiLCJjbG9uZUFycmF5IiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZmlsdGVyIiwiZCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwibm9uZU9wdGlvblZhbHVlIiwia2V5RG93bk1ldGhvZE1hcHBpbmciLCIxMyIsIjI3IiwiMzgiLCI0MCIsIlZpcnR1YWxTZWxlY3QiLCJvcHRpb25zIiwic2V0UHJvcHMiLCJzZXREaXNhYmxlZE9wdGlvbnMiLCJkaXNhYmxlZE9wdGlvbnMiLCJzZXRPcHRpb25zIiwicmVuZGVyIiwiZSIsImNvbnNvbGUiLCJ3YXJuIiwiZXJyb3IiLCIkZWxlQXJyYXkiLCJlbGUiLCJzaW5nbGVFbGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpbnN0YW5jZXMiLCJwdXNoIiwiJGVsZVRvS2VlcE9wZW4iLCJxdWVyeVNlbGVjdG9yQWxsIiwicGFyZW50RWxlbWVudCIsInZpcnR1YWxTZWxlY3QiLCJjbG9zZURyb3Bib3giLCIkZm9ybSIsInRhcmdldCIsImNsb3Nlc3QiLCJyZXNldCIsInNpbGVudENoYW5nZSIsInNldFZhbHVlTWV0aG9kIiwic2V0T3B0aW9uc01ldGhvZCIsInNldERpc2FibGVkT3B0aW9uc01ldGhvZCIsImlzU2VsZWN0ZWQiLCJ0b2dnbGVBbGxPcHRpb25zIiwiaXNBbGxTZWxlY3RlZCIsImFkZE9wdGlvbiIsImdldE5ld1ZhbHVlIiwiZ2V0RGlzcGxheVZhbHVlIiwib3BlbkRyb3Bib3giLCJvblJlc2l6ZSIsIndyYXBwZXJDbGFzc2VzIiwidmFsdWVUb29sdGlwIiwiZ2V0VG9vbHRpcEF0dHJUZXh0IiwibXVsdGlwbGUiLCJjbGVhckJ1dHRvblRvb2x0aXAiLCJkcm9wYm94Q29udGFpbmVyU3R5bGUiLCJ6SW5kZXgiLCJhZGRpdGlvbmFsQ2xhc3NlcyIsImRpc2FibGVTZWxlY3RBbGwiLCJwb3NpdGlvbiIsImhpZGVDbGVhckJ1dHRvbiIsImtlZXBBbHdheXNPcGVuIiwic2hvd0FzUG9wdXAiLCJkcm9wYm94V2lkdGgiLCJoYXNTZWFyY2giLCJwbGFjZWhvbGRlciIsIm5vT3B0aW9uc1RleHQiLCJub1NlYXJjaFJlc3VsdHNUZXh0IiwiaW5uZXJIVE1MIiwiJGJvZHkiLCIkd3JhcHBlciIsIiR0b2dnbGVCdXR0b24iLCIkY2xlYXJCdXR0b24iLCIkZHJvcGJveENvbnRhaW5lciIsIiRkcm9wYm94Q2xvc2VCdXR0b24iLCIkc2VhcmNoIiwiJG9wdGlvbnNDb250YWluZXIiLCIkb3B0aW9uc0xpc3QiLCIkb3B0aW9ucyIsIiR2YWx1ZVRleHQiLCIkaGlkZGVuSW5wdXQiLCIkbm9PcHRpb25zIiwiJG5vU2VhcmNoUmVzdWx0cyIsImFmdGVyUmVuZGVyV3JhcHBlciIsInNlYXJjaFJlZ2V4IiwidmlzaWJsZU9wdGlvbnMiLCJnZXRWaXNpYmxlT3B0aW9ucyIsImNoZWNrYm94SHRtbCIsIm5ld09wdGlvbkljb25IdG1sIiwibWFya1NlYXJjaFJlc3VsdHMiLCJzZWFyY2hWYWx1ZSIsInN0eWxlVGV4dCIsIm9wdGlvbkhlaWdodCIsIlJlZ0V4cCIsImFsbG93TmV3T3B0aW9uIiwibmV3T3B0aW9uVG9vbHRpcCIsIm9wdGlvbkxhYmVsIiwibGFiZWwiLCJvcHRpb25DbGFzc2VzIiwib3B0aW9uVG9vbHRpcCIsImxlZnRTZWN0aW9uIiwicmlnaHRTZWN0aW9uIiwiZGVzY3JpcHRpb24iLCJpc0ZvY3VzZWQiLCJpc0Rpc2FibGVkIiwiaXNHcm91cFRpdGxlIiwiaXNHcm91cE9wdGlvbiIsImlzQ3VycmVudE5ldyIsInJlcGxhY2UiLCJ2aXNpYmxlSW5kZXgiLCJoYXNOb09wdGlvbnMiLCJoYXNOb1NlYXJjaFJlc3VsdHMiLCJzZXRPcHRpb25zUG9zaXRpb24iLCJzZXRPcHRpb25zVG9vbHRpcCIsImhhc1NlYXJjaENvbnRhaW5lciIsInNlYXJjaElucHV0Iiwic2VsZWN0QWxsVGV4dCIsInNlYXJjaFBsYWNlaG9sZGVyIiwiJHNlYXJjaElucHV0IiwiJHNlYXJjaENsZWFyIiwiJHRvZ2dsZUFsbEJ1dHRvbiIsIiR0b2dnbGVBbGxDaGVja2JveCIsImFkZEV2ZW50Iiwib3ZlcnJpZGVTY3JvbGxFdmVudFNlbGVjdG9yIiwiZXZlbnRzIiwibWV0aG9kIiwiZXZlbnQiLCJldmVudHNLZXkiLCJjYWxsYmFjayIsImJpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnROYW1lIiwic2V0VGltZW91dCIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsImJ1YmJsZXMiLCJjbG9zZUFsbERyb3Bib3giLCJ3aGljaCIsImtleUNvZGUiLCJpc09wZW5lZCIsInNlbGVjdEZvY3VzZWRPcHRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImZvY3VzT3B0aW9uIiwidG9nZ2xlRHJvcGJveCIsInNldFZpc2libGVPcHRpb25zIiwic2VsZWN0T3B0aW9uIiwicmVtb3ZlT3B0aW9uRm9jdXMiLCJzdG9wUHJvcGFnYXRpb24iLCJzZXRTZWFyY2hWYWx1ZSIsImZvY3VzU2VhcmNoSW5wdXQiLCJzZXRPcHRpb25zQ29udGFpbmVySGVpZ2h0Iiwic2V0QXR0cmlidXRlIiwicmVuZGVyU2VhcmNoIiwic2V0T3B0aW9uc0hlaWdodCIsImFkZEV2ZW50cyIsInNldE1ldGhvZHMiLCJpbml0aWFsU2VsZWN0ZWRWYWx1ZSIsInNpbGVudEluaXRpYWxWYWx1ZVNldCIsImF1dG9TZWxlY3RGaXJzdE9wdGlvbiIsInNldERlZmF1bHRQcm9wcyIsInNldFByb3BzRnJvbUVsZW1lbnRBdHRyIiwiY29udmVydFRvQm9vbGVhbiIsInZhbHVlS2V5IiwibGFiZWxLZXkiLCJkZXNjcmlwdGlvbktleSIsImFsaWFzS2V5Iiwib3B0aW9uSGVpZ2h0VGV4dCIsInNlYXJjaCIsImhhc09wdGlvbkRlc2NyaXB0aW9uIiwic2hvd1NlbGVjdGVkT3B0aW9uc0ZpcnN0Iiwic2hvd0Ryb3Bib3hBc1BvcHVwIiwidG9vbHRpcEZvbnRTaXplIiwidG9vbHRpcEFsaWdubWVudCIsInRvb2x0aXBNYXhXaWR0aCIsIm5vT2ZEaXNwbGF5VmFsdWVzIiwicGFyc2VJbnQiLCJtYXhWYWx1ZXMiLCJzZWxlY3RlZFZhbHVlIiwicG9wdXBEcm9wYm94QnJlYWtwb2ludCIsIm9uU2VydmVyU2VhcmNoIiwiaXRlbXNTZWxlY3RlZE1lc3NhZ2UiLCJhbGxvd05vbmVPcHRpb24iLCJub25lT3B0aW9uVGV4dCIsInNlbGVjdGVkVmFsdWVzIiwic2VsZWN0ZWRJbmRleGVzIiwibmV3VmFsdWVzIiwidG9vbHRpcEVudGVyRGVsYXkiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJzZWFyY2hWYWx1ZU9yaWdpbmFsIiwiaGFzU2VydmVyU2VhcmNoIiwib3B0aW9uc0NvdW50IiwiZ2V0T3B0aW9uc0NvdW50IiwiaGFsZk9wdGlvbnNDb3VudCIsIk1hdGgiLCJjZWlsIiwib3B0aW9uc0hlaWdodCIsImdldE9wdGlvbnNIZWlnaHQiLCJkZWZhdWx0T3B0aW9ucyIsImFzc2lnbiIsIm1hcHBpbmciLCJnZXRBdHRyaWJ1dGUiLCJzZXRWYWx1ZSIsInRvZ2dsZVNlbGVjdEFsbCIsImFkZE9wdGlvbk1ldGhvZCIsImdldE5ld1ZhbHVlTWV0aG9kIiwiZ2V0RGlzcGxheVZhbHVlTWV0aG9kIiwib3BlbiIsIm9wZW5NZXRob2QiLCJjbG9zZSIsImNsb3NlTWV0aG9kIiwibWFwIiwidiIsInZhbGlkVmFsdWVzIiwidmFsaWRJbmRleGVzIiwiaWR4IiwiYmVmb3JlVmFsdWVTZXQiLCJhZnRlclZhbHVlU2V0Iiwia2VlcFZhbHVlIiwiYWZ0ZXJTZXRPcHRpb25zIiwic2V0T3B0aW9uc1Byb3AiLCJwcmVwYXJlZE9wdGlvbnMiLCJoYXNEaXNhYmxlZE9wdGlvbnMiLCJnZXRTdHJpbmciLCJnZXRBbGlhcyIsImhhc09wdGlvbkdyb3VwIiwidW5zaGlmdCIsInByZXBhcmVPcHRpb24iLCJjaGlsZE9wdGlvbnMiLCJvcHRpb24iLCJhbGlhcyIsImlzVmlzaWJsZSIsImdyb3VwSW5kZXgiLCJ2aXNpYmxlT3B0aW9uc0NvdW50IiwibGFzdE9wdGlvbkluZGV4Iiwic2V0U29ydGVkT3B0aW9ucyIsInNvcnRlZE9wdGlvbnMiLCJzb3J0T3B0aW9uc0dyb3VwIiwic29ydE9wdGlvbnMiLCJtYXhPcHRpb25zVG9TaG93Iiwic3RhcnRJbmRleCIsImdldFZpc2libGVTdGFydEluZGV4IiwibmV3T3B0aW9uIiwiZ2V0TmV3T3B0aW9uIiwiZW5kSW5kZXgiLCJpIiwiaW5WaWV3IiwicmVuZGVyT3B0aW9ucyIsInRyYW5zZm9ybSIsIiRvcHRpb25FbGUiLCJ0cmlnZ2VyRXZlbnQiLCJuZXdWYWx1ZSIsIm5ld0luZGV4IiwiaXNNYXhWYWx1ZXNTZWxlY3RlZCIsInNldFZhbHVlVGV4dCIsInZhbHVlVGV4dCIsInNlbGVjdGVkTGVuZ3RoIiwic2VsZWN0ZWRWYWx1ZXNDb3VudCIsIm1vcmVTZWxlY3RlZE9wdGlvbnMiLCJhZ2dyZWdhdGVkVmFsdWVUZXh0Iiwiam9pbiIsImNvdW50VGV4dCIsInNraXBJbnB1dFNldCIsInRvTG93ZXJDYXNlIiwidHJpbSIsInNlcnZlclNlYXJjaCIsInZpc2libGVPcHRpb25Hcm91cHNNYXBwaW5nIiwiaGFzRXhhY3RPcHRpb24iLCJpc09wdGlvblZpc2libGUiLCJnZXRWaXNpYmxlT3B0aW9uR3JvdXBzTWFwcGluZyIsInNldE5ld09wdGlvbiIsInJlbW92ZU5ld09wdGlvbiIsInNjcm9sbFRvVG9wIiwiYWZ0ZXJTZXRPcHRpb25zQ29udGFpbmVySGVpZ2h0IiwibW9yZVZpc2libGVTaWRlcyIsInNob3dPbkxlZnQiLCJidXR0b25Db29yZHMiLCJ2aWV3cG9ydFdpZHRoIiwiaGlkZGVuT25SaWdodCIsImhpZGRlbk9uTGVmdCIsInJpZ2h0Iiwic2V0T3B0aW9uUHJvcCIsInNjcm9sbFRvcCIsImdldEZpcnN0VmlzaWJsZU9wdGlvbkluZGV4IiwiZWxsaXBzaXNPbmx5IiwiYWxsb3dIdG1sIiwibGFzdE9wdGlvbiIsInNvbWUiLCJkaXNwbGF5VmFsdWVzIiwic3RydWN0dXJlT3B0aW9uR3JvdXAiLCJjb3VudCIsImZsb29yIiwiZGlyZWN0aW9uIiwicHJvcE5hbWUiLCJpc1NpbGVudCIsInNldERyb3Bib3hQb3NpdGlvbiIsIm1vdmVTZWxlY3RlZE9wdGlvbnNGaXJzdCIsImlzUG9wdXBBY3RpdmUiLCJmb2N1cyIsIiRuZXdGb2N1c2VkRWxlIiwiJGZvY3VzZWRFbGUiLCJnZXRTaWJsaW5nIiwiZmlyc3RWaXNpYmxlT3B0aW9uSW5kZXgiLCJ0b2dnbGVGb2N1c2VkUHJvcCIsIm1vdmVGb2N1c2VkT3B0aW9uVG9WaWV3IiwibmV3U2Nyb2xsVG9wIiwiY29udGFpbmVyUmVjdCIsIm9wdGlvblJlY3QiLCJjb250YWluZXJUb3AiLCJjb250YWluZXJCb3R0b20iLCJib3R0b20iLCJjb250YWluZXJIZWlnaHQiLCJvcHRpb25Ub3AiLCJvcHRpb25Cb3R0b20iLCJvcHRpb25PZmZzZXRUb3AiLCJvZmZzZXRUb3AiLCJvcHRpb25zVG9wIiwiaXNBZGRpbmciLCJzZWxlY3RlZEluZGV4IiwidG9nZ2xlU2VsZWN0ZWRQcm9wIiwidG9nZ2xlQWxsT3B0aW9uc0NsYXNzIiwiZ2V0T3B0aW9uSW5kZXgiLCIkcHJldlNlbGVjdGVkT3B0aW9uIiwiYmVmb3JlU2VsZWN0TmV3VmFsdWUiLCJsYXN0U2Nyb2xsVG9wIiwiZm9jdXNlZE9wdGlvbkluZGV4IiwiaXNDbG9zZWQiLCJpc1Jlc2V0Iiwic2V0U2VsZWN0ZWRQcm9wIiwicmVyZW5kZXIiLCJnZXRPcHRpb25PYmoiLCJyZW1vdmVPcHRpb24iLCJzb3J0IiwiYSIsImIiLCJkZXN0cnVjdHVyZU9wdGlvbkdyb3VwIiwiY2hpbGRBcnJheSIsImNvbmNhdCIsInJlc2V0Rm9ybSIsIm9uUmVzaXplTWV0aG9kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OzY5QkFBTyxJQUFNQSxFQUFiLHlCLDRGQUFBLFMsVUFBQSxPLEVBQUEsRSxFQUFBLGdDQUNrQkMsRUFBTUMsR0FDZkQsSUFJTEMsRUFBWUEsRUFBVUMsTUFBTSxLQUU1QkMsS0FBS0MsWUFBWUosR0FBTUssU0FBUSxTQUFDQyxHQUFVLE9BQ3hDLEVBQUFBLEVBQU1DLFdBQVVDLElBQWhCLFVBQXVCUCxVQVQ3QixrQ0FhcUJELEVBQU1DLEdBQ2xCRCxJQUlMQyxFQUFZQSxFQUFVQyxNQUFNLEtBRTVCQyxLQUFLQyxZQUFZSixHQUFNSyxTQUFRLFNBQUNDLEdBQVUsT0FDeEMsRUFBQUEsRUFBTUMsV0FBVUUsT0FBaEIsVUFBMEJSLFVBckJoQyxrQ0F5QnFCRCxFQUFNQyxFQUFXUyxHQVNsQyxJQUFJQyxFQVJKLEdBQUtYLEVBY0wsWUFWY1ksSUFBVkYsSUFDRkEsRUFBUUcsUUFBUUgsSUFLbEJQLEtBQUtDLFlBQVlKLEdBQU1LLFNBQVEsU0FBQ0MsR0FDOUJLLEVBQVVMLEVBQU1DLFVBQVVPLE9BQU9iLEVBQVdTLE1BR3ZDQyxJQXhDWCwrQkEyQ2tCWCxFQUFNQyxHQUNwQixRQUFLRCxHQUlFQSxFQUFLTyxVQUFVUSxTQUFTZCxLQWhEbkMsa0NBbURxQkQsR0FDakIsUUFBS0EsR0FJRUEsRUFBS2dCLFlBQWNoQixFQUFLaUIsY0F4RG5DLDBDQTJENkJqQixHQUN6QixJQUFLQSxFQUNILE1BQU8sR0FHVCxJQUFJa0IsRUFBTWxCLEVBQUttQix3QkFDWEMsRUFBaUJDLE9BQU9DLFdBQ3hCQyxFQUFrQkYsT0FBT0csWUFDekJDLEVBQVdQLEVBQUlRLEtBQ2ZDLEVBQVVULEVBQUlVLElBTWxCLE1BQU8sQ0FDTEMsV0FKZUosRUFGREwsRUFBaUJLLEVBQVdQLEVBQUlZLE1BRVIsT0FBUyxRQUsvQ0MsU0FKYUosRUFGRUosRUFBa0JJLEVBQVVULEVBQUljLE9BRVgsTUFBUSxZQXhFbEQsOEJBZ0ZpQmhDLEVBQU1pQyxFQUFNQyxHQUN6QixHQUFLbEMsRUFBTCxDQUlBLElBQUltQyxFQUFRbkMsRUFBT0EsRUFBS29DLFFBQVFILEdBQVEsR0FZeEMsTUFWYSxXQUFUQyxFQUNGQyxFQUFRRSxXQUFXRixJQUFVLEVBRWYsU0FBVkEsRUFDRkEsR0FBUSxFQUNXLFVBQVZBLElBQ1RBLEdBQVEsR0FJTEEsS0FqR1gsOEJBb0dpQm5DLEVBQU1pQyxFQUFNRSxHQUNwQm5DLElBSUxBLEVBQUtvQyxRQUFRSCxHQUFRRSxLQXpHekIsK0JBNEdrQm5DLEVBQU1pQyxFQUFNRSxHQUNyQm5DLElBSUxBLEVBQUtzQyxNQUFNTCxHQUFRRSxLQWpIdkIsa0NBb0hxQm5DLEdBQ2pCLEdBQUtBLEVBUUwsWUFKb0JZLElBQWhCWixFQUFLdUMsU0FDUHZDLEVBQU8sQ0FBQ0EsSUFHSEEsSUE3SFgsbUNBaUlzQndDLEVBQU9DLEdBQ3pCLElBQUlDLEVBQVMsR0FFYixJQUFLLElBQUlDLEtBQUtILEVBQ1pFLEdBQVUsR0FBSixPQUFPQyxFQUFQLGFBQWFILEVBQU1HLEdBQW5CLEtBT1IsT0FKSUQsSUFBV0QsSUFDYkMsRUFBUyxVQUFILE9BQWFBLEVBQWIsTUFHREEsSUE1SVgsd0NBZ0oyQkUsR0FDdkIsSUFBSUMsRUFBTyxHQUVYLElBQUtELEVBQ0gsT0FBT0MsRUFHVCxJQUFLLElBQUlGLEtBQUtDLEVBQU0sQ0FDbEIsSUFBSVQsRUFBUVMsRUFBS0QsUUFFSC9CLElBQVZ1QixJQUNGVSxHQUFRLElBQUosT0FBUUYsRUFBUixhQUFjUixFQUFkLE9BSVIsT0FBT1UsTSxFQS9KWCxPLDJCQUFBLE07Ozs7OzsyckNDQU8sSUFBTUMsRUFBYix5Qiw0RkFBQSxTLFVBQUEsTyxFQUFBLEUsRUFBQSxpQ0FDbUJDLEdBQ2YsT0FBT0EsR0FBaUIsSUFBVEEsRUFBYUEsRUFBS0MsV0FBYSxLQUZsRCx1Q0FLMEJiLEdBQTZCLElBQXRCYyxFQUFzQix3REFTbkQsT0FQRWQsR0FEWSxJQUFWQSxHQUE0QixTQUFWQSxJQUVELElBQVZBLEdBQTZCLFVBQVZBLEdBR3BCYyxJQVhkLDhCQWlCaUJkLEdBQ2IsSUFBSU8sR0FBUyxFQWNiLE9BWktQLEVBRU1lLE1BQU1DLFFBQVFoQixHQUNGLElBQWpCQSxFQUFNSSxTQUNSRyxHQUFTLEdBRWUsV0FBakIsRUFBT1AsSUFDa0IsSUFBOUJpQixPQUFPQyxLQUFLbEIsR0FBT0ksU0FDckJHLEdBQVMsR0FQWEEsR0FBUyxFQVdKQSxJQWhDWCxpQ0FtQ29CUCxHQUNoQixPQUFRaEMsS0FBS21ELFFBQVFuQixLQXBDekIsMENBdUM2Qm9CLEVBQU9wQixFQUFPcUIsR0FDdkMsSUFBS04sTUFBTUMsUUFBUUksS0FBV0EsRUFBTWhCLFNBQVdKLEVBQzdDLE9BQU9vQixFQUdMQyxJQUNGRCxFQUFRLEVBQUlBLElBR2QsSUFBSUUsRUFBUUYsRUFBTUcsUUFBUXZCLEdBTTFCLE9BSmUsSUFBWHNCLEdBQ0ZGLEVBQU1JLE9BQU9GLEVBQU8sR0FHZkYsSUF0RFgsdUNBeUQwQkEsR0FDdEIsT0FBS0wsTUFBTUMsUUFBUUksSUFBV0EsRUFBTWhCLE9BSTdCZ0IsRUFBTUssUUFBTyxTQUFDQyxHQUFELFFBQVNBLEtBSHBCLE8sRUEzRGIsTywyQkFBQSxPQ0NJQyxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVQyxRQUczQyxJQUFJQyxFQUFTSixFQUF5QkUsR0FBWSxDQUdqREMsUUFBUyxJQU9WLE9BSEFFLEVBQW9CSCxHQUFVRSxFQUFRQSxFQUFPRCxRQUFTRixHQUcvQ0csRUFBT0QsUUNuQmZGLEVBQW9CRixFQUFJLENBQUNJLEVBQVNHLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWEwsRUFBb0JPLEVBQUVGLEVBQVlDLEtBQVNOLEVBQW9CTyxFQUFFTCxFQUFTSSxJQUM1RWpCLE9BQU9tQixlQUFlTixFQUFTSSxFQUFLLENBQUVHLFlBQVksRUFBTUMsSUFBS0wsRUFBV0MsTUNKM0VOLEVBQW9CTyxFQUFJLENBQUNJLEVBQUtDLElBQVV2QixPQUFPd0IsVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NDbEZaLEVBQW9CZ0IsRUFBS2QsSUFDSCxvQkFBWGUsUUFBMEJBLE9BQU9DLGFBQzFDN0IsT0FBT21CLGVBQWVOLEVBQVNlLE9BQU9DLFlBQWEsQ0FBRTlDLE1BQU8sV0FFN0RpQixPQUFPbUIsZUFBZU4sRUFBUyxhQUFjLENBQUU5QixPQUFPLEs7Ozs7cWxEQ0h2RCxJQUdNK0MsRUFBa0IsaUNBRWxCQyxFQUF1QixDQUMzQkMsR0FBSSxlQUNKQyxHQUFJLGFBQ0pDLEdBQUksaUJBQ0pDLEdBQUksb0JBSU9DLEVBQWIsV0FrREUsV0FBWUMsSSw0RkFBUyxTQUNuQixJQUNFdEYsS0FBS3VGLFNBQVNELEdBQ2R0RixLQUFLd0YsbUJBQW1CRixFQUFRRyxpQkFDaEN6RixLQUFLMEYsV0FBV0osRUFBUUEsU0FDeEJ0RixLQUFLMkYsU0FDTCxNQUFPQyxHQUNQQyxRQUFRQyxLQUFSLG9DQUNBRCxRQUFRRSxNQUFNSCxJLFVBMURwQixPLEVBQUEsRSxFQUFBLDRCQSs1RGNOLEdBQ1YsSUFBSVUsRUFBWVYsRUFBUVcsSUFFeEIsR0FBS0QsRUFBTCxDQUlBLElBQUlFLEdBQVksRUFFaEIsR0FBeUIsaUJBQWRGLElBQ1RBLEVBQVlHLFNBQVNDLGNBQWNKLElBRHJDLE1BUXlCdkYsSUFBckJ1RixFQUFVNUQsU0FDWjRELEVBQVksQ0FBQ0EsR0FDYkUsR0FBWSxHQUdkLElBQUlHLEVBQVksR0FNaEIsT0FMQUwsRUFBVTlGLFNBQVEsU0FBQ0wsR0FDakJ5RixFQUFRVyxJQUFNcEcsRUFDZHdHLEVBQVVDLEtBQUssSUFBSWpCLEVBQWNDLE9BRzVCWSxFQUFZRyxFQUFVLEdBQUtBLE1BMzdEdEMsc0NBODdEeUJFLEdBQ3JCSixTQUFTSyxpQkFBaUIsbUJBQW1CdEcsU0FBUSxTQUFDTCxHQUNoRDBHLEdBQWtCQSxHQUFrQjFHLEdBSXhDQSxFQUFLNEcsY0FBY0MsY0FBY0Msb0JBcDhEdkMsZ0NBdzhEbUJmLEdBQ2YsSUFBSWdCLEVBQVFoQixFQUFFaUIsT0FBT0MsUUFBUSxRQUV4QkYsR0FJTEEsRUFBTUosaUJBQWlCLG1CQUFtQnRHLFNBQVEsU0FBQ0wsR0FDakRBLEVBQUs0RyxjQUFjQyxjQUFjSyxhQWg5RHZDLDhCQXE5REkvRyxLQUFLMEcsY0FBY0ssVUFyOUR2QixxQ0F3OUR3Qi9FLEVBQU9nRixHQUMzQmhILEtBQUswRyxjQUFjTyxlQUFlakYsRUFBT2dGLEtBejlEN0MsdUNBNDlEMEIxQixHQUN0QnRGLEtBQUswRyxjQUFjUSxpQkFBaUI1QixLQTc5RHhDLCtDQWcrRGtDQSxHQUM5QnRGLEtBQUswRyxjQUFjUyx5QkFBeUI3QixLQWorRGhELHNDQW8rRHlCOEIsR0FDckJwSCxLQUFLMEcsY0FBY1csaUJBQWlCRCxLQXIrRHhDLHNDQXkrREksT0FBT3BILEtBQUswRyxjQUFjWSxnQkF6K0Q5QixzQ0E0K0R5QjdFLEdBQ3JCekMsS0FBSzBHLGNBQWNhLFVBQVU5RSxHQUFNLEtBNytEdkMsMENBaS9ESSxPQUFPekMsS0FBSzBHLGNBQWNjLGdCQWovRDlCLGdDQXEvREksTUFsZ0V5QixXQWE3Qiw4Q0F5L0RJLE9BQU94SCxLQUFLMEcsY0FBY2Usb0JBei9EOUIsbUNBNi9ESSxPQUFPekgsS0FBSzBHLGNBQWNnQixnQkE3L0Q5QixvQ0FpZ0VJLE9BQU8xSCxLQUFLMEcsY0FBY0MsaUJBamdFOUIsdUNBcWdFSVIsU0FBU0ssaUJBQWlCLG1CQUFtQnRHLFNBQVEsU0FBQ0wsR0FDcERBLEVBQUs0RyxjQUFjQyxjQUFjaUIsa0IsRUF0Z0V2QyxnQ0FnRUksR0FBSzNILEtBQUtILEtBQVYsQ0FJQSxJQUFJK0gsRUFBaUIsaUJBQ2pCQyxFQUFlN0gsS0FBSzhILG1CQUFtQixJQUFLOUgsS0FBSytILFVBQVUsR0FDM0RDLEVBQXFCaEksS0FBSzhILG1CQUFtQixTQUU3Q0csRUFBd0IsQ0FDMUIsVUFBV2pJLEtBQUtrSSxRQUdkbEksS0FBS21JLG9CQUNQUCxHQUFrQixJQUFNNUgsS0FBS21JLG1CQUczQm5JLEtBQUsrSCxXQUNQSCxHQUFrQixZQUViNUgsS0FBS29JLG1CQUNSUixHQUFrQixvQkFJQSxRQUFsQjVILEtBQUtxSSxXQUNQVCxHQUFrQixpQkFHZjVILEtBQUtzSSxrQkFDUlYsR0FBa0IscUJBR2hCNUgsS0FBS3VJLGVBQ1BYLEdBQWtCLDJCQUVsQkEsR0FBa0IsVUFHaEI1SCxLQUFLd0ksWUFDUFosR0FBa0IsaUJBRWQ1SCxLQUFLeUksZUFDUFIsRUFBc0J0RyxNQUFRM0IsS0FBS3lJLGNBSW5DekksS0FBSzBJLFlBQ1BkLEdBQWtCLHFCQUdwQixJQUFJbEYsRUFBTyxlQUFILE9BQWtCa0YsRUFBbEIsK0RBQ3lCNUgsS0FBSzhCLEtBRDlCLDZIQUkwQitGLEVBSjFCLDBCQUtFN0gsS0FBSzJJLFlBTFAsOElBVXFEWCxFQVZyRCwrSUFlb0NwSSx3QkFDdENxSSxHQWhCRSwwWkE2QmlDakksS0FBSzRJLGNBN0J0QyxxRUErQkU1SSxLQUFLNkksb0JBL0JQLDRKQXVDUjdJLEtBQUtILEtBQUtpSixVQUFZcEcsRUFDdEIxQyxLQUFLK0ksTUFBUTVDLFNBQVNDLGNBQWMsUUFDcENwRyxLQUFLZ0osU0FBV2hKLEtBQUtILEtBQUt1RyxjQUFjLG1CQUN4Q3BHLEtBQUtpSixjQUFnQmpKLEtBQUtILEtBQUt1RyxjQUFjLHlCQUM3Q3BHLEtBQUtrSixhQUFlbEosS0FBS0gsS0FBS3VHLGNBQWMsd0JBQzVDcEcsS0FBS21KLGtCQUFvQm5KLEtBQUtILEtBQUt1RyxjQUNqQyw2QkFFRnBHLEtBQUtvSixvQkFBc0JwSixLQUFLSCxLQUFLdUcsY0FDbkMsZ0NBRUZwRyxLQUFLcUosUUFBVXJKLEtBQUtILEtBQUt1RyxjQUFjLDBCQUN2Q3BHLEtBQUtzSixrQkFBb0J0SixLQUFLSCxLQUFLdUcsY0FDakMsNkJBRUZwRyxLQUFLdUosYUFBZXZKLEtBQUtILEtBQUt1RyxjQUFjLHdCQUM1Q3BHLEtBQUt3SixTQUFXeEosS0FBS0gsS0FBS3VHLGNBQWMsbUJBQ3hDcEcsS0FBS3lKLFdBQWF6SixLQUFLSCxLQUFLdUcsY0FBYyxpQkFDMUNwRyxLQUFLMEosYUFBZTFKLEtBQUtILEtBQUt1RyxjQUFjLHdCQUM1Q3BHLEtBQUsySixXQUFhM0osS0FBS0gsS0FBS3VHLGNBQWMsc0JBQzFDcEcsS0FBSzRKLGlCQUFtQjVKLEtBQUtILEtBQUt1RyxjQUNoQyw2QkFHRnBHLEtBQUs2Six3QkFqTFQsc0NBb0xrQixJQU9WQyxFQVBVLE9BQ1ZwSCxFQUFPLEdBQ1BxSCxFQUFpQi9KLEtBQUtnSyxvQkFDdEJDLEVBQWUsR0FDZkMsRUFBb0IsR0FDcEJDLEtBQ0ZuSyxLQUFLbUssb0JBQXFCbkssS0FBS29LLGFBRzdCQyxFQUFZekssd0JBQXNCLENBQ3BDaUMsT0FBUTdCLEtBQUtzSyxhQUFlLE9BVzlCLEdBUklILElBQ0ZMLEVBQWMsSUFBSVMsT0FBSixXQUFldkssS0FBS29LLFlBQXBCLEtBQW9DLE9BR2hEcEssS0FBSytILFdBQ1BrQyxFQUFlLHVDQUdiakssS0FBS3dLLGVBQWdCLENBQ3ZCLElBQUlDLEVBQW1CekssS0FBSzhILG1CQUFtQixjQUMvQ29DLEVBQW9CLHdDQUFILE9BQTJDTyxFQUEzQyxZQUduQlYsRUFBZTdKLFNBQVEsU0FBQ3dELEdBQ3RCLElBQUlnSCxFQUFjaEgsRUFBRWlILE1BQ2hCQyxFQUFnQixnQkFDaEJDLEVBQWdCLEVBQUsvQyxtQkFBbUIsSUFBSSxHQUM1Q2dELEVBQWNiLEVBQ2RjLEVBQWUsR0FDZkMsRUFBYyxHQUVkdEgsRUFBRXVILFlBQ0pMLEdBQWlCLFlBR2ZsSCxFQUFFd0gsYUFDSk4sR0FBaUIsYUFHZmxILEVBQUV5SCxjQUNKUCxHQUFpQixlQUNqQkUsRUFBYyxJQUVWcEgsRUFBRTBELGFBQ0p3RCxHQUFpQixhQUlqQmxILEVBQUUwSCxnQkFDSlIsR0FBaUIsaUJBR2ZsSCxFQUFFc0gsY0FDSkEsRUFBYywwQ0FBSCxPQUE2Q0gsRUFBN0MsWUFBOERuSCxFQUFFc0gsWUFBaEUsV0FHVHRILEVBQUUySCxjQUNKVCxHQUFpQixlQUNqQkcsR0FBZ0JiLEdBRVpDLElBQXNCekcsRUFBRXlILGVBQzFCVCxFQUFjQSxFQUFZWSxRQUFReEIsRUFBYSxvQkFJbkRwSCxHQUFRLGVBQUosT0FBbUJrSSxFQUFuQix5QkFDRmxILEVBQUUxQixNQURBLHlCQUVhMEIsRUFBRUosTUFGZixpQ0FHRkksRUFBRTZILGFBSEEsYUFJQ2xCLEVBSkQsd0JBS0VTLEVBTEYsdURBT0VwSCxFQUFFMUIsUUFBVStDLEVBQWtCLE9BQVMsR0FQekMsYUFRSzhGLEVBUkwsMEJBU0lILEVBVEosMENBV0VNLEVBWEYsdUJBWUVELEVBWkYsdUJBZ0JOL0ssS0FBS3dKLFNBQVNWLFVBQVlwRyxFQUMxQixJQUFJOEksR0FBZ0J4TCxLQUFLc0YsUUFBUWxELE9BQzdCcUosR0FBc0JELElBQWlCekIsRUFBZTNILE9BRXJEcEMsS0FBS3dLLGdCQUNSNUssdUJBQ0VJLEtBQUtnSixTQUNMLHdCQUNBeUMsR0FJSjdMLHVCQUFxQkksS0FBS2dKLFNBQVUsaUJBQWtCd0MsR0FDdER4TCxLQUFLMEwscUJBQ0wxTCxLQUFLMkwsc0JBdFJULHFDQTJSSSxHQUFLM0wsS0FBSzRMLG1CQUFWLENBSUEsSUFBSTNCLEVBQWUsR0FDZjRCLEVBQWMsR0FFZDdMLEtBQUsrSCxXQUFhL0gsS0FBS29JLG1CQUN6QjZCLEVBQWUsc0tBQUgsT0FFZ0NqSyxLQUFLOEwsY0FGckMsNkJBTVY5TCxLQUFLMEksWUFDUG1ELEVBQWMsK0RBQUgsT0FBa0U3TCxLQUFLK0wsa0JBQXZFLCtEQUliLElBQUlySixFQUFPLGtEQUFILE9BQ0Z1SCxFQURFLHFCQUVGNEIsRUFGRSxrQkFLUjdMLEtBQUtxSixRQUFRUCxVQUFZcEcsRUFDekIxQyxLQUFLZ00sYUFBZWhNLEtBQUtILEtBQUt1RyxjQUFjLHdCQUM1Q3BHLEtBQUtpTSxhQUFlak0sS0FBS0gsS0FBS3VHLGNBQWMsd0JBQzVDcEcsS0FBS2tNLGlCQUFtQmxNLEtBQUtILEtBQUt1RyxjQUNoQyw2QkFFRnBHLEtBQUttTSxtQkFBcUJuTSxLQUFLSCxLQUFLdUcsY0FDbEMsK0JBR0ZwRyxLQUFLb00sU0FBU3BNLEtBQUtnTSxhQUFjLGVBQWdCLFlBQ2pEaE0sS0FBS29NLFNBQVNwTSxLQUFLaU0sYUFBYyxRQUFTLGlCQUMxQ2pNLEtBQUtvTSxTQUFTcE0sS0FBS2tNLGlCQUFrQixRQUFTLHlCQS9UbEQsa0NBc1VJbE0sS0FBS29NLFNBQVNqRyxTQUFVLFFBQVMsbUJBQ2pDbkcsS0FBS29NLFNBQVNwTSxLQUFLZ0osU0FBVSxVQUFXLGFBQ3hDaEosS0FBS29NLFNBQVNwTSxLQUFLaUosY0FBZSxRQUFTLHVCQUMzQ2pKLEtBQUtvTSxTQUFTcE0sS0FBS2tKLGFBQWMsUUFBUyxzQkFDMUNsSixLQUFLb00sU0FBU3BNLEtBQUttSixrQkFBbUIsUUFBUywyQkFDL0NuSixLQUFLb00sU0FDSHBNLEtBQUtvSixvQkFDTCxRQUNBLDZCQUVFcEosS0FBS3FNLDRCQUNQck0sS0FBS29NLFNBQ0hwTSxLQUFLSCxLQUFLdUcsY0FBY3BHLEtBQUtxTSw2QkFDN0IsU0FDQSxtQkFHRnJNLEtBQUtvTSxTQUFTcE0sS0FBS3NKLGtCQUFtQixTQUFVLG1CQUVsRHRKLEtBQUtvTSxTQUFTcE0sS0FBS3dKLFNBQVUsUUFBUyxrQkFDdEN4SixLQUFLb00sU0FBU3BNLEtBQUt3SixTQUFVLFlBQWEsc0JBQzFDeEosS0FBS29NLFNBQVNwTSxLQUFLd0osU0FBVSxZQUFhLHdCQTNWOUMsK0JBOFZXM0osRUFBTXlNLEVBQVFDLEdBQVEsV0FDeEIxTSxJQUlMeU0sRUFBUzNKLHlCQUF1QjJKLEVBQU92TSxNQUFNLE9BRXRDRyxTQUFRLFNBQUNzTSxHQUNkLElBQUlDLEVBQVksR0FBSCxPQUFNRixFQUFOLFlBQWdCQyxHQUN6QkUsRUFBVyxFQUFLSixPQUFPRyxHQUV0QkMsSUFDSEEsRUFBVyxFQUFLSCxHQUFRSSxLQUFLLEdBQzdCLEVBQUtMLE9BQU9HLEdBQWFDLElBRzNCN00sRUFBT0QsdUJBQXFCQyxJQUV2QkssU0FBUSxTQUFDQyxHQUNaQSxFQUFNeU0saUJBQWlCSixFQUFPRSxXQWpYdEMsb0NBc1hnQjdNLEVBQU1nTixHQUNiaE4sSUFJTEEsRUFBT0QsdUJBQXFCQyxHQUU1QmlOLFlBQVcsV0FDVGpOLEVBQUtLLFNBQVEsU0FBQ0MsR0FDWkEsRUFBTTRNLGNBQWMsSUFBSUMsTUFBTUgsRUFBVyxDQUFFSSxTQUFTLFVBRXJELE1BallQLHNDQW9Za0JySCxHQUNkUCxFQUFjNkgsZ0JBQWdCdEgsRUFBRWlCLE9BQU9DLFFBQVEsc0JBclluRCxnQ0F3WVlsQixHQUNSLElBQUkxQixFQUFNMEIsRUFBRXVILE9BQVN2SCxFQUFFd0gsUUFDbkJiLEVBQVN2SCxFQUFxQmQsR0FFOUJxSSxHQUNGdk0sS0FBS3VNLEdBQVEzRyxLQTdZbkIscUNBa1pTNUYsS0FBS3FOLFdBR1JyTixLQUFLc04sc0JBRkx0TixLQUFLMEgsZ0JBblpYLG1DQTBaUTFILEtBQUtxTixZQUNQck4sS0FBSzJHLGlCQTNaWCx1Q0ErWm1CZixHQUNmQSxFQUFFMkgsaUJBRUV2TixLQUFLcU4sV0FDUHJOLEtBQUt3TixZQUFZLFFBRWpCeE4sS0FBSzBILGdCQXJhWCxxQ0F5YWlCOUIsR0FDYkEsRUFBRTJILGlCQUVFdk4sS0FBS3FOLFdBQ1ByTixLQUFLd04sWUFBWSxZQUVqQnhOLEtBQUswSCxnQkEvYVgsMENBbWJzQjlCLEdBQ0hBLEVBQUVpQixPQUFPQyxRQUFRLHlCQU1oQzlHLEtBQUt5TixrQkExYlQsMkNBOGJJek4sS0FBSytHLFVBOWJULHdDQWtjSS9HLEtBQUswTixzQkFsY1QscUNBcWNpQjlILEdBQ2I1RixLQUFLMk4sYUFDSC9ILEVBQUVpQixPQUFPQyxRQUFRLHNEQXZjdkIsOENBMmMwQmxCLEdBQ2pCQSxFQUFFaUIsT0FBT0MsUUFBUSxvQkFDcEI5RyxLQUFLMkcsaUJBN2NYLGtEQWtkSTNHLEtBQUsyRyxpQkFsZFQseUNBcWRxQmYsR0FDakIsSUFBSS9GLEVBQU8rRixFQUFFaUIsT0FBT0MsUUFDbEIsbURBR0VqSCxHQUNGRyxLQUFLd04sWUFBWSxLQUFNM04sS0EzZDdCLDJDQWdlSUcsS0FBSzROLHNCQWhlVCwrQkFtZVdoSSxHQUNQQSxFQUFFaUksa0JBQ0Y3TixLQUFLOE4sZUFBZWxJLEVBQUVpQixPQUFPN0UsT0FBTyxLQXJleEMsc0NBeWVJaEMsS0FBSzhOLGVBQWUsSUFDcEI5TixLQUFLK04scUJBMWVULDJDQThlSS9OLEtBQUtxSCxxQkE5ZVQsaUNBa2ZJckgsS0FBS2dPLDJCQUEwQixLQWxmbkMsMkNBd2ZJaE8sS0FBS0gsS0FBS29PLGFBQWEsT0FBUWpPLEtBQUs4QixNQUVwQ2xDLG9CQUFrQkksS0FBS0gsS0FBTSxjQUM3QkcsS0FBS2tPLGVBQ0xsTyxLQUFLbU8sbUJBQ0xuTyxLQUFLME4sb0JBQ0wxTixLQUFLZ08sNEJBQ0xoTyxLQUFLb08sWUFDTHBPLEtBQUtxTyxhQUVEck8sS0FBS3NPLHFCQUNQdE8sS0FBS2lILGVBQ0hqSCxLQUFLc08scUJBQ0x0TyxLQUFLdU8sdUJBRUV2TyxLQUFLd08sdUJBQXlCeE8sS0FBSytKLGVBQWUzSCxRQUMzRHBDLEtBQUtpSCxlQUNIakgsS0FBSytKLGVBQWUsR0FBRy9ILE1BQ3ZCaEMsS0FBS3VPLHlCQTFnQmIscURBK2dCaUN4SCxHQUN6QkEsR0FDRS9HLEtBQUt3SSxhQUNQeEksS0FBSzBOLHNCQWxoQmIsK0JBeWhCV3BJLEdBQ1BBLEVBQVV0RixLQUFLeU8sZ0JBQWdCbkosR0FDL0J0RixLQUFLME8sd0JBQXdCcEosR0FFN0IsSUFBSXFKLEVBQW1CaE0seUJBRXZCM0MsS0FBS0gsS0FBT3lGLEVBQVFXLElBQ3BCakcsS0FBSzRPLFNBQVd0SixFQUFRc0osU0FDeEI1TyxLQUFLNk8sU0FBV3ZKLEVBQVF1SixTQUN4QjdPLEtBQUs4TyxlQUFpQnhKLEVBQVF3SixlQUM5QjlPLEtBQUsrTyxTQUFXekosRUFBUXlKLFNBQ3hCL08sS0FBS2dQLGlCQUFtQjFKLEVBQVFnRixhQUNoQ3RLLEtBQUtzSyxhQUFlcEksV0FBV2xDLEtBQUtnUCxrQkFDcENoUCxLQUFLK0gsU0FBVzRHLEVBQWlCckosRUFBUXlDLFVBQ3pDL0gsS0FBSzBJLFVBQVlpRyxFQUFpQnJKLEVBQVEySixRQUMxQ2pQLEtBQUtzSSxnQkFBa0JxRyxFQUFpQnJKLEVBQVFnRCxpQkFDaER0SSxLQUFLd08sc0JBQXdCRyxFQUMzQnJKLEVBQVFrSix1QkFFVnhPLEtBQUtrUCxxQkFBdUJQLEVBQWlCckosRUFBUTRKLHNCQUNyRGxQLEtBQUt1TyxzQkFBd0JJLEVBQzNCckosRUFBUWlKLHVCQUVWdk8sS0FBS3dLLGVBQWlCbUUsRUFBaUJySixFQUFRa0YsZ0JBQy9DeEssS0FBS21LLGtCQUFvQndFLEVBQWlCckosRUFBUTZFLG1CQUNsRG5LLEtBQUttUCx5QkFBMkJSLEVBQzlCckosRUFBUTZKLDBCQUVWblAsS0FBS29JLGlCQUFtQnVHLEVBQWlCckosRUFBUThDLGtCQUNqRHBJLEtBQUt1SSxlQUFpQm9HLEVBQWlCckosRUFBUWlELGdCQUMvQ3ZJLEtBQUtvUCxtQkFBcUJULEVBQWlCckosRUFBUThKLG9CQUNuRHBQLEtBQUs0SSxjQUFnQnRELEVBQVFzRCxjQUM3QjVJLEtBQUs2SSxvQkFBc0J2RCxFQUFRdUQsb0JBQ25DN0ksS0FBSzhMLGNBQWdCeEcsRUFBUXdHLGNBQzdCOUwsS0FBSzJJLFlBQWNyRCxFQUFRcUQsWUFDM0IzSSxLQUFLcUksU0FBVy9DLEVBQVErQyxTQUN4QnJJLEtBQUt5SSxhQUFlbkQsRUFBUW1ELGFBQzVCekksS0FBS3FQLGdCQUFrQi9KLEVBQVErSixnQkFDL0JyUCxLQUFLc1AsaUJBQW1CaEssRUFBUWdLLGlCQUNoQ3RQLEtBQUt1UCxnQkFBa0JqSyxFQUFRaUssZ0JBQy9CdlAsS0FBS3dQLGtCQUFvQkMsU0FBU25LLEVBQVFrSyxtQkFDMUN4UCxLQUFLa0ksT0FBU3VILFNBQVNuSyxFQUFRNEMsUUFDL0JsSSxLQUFLMFAsVUFBWUQsU0FBU25LLEVBQVFvSyxXQUNsQzFQLEtBQUs4QixLQUFPd0QsRUFBUXhELEtBQ3BCOUIsS0FBS21JLGtCQUFvQjdDLEVBQVE2QyxrQkFDakNuSSxLQUFLc08scUJBQXVCaEosRUFBUXFLLGNBQ3BDM1AsS0FBSzRQLHVCQUF5QnRLLEVBQVFzSyx1QkFDdEM1UCxLQUFLNlAsZUFBaUJ2SyxFQUFRdUssZUFDOUI3UCxLQUFLK0wsa0JBQW9CekcsRUFBUXlHLGtCQUNqQy9MLEtBQUs4UCxxQkFBdUJ4SyxFQUFRd0sscUJBQ3BDOVAsS0FBSytQLGdCQUFrQnpLLEVBQVF5SyxnQkFDL0IvUCxLQUFLZ1EsZUFBaUIxSyxFQUFRMEssZUFFOUJoUSxLQUFLaVEsZUFBaUIsR0FDdEJqUSxLQUFLa1EsZ0JBQWtCLEdBQ3ZCbFEsS0FBS21RLFVBQVksR0FDakJuUSxLQUFLc00sT0FBUyxHQUNkdE0sS0FBS29RLGtCQUFvQixJQUN6QnBRLEtBQUtxUSxtQkFBcUIsSUFDMUJyUSxLQUFLb0ssWUFBYyxHQUNuQnBLLEtBQUtzUSxvQkFBc0IsR0FDM0J0USxLQUFLc0gsZUFBZ0IsUUFHQzdHLElBQW5CNkUsRUFBUTJKLFFBQXdCalAsS0FBSytILFVBQ3RDL0gsS0FBS3dLLGtCQUVMeEssS0FBSzBJLFdBQVksR0FHZjFJLEtBQUswUCxZQUNQMVAsS0FBS29JLGtCQUFtQixHQUcxQnBJLEtBQUt1USxnQkFBaUQsbUJBQXhCdlEsS0FBSzZQLGVBQ25DN1AsS0FBS3dJLFlBQ0h4SSxLQUFLb1AscUJBQ0pwUCxLQUFLdUksZ0JBQ05ySCxPQUFPQyxZQUFjZSxXQUFXbEMsS0FBSzRQLHdCQUN2QzVQLEtBQUs0TCxtQkFDSDVMLEtBQUswSSxXQUFjMUksS0FBSytILFdBQWEvSCxLQUFLb0ksaUJBQzVDcEksS0FBS3dRLGFBQWV4USxLQUFLeVEsZ0JBQWdCbkwsRUFBUWtMLGNBQ2pEeFEsS0FBSzBRLGlCQUFtQkMsS0FBS0MsS0FBSzVRLEtBQUt3USxhQUFlLEdBQ3REeFEsS0FBSzZRLGNBQWdCN1EsS0FBSzhRLHFCQTVtQjlCLHNDQSttQmtCeEwsR0FDZCxJQUFJeUwsRUFBaUIsQ0FDbkJuQyxTQUFVLFFBQ1ZDLFNBQVUsUUFDVkMsZUFBZ0IsY0FDaEJDLFNBQVUsUUFDVnlCLGFBQWMsRUFDZGhCLGtCQUFtQixHQUNuQmxGLGFBQWMsT0FDZHZDLFVBQVUsRUFDVk8saUJBQWlCLEVBQ2pCa0csdUJBQXVCLEVBQ3ZCVSxzQkFBc0IsRUFDdEJYLHVCQUF1QixFQUN2Qm5HLGtCQUFrQixFQUNsQlEsY0FBZSxtQkFDZkMsb0JBQXFCLG1CQUNyQmlELGNBQWUsYUFDZm5ELFlBQWEsU0FDYk4sU0FBVSxPQUNWSCxPQUFRLEVBQ1JzQyxnQkFBZ0IsRUFDaEJMLG1CQUFtQixFQUNuQmtGLGdCQUFpQixPQUNqQkMsaUJBQWtCLFNBQ2xCQyxnQkFBaUIsUUFDakJKLDBCQUEwQixFQUMxQnJOLEtBQU0sR0FDTnFHLGtCQUFtQixHQUNuQkksZ0JBQWdCLEVBQ2hCbUgsVUFBVyxFQUNYTixvQkFBb0IsRUFDcEJRLHVCQUF3QixRQUN4QjdELGtCQUFtQixZQUNuQitELHFCQUFzQixXQUN0QkMsaUJBQWlCLEVBQ2pCQyxlQUFnQixRQVFsQixPQUxJMUssRUFBUTRKLHVCQUNWNkIsRUFBZVAsYUFBZSxFQUM5Qk8sRUFBZXpHLGFBQWUsUUFHekJySCxPQUFPK04sT0FBT0QsRUFBZ0J6TCxLQTNwQnpDLDhDQThwQjBCQSxHQUN0QixJQUFJekYsRUFBT3lGLEVBQVFXLElBQ2ZnTCxFQUFVLENBQ1psSixTQUFVLFdBQ1ZZLFlBQWEsY0FDYjdHLEtBQU0sT0FDTixpQkFBa0IsV0FDbEIsaUJBQWtCLFdBQ2xCLHVCQUF3QixpQkFDeEIsaUJBQWtCLFdBQ2xCLGNBQWUsU0FDZix5QkFBMEIsa0JBQzFCLGdDQUFpQyx3QkFDakMsOEJBQStCLHVCQUMvQixxQkFBc0IsZUFDdEIscUJBQXNCLGVBQ3RCLGdCQUFpQixXQUNqQix1QkFBd0IsZ0JBQ3hCLDhCQUErQixzQkFDL0IsdUJBQXdCLGdCQUN4QixnQ0FBaUMsd0JBQ2pDLHFCQUFzQixlQUN0QixlQUFnQixTQUNoQiw0QkFBNkIsb0JBQzdCLHdCQUF5QixpQkFDekIsMkJBQTRCLG9CQUM1Qix5QkFBMEIsa0JBQzFCLHlCQUEwQixtQkFDMUIseUJBQTBCLGtCQUMxQixtQ0FBb0MsMkJBQ3BDLDBCQUEyQixtQkFDM0Isd0JBQXlCLGlCQUN6QixrQkFBbUIsWUFDbkIsMEJBQTJCLG9CQUMzQiw2QkFBOEIscUJBQzlCLGdDQUFpQywwQkFHbkMsSUFBSyxJQUFJVSxLQUFLeU8sRUFBUyxDQUNyQixJQUFJalAsRUFBUW5DLEVBQUtxUixhQUFhMU8sR0FFcEIsYUFBTkEsR0FBK0IsS0FBVlIsR0FBMEIsU0FBVkEsSUFDdkNBLEdBQVEsR0FHTkEsSUFDRnNELEVBQVEyTCxFQUFRek8sSUFBTVIsTUE1c0I5QixtQ0FrdEJJLElBQUluQyxFQUFPRyxLQUFLSCxLQUNoQkEsRUFBSzZHLGNBQWdCMUcsS0FDckJILEVBQUttQyxNQUFRaEMsS0FBSytILFNBQVcsR0FBSyxHQUNsQ2xJLEVBQUtrSCxNQUFRMUIsRUFBYzBCLE1BQzNCbEgsRUFBS3NSLFNBQVc5TCxFQUFjNEIsZUFDOUJwSCxFQUFLNkYsV0FBYUwsRUFBYzZCLGlCQUNoQ3JILEVBQUsyRixtQkFBcUJILEVBQWM4Qix5QkFDeEN0SCxFQUFLdVIsZ0JBQWtCL0wsRUFBYytMLGdCQUNyQ3ZSLEVBQUt5SCxjQUFnQmpDLEVBQWNpQyxjQUNuQ3pILEVBQUswSCxVQUFZbEMsRUFBY2dNLGdCQUMvQnhSLEVBQUsySCxZQUFjbkMsRUFBY2lNLGtCQUNqQ3pSLEVBQUs0SCxnQkFBa0JwQyxFQUFja00sc0JBQ3JDMVIsRUFBSzJSLEtBQU9uTSxFQUFjb00sV0FDMUI1UixFQUFLNlIsTUFBUXJNLEVBQWNzTSxjQS90Qi9CLHFDQWt1QmlCM1AsRUFBT2dGLEdBQ2ZqRSxNQUFNQyxRQUFRaEIsS0FDakJBLEVBQVEsQ0FBQ0EsSUFHWEEsRUFBUUEsRUFBTTRQLEtBQUksU0FBQ0MsR0FDakIsT0FBT0EsR0FBVSxHQUFMQSxFQUFTQSxFQUFFaFAsV0FBYSxNQUd0QyxJQUFJaVAsRUFBYyxHQUNkQyxFQUFlLEdBRW5CL1IsS0FBS3NGLFFBQVFwRixTQUFRLFNBQUN3RCxFQUFHc08sSUFDc0IsSUFBNUJoUSxFQUFNdUIsUUFBUUcsRUFBRTFCLFFBRWQwQixFQUFFd0gsWUFBZXhILEVBQUV5SCxhQUtwQ3pILEVBQUUwRCxZQUFhLEdBSmYxRCxFQUFFMEQsWUFBYSxFQUNmMEssRUFBWXhMLEtBQUs1QyxFQUFFMUIsT0FDbkIrUCxFQUFhekwsS0FBSzBMLE9BTWpCaFMsS0FBSytILFdBQ1IrSixFQUFjQSxFQUFZLEdBQzFCQyxFQUFlQSxFQUFhLElBRzlCL1IsS0FBS2lTLGlCQUNMalMsS0FBS21SLFNBQVNXLEVBQWFDLEdBQWUvSyxHQUMxQ2hILEtBQUtrUyxrQkFqd0JULHVDQW93Qm1CNU0sRUFBUzZNLEdBQ3hCblMsS0FBSzBGLFdBQVdKLEdBQ2hCdEYsS0FBS29TLGdCQUFnQkQsS0F0d0J6QiwrQ0F5d0IyQjFNLEdBQ3ZCekYsS0FBS3dGLG1CQUFtQkMsR0FBaUIsR0FDekN6RixLQUFLaUgsZUFBZSxNQUNwQmpILEtBQUswTixzQkE1d0JULDJDQSt3Qm1FLElBQTlDakksRUFBOEMsdURBQTVCLEdBQUk0TSxFQUF3Qix3REFDL0Q1TSxFQUFrQkEsRUFBZ0JtTSxLQUFJLFNBQUNsTyxHQUFELE9BQU9BLEVBQUViLGNBQy9DN0MsS0FBS3lGLGdCQUFrQkEsRUFFbkI0TSxHQUFrQjVNLEVBQWdCckQsUUFDcENwQyxLQUFLc0YsUUFBUXBGLFNBQVEsU0FBQ3dELEdBR3BCLE9BRkFBLEVBQUV3SCxZQUFtRCxJQUF0Q3pGLEVBQWdCbEMsUUFBUUcsRUFBRTFCLE9BRWxDMEIsT0F2eEJmLGlDQTR4QmE0QixHQUNKQSxJQUNIQSxFQUFVLElBR1osSUFBSWdOLEVBQWtCLEdBQ2xCN00sRUFBa0J6RixLQUFLeUYsZ0JBQ3ZCOE0sRUFBcUI5TSxFQUFnQnJELE9BQ3JDd00sRUFBVzVPLEtBQUs0TyxTQUNoQkMsRUFBVzdPLEtBQUs2TyxTQUNoQkMsRUFBaUI5TyxLQUFLOE8sZUFDdEJDLEVBQVcvTyxLQUFLK08sU0FDaEJHLEVBQXVCbFAsS0FBS2tQLHFCQUM1QnNELEVBQVk3UCxrQkFDWjhQLEVBQVd6UyxLQUFLeVMsU0FDaEJuUCxFQUFRLEVBQ1JvUCxHQUFpQixHQTZDaEIxUyxLQUFLK0gsVUFBWS9ILEtBQUsrUCxpQkFDekJ6SyxFQUFRcU4sUUFBUSxDQUNkM1EsTUFBTytDLEVBQ1A0RixNQUFPM0ssS0FBS2dRLGlCQUloQjFLLEVBQVFwRixTQWxEWSxTQUFoQjBTLEVBQWlCbFAsR0FDbkIsSUFBSTFCLEVBQVF3USxFQUFVOU8sRUFBRWtMLElBQ3BCaUUsRUFBZW5QLEVBQUU0QixRQUNqQjZGLElBQWUwSCxFQUNmQyxFQUFTLENBQ1h4UCxRQUNBdEIsUUFDQTJJLE1BQU82SCxFQUFVOU8sRUFBRW1MLElBQ25Ca0UsTUFBT04sRUFBUy9PLEVBQUVxTCxJQUNsQmlFLFdBQVcsRUFDWDdILGdCQW1CRixHQWhCSW9ILElBQ0ZPLEVBQU81SCxZQUFpRCxJQUFwQ3pGLEVBQWdCbEMsUUFBUXZCLElBRzFDMEIsRUFBRTBILGdCQUNKMEgsRUFBTzFILGVBQWdCLEVBQ3ZCMEgsRUFBT0csV0FBYXZQLEVBQUV1UCxZQUdwQi9ELElBQ0Y0RCxFQUFPOUgsWUFBY3dILEVBQVU5TyxFQUFFb0wsS0FHbkN3RCxFQUFnQmhNLEtBQUt3TSxHQUNyQnhQLElBRUk2SCxFQUFjLENBQ2hCLElBQUk4SCxFQUFhSCxFQUFPeFAsTUFDeEJvUCxHQUFpQixFQUVqQkcsRUFBYTNTLFNBQVEsU0FBQ3dELEdBQ3BCQSxFQUFFMEgsZUFBZ0IsRUFDbEIxSCxFQUFFdVAsV0FBYUEsRUFFZkwsRUFBY2xQLFVBZXBCMUQsS0FBS3NGLFFBQVVnTixFQUNmdFMsS0FBS2tULG9CQUFzQlosRUFBZ0JsUSxPQUMzQ3BDLEtBQUttVCxnQkFBa0JuVCxLQUFLc0YsUUFBUWxELE9BQVMsRUFDN0NwQyxLQUFLbVEsVUFBWSxHQUNqQm5RLEtBQUswUyxlQUFpQkEsRUFDdEIxUyxLQUFLb1QscUJBdjJCVCx1Q0EwMkJtQjlOLEdBQ2Z0RixLQUFLa0gsaUJBQWlCNUIsR0FBUyxHQUMvQjFGLHVCQUFxQkksS0FBS2dKLFNBQVUsc0JBNTJCeEMseUNBZzNCSSxJQUFJcUssRUFBZ0IsRUFBSXJULEtBQUtzRixTQUV6QnRGLEtBQUttUCwwQkFBNEJuUCxLQUFLaVEsZUFBZTdOLFNBRXJEaVIsRUFERXJULEtBQUswUyxlQUNTMVMsS0FBS3NULGlCQUFpQkQsR0FFdEJyVCxLQUFLdVQsWUFBWUYsSUFJckNyVCxLQUFLcVQsY0FBZ0JBLElBMTNCekIsMENBODNCSSxJQUFJdEosRUFBaUIsRUFBSS9KLEtBQUtxVCxlQUMxQkcsRUFBdUMsRUFBcEJ4VCxLQUFLd1EsYUFDeEJpRCxFQUFhelQsS0FBSzBULHVCQUNsQkMsRUFBWTNULEtBQUs0VCxlQUNqQkMsRUFBV0osRUFBYUQsRUFBbUIsRUFDM0NNLEVBQUksRUFFSkgsSUFDRkEsRUFBVXBJLGFBQWV1SSxFQUN6QkEsS0FHRi9KLEVBQWlCQSxFQUFldEcsUUFBTyxTQUFDQyxHQUN0QyxJQUFJcVEsR0FBUyxFQVFiLE9BTklyUSxFQUFFc1AsWUFBY3RQLEVBQUUySCxlQUNwQjBJLEVBQVNELEdBQUtMLEdBQWNLLEdBQUtELEVBQ2pDblEsRUFBRTZILGFBQWV1SSxFQUNqQkEsS0FHS0MsS0FHTEosSUFDRjVKLEVBQWlCLENBQUM0SixHQUFKLFNBQWtCNUosS0FHbEMvSixLQUFLK0osZUFBaUJBLEVBQ3RCL0osS0FBS2dVLGtCQTM1QlQseUNBODVCcUJQLFFBQ0VoVCxJQUFmZ1QsSUFDRkEsRUFBYXpULEtBQUswVCx3QkFHcEIsSUFBSWpTLEVBQU1nUyxFQUFhelQsS0FBS3NLLGFBQzVCdEssS0FBS3dKLFNBQVNySCxNQUFNOFIsVUFBcEIseUJBQWtEeFMsRUFBbEQsVUFDQTdCLG1CQUFpQkksS0FBS3dKLFNBQVUsTUFBTy9ILEtBcjZCM0MsMENBdzZCc0IsV0FDZHNJLEVBQWlCL0osS0FBS2dLLG9CQUN0QmtGLEVBQXVCbFAsS0FBS2tQLHFCQUVoQ25GLEVBQWU3SixTQUFRLFNBQUN3RCxHQUN0QixJQUFJd1EsRUFBYSxFQUFLL0ssa0JBQWtCL0MsY0FBdkIscUNBQ2UxQyxFQUFFSixNQURqQixPQUlqQjFELG1CQUNFc1UsRUFBVzlOLGNBQWMsdUJBQ3pCLFVBQ0ExQyxFQUFFaUgsT0FHQXVFLEdBQ0Z0UCxtQkFDRXNVLEVBQVc5TixjQUFjLDhCQUN6QixVQUNBMUMsRUFBRXNILGtCQTM3QlosK0JBaThCV2hKLEVBQU9zQixFQUFPNlEsR0FFaEJuUyxFQUVNZSxNQUFNQyxRQUFRaEIsR0FDdkJoQyxLQUFLaVEsZUFBTCxFQUEwQmpPLEdBRTFCaEMsS0FBS2lRLGVBQWlCLENBQUNqTyxHQUp2QmhDLEtBQUtpUSxlQUFpQixHQU94QixJQUFJbUUsRUFBV3BVLEtBQUsrSCxTQUNoQi9ILEtBQUtpUSxlQUNMalEsS0FBS2lRLGVBQWUsSUFBTSxHQUU5QmpRLEtBQUtILEtBQUttQyxNQUFRb1MsRUFDbEJwVSxLQUFLMEosYUFBYTFILE1BQVFvUyxFQUdyQjlRLEVBRU1QLE1BQU1DLFFBQVFoQixHQUN2QmhDLEtBQUtrUSxnQkFBTCxFQUEyQjVNLEdBRTNCdEQsS0FBS2tRLGdCQUFrQixDQUFDNU0sR0FKeEJ0RCxLQUFLa1EsZ0JBQWtCLEdBT3pCLElBQUltRSxFQUFXclUsS0FBSytILFNBQ2hCL0gsS0FBS2tRLGdCQUNMbFEsS0FBS2tRLGdCQUFnQixJQUFNLEdBRS9CbFEsS0FBS0gsS0FBS3lELE1BQVErUSxFQUNsQnJVLEtBQUswSixhQUFhcEcsTUFBUStRLEVBRTFCclUsS0FBS3NVLHVCQUNIdFUsS0FBSzBQLFdBQWExUCxLQUFLMFAsV0FBYTFQLEtBQUtpUSxlQUFlN04sUUFHMURwQyxLQUFLdVUsZUFDTDNVLHVCQUNFSSxLQUFLZ0osU0FDTCxZQUNBckcsbUJBQWlCM0MsS0FBS2lRLGlCQUV4QnJRLHVCQUNFSSxLQUFLZ0osU0FDTCxxQkFDQWhKLEtBQUtzVSxxQkFHSEgsR0FDRm5VLEtBQUsrTSxjQUFjL00sS0FBS0gsS0FBTSxZQW4vQnBDLHFDQXcvQkksSUFBSTJVLEVBQVksR0FDWjNNLEVBQWUsR0FDZm9JLEVBQWlCalEsS0FBS2lRLGVBQ3RCd0UsRUFBaUJ4RSxFQUFlN04sT0FDaENvTixFQUFvQnhQLEtBQUt3UCxrQkFFekJrRixFQUFzQixFQUUxQixHQUFJMVUsS0FBS3NILGNBRVB0SCxLQUFLeUosV0FBV1gsVUFBaEIsVUFBK0IyTCxFQUEvQixZQUFpRHpVLEtBQUs4UCwwQkFDakQsV0FDUzlQLEtBQUtzRixTQURkLElBQ0wsMkJBQTRCLEtBQW5CNUIsRUFBbUIsUUFDMUIsSUFBSUEsRUFBRTJILGFBQU4sQ0FJQSxHQUFJcUosRUFaa0IsR0FhcEIsTUFHRixJQUFJMVMsRUFBUTBCLEVBQUUxQixNQUVkLElBQXVDLElBQW5DaU8sRUFBZTFNLFFBQVF2QixHQUFlLENBQ3hDLElBQUkySSxFQUFRakgsRUFBRWlILE1BQ2Q2SixFQUFVbE8sS0FBS3FFLEtBQ2YrSixHQUUyQmxGLEdBQ3pCM0gsRUFBYXZCLEtBQWIseUNBQW9EcUUsRUFBcEQsZUFsQkQsOEJBdUJMLElBQUlnSyxFQUFzQkYsRUFBaUJqRixFQUV2Q21GLEVBQXNCLEdBQ3hCOU0sRUFBYXZCLEtBQWIsNERBQ3VEcU8sRUFEdkQsb0JBS0YsSUFBTUMsRUFBc0JKLEVBQVVLLEtBQUssTUFFM0MsR0FBNEIsS0FBeEJELEVBQ0Y1VSxLQUFLeUosV0FBV1gsVUFBWTlJLEtBQUsySSxpQkFJakMsR0FGQTNJLEtBQUt5SixXQUFXWCxVQUFZOEwsRUFFeEI1VSxLQUFLK0gsU0FBVSxDQUNqQixJQUFJMkgsRUFBWTFQLEtBQUswUCxVQUVyQixHQUFJOVAsdUJBQXFCSSxLQUFLeUosYUFBZWlHLEVBQVcsQ0FDdEQsSUFBSW9GLEVBQVksR0FBSCxPQUFNTCxHQUVmL0UsSUFDRm9GLEdBQWEsTUFBSixPQUFVcEYsSUFRckIxUCxLQUFLeUosV0FBV1gsVUFBaEIsVUFBK0JnTSxFQUEvQixZQUE0QzlVLEtBQUs4UCwyQkFHakRqSSxFQUFlLElBTXZCakksbUJBQWlCSSxLQUFLeUosV0FBWSxVQUFXNUIsRUFBYWdOLEtBQUssU0Fqa0NuRSxxQ0Fva0NpQjdTLEVBQU8rUyxHQUNwQixHQUFJL1MsSUFBVWhDLEtBQUtzUSxvQkFBbkIsQ0FJS3lFLElBQ0gvVSxLQUFLZ00sYUFBYWhLLE1BQVFBLEdBRzVCLElBQUlvSSxFQUFjcEksRUFBTWdULGNBQWNDLE9BTXRDLEdBTEFqVixLQUFLb0ssWUFBY0EsRUFDbkJwSyxLQUFLc1Esb0JBQXNCdE8sRUFFM0JwQyx1QkFBcUJJLEtBQUtnSixTQUFVLG1CQUFvQmhILEdBRXBEaEMsS0FBS3VRLGdCQUNQdlEsS0FBS2tWLGFBQWE5SyxPQURwQixDQUtBLElBRUkrSyxFQUZBakMsRUFBc0IsRUFDdEJrQyxHQUFpQixFQUVqQkMsRUFBa0JyVixLQUFLcVYsZ0JBRXZCclYsS0FBSzBTLGlCQUNQeUMsRUFBNkJuVixLQUFLc1YsOEJBQ2hDbEwsSUFJSnBLLEtBQUtzRixRQUFRcEYsU0FBUSxTQUFDd0QsR0FDcEIsSUFBSUEsRUFBRTJILGFBQU4sQ0FJQSxJQUFJOUksRUFBUzhTLEVBQ1gzUixFQUNBMEcsRUFDQWdMLEVBQ0FELEdBR0U1UyxFQUFPeVEsV0FDVEUsSUFHR2tDLElBQ0hBLEVBQWlCN1MsRUFBTzZTLG9CQUl4QnBWLEtBQUt3SyxpQkFDSEosSUFBZ0JnTCxHQUNsQnBWLEtBQUt1VixlQUNMckMsS0FFQWxULEtBQUt3VixtQkFJVHhWLEtBQUtrVCxvQkFBc0JBLEVBRTNCbFQsS0FBS3lWLGNBQ0x6VixLQUFLbU8sbUJBQ0xuTyxLQUFLME4sd0JBcm9DVCxvQ0F3b0NnQnBLLEVBQU9ZLEVBQUtsQyxHQUNuQmhDLEtBQUtzRixRQUFRaEMsS0FJbEJ0RCxLQUFLc0YsUUFBUWhDLEdBQU9ZLEdBQU9sQyxLQTdvQy9CLHlDQWlwQ0loQyxLQUFLdUosYUFBYXBILE1BQU1OLE9BQ3RCN0IsS0FBS3NLLGFBQWV0SyxLQUFLa1Qsb0JBQXNCLE9BbHBDckQsZ0RBcXBDNEJuTSxHQUN4QixJQUFJOEosRUFFQTlKLEVBQ0UvRyxLQUFLd0ksY0FDUHhJLEtBQUt3USxhQUFleFEsS0FBS3lRLGtCQUN6QkksRUFBZ0I3USxLQUFLOFEsbUJBQ3JCOVEsS0FBSzZRLGNBQWdCQSxJQUd2QkEsRUFBZ0I3USxLQUFLNlEsY0FFakI3USxLQUFLdUksaUJBQ1AzSSxvQkFBa0JJLEtBQUsySixXQUFZLFNBQVVrSCxHQUM3Q2pSLG9CQUFrQkksS0FBSzRKLGlCQUFrQixTQUFVaUgsS0FJdkRqUixvQkFBa0JJLEtBQUtzSixrQkFBbUIsYUFBY3VILEdBRXhEN1EsS0FBSzBWLCtCQUErQjNPLEtBenFDeEMsMkNBNnFDSSxHQUFzQixTQUFsQi9HLEtBQUtxSSxTQUFULENBSUEsSUFBSXNOLEVBQW1CL1YsK0JBQTZCSSxLQUFLZ0osVUFDckQ0TSxHQUFhLEVBR2pCLEdBQUk1VixLQUFLeUksYUFBYyxDQUNyQixJQUFJb04sRUFBZTdWLEtBQUtpSixjQUFjakksd0JBQ2xDOFUsRUFBZ0I1VSxPQUFPQyxXQUN2QnNILEVBQWV2RyxXQUFXbEMsS0FBS3lJLGNBQy9Cc04sRUFBZ0JGLEVBQWF0VSxLQUFPa0gsRUFBZXFOLEVBQ25ERSxFQUFldk4sRUFBZW9OLEVBQWFJLE1BRTNDRixJQUFrQkMsSUFDcEJKLEdBQWEsR0FJakJoVyx1QkFDRUksS0FBS2dKLFNBQ0wsZUFDOEIsUUFBOUIyTSxFQUFpQi9ULFVBRW5CaEMsdUJBQXFCSSxLQUFLZ0osU0FBVSxnQkFBaUI0TSxNQXRzQ3pELHFDQTBzQ0ksSUFBSTVULEVBQVFoQyxLQUFLc1Esb0JBQW9CMkUsT0FFckMsR0FBS2pULEVBQUwsQ0FJQSxJQUFJMlIsRUFBWTNULEtBQUs0VCxlQUVyQixHQUFJRCxFQUFXLENBQ2IsSUFBSVUsRUFBV1YsRUFBVXJRLE1BRXpCdEQsS0FBS2tXLGNBQWM3QixFQUFVLFFBQVNyUyxHQUN0Q2hDLEtBQUtrVyxjQUFjN0IsRUFBVSxRQUFTclMsT0FDakMsQ0FDTCxJQUFJUyxFQUFPLENBQ1RULFFBQ0EySSxNQUFPM0ksRUFDUHFKLGNBQWMsR0FHaEJyTCxLQUFLdUgsVUFBVTlFLE9BOXRDckIsd0NBbXVDSSxJQUFJd04sRUFBaUJqUSxLQUFLaVEsZUFFMUJqUSxLQUFLc0YsUUFBUXBGLFNBQVEsU0FBQ3dELElBQ3FCLElBQXJDdU0sRUFBZTFNLFFBQVFHLEVBQUUxQixTQUMzQjBCLEVBQUUwRCxZQUFhLFFBdnVDdkIsMENBK3VDSSxPQUFPcEgsS0FBSytKLGdCQUFrQixLQS91Q2xDLGlDQW12Q0ksT0FBTy9KLEtBQUsrSCxTQUFXL0gsS0FBS2lRLGVBQWlCalEsS0FBS2lRLGVBQWUsS0FudkNyRSxtREF1dkNJLE9BQU9VLEtBQUtDLEtBQUs1USxLQUFLc0osa0JBQWtCNk0sVUFBWW5XLEtBQUtzSyxnQkF2dkM3RCw2Q0EydkNJLElBQ0ltSixFQUQwQnpULEtBQUtvVyw2QkFDUXBXLEtBQUswUSxpQkFNaEQsT0FKSStDLEVBQWEsSUFDZkEsRUFBYSxHQUdSQSxJQWx3Q1gseUNBcXdDcUI3USxHQUErQyxJQUF6Q3lULEVBQXlDLHdEQUFuQkMsRUFBbUIsd0RBQzVEN1QsRUFBTyxDQUNULGVBQWdCRyxHQUFRLEdBQ3hCLDJCQUE0QjVDLEtBQUtvUSxrQkFDakMsdUJBQXdCcFEsS0FBS2tJLE9BQzdCLHlCQUEwQmxJLEtBQUtxUCxnQkFDL0IseUJBQTBCclAsS0FBS3NQLGlCQUMvQix5QkFBMEJ0UCxLQUFLdVAsZ0JBQy9CLDZCQUE4QjhHLEVBQzlCLDBCQUEyQkMsR0FHN0IsT0FBTzFXLDZCQUEyQjZDLEtBanhDdEMsbUNBb3hDZUEsR0FDWCxHQUFLQSxFQUFMLENBSUEsSUFBSStQLEVBQVk3UCxrQkFXaEIsTUFWZ0IsQ0FDZFcsTUFBT2IsRUFBS2EsTUFDWnRCLE1BQU93USxFQUFVL1AsRUFBS1QsT0FDdEIySSxNQUFPNkgsRUFBVS9QLEVBQUtrSSxPQUN0QkssWUFBYXdILEVBQVUvUCxFQUFLdUksYUFDNUIrSCxNQUFPL1MsS0FBS3lTLFNBQVNoUSxFQUFLc1EsT0FDMUIxSCxhQUFjNUksRUFBSzRJLGVBQWdCLEVBQ25DMkgsV0FBVyxNQWp5Q2pCLHFDQXd5Q0ksSUFBSXVELEVBQWF2VyxLQUFLc0YsUUFBUXRGLEtBQUttVCxpQkFFbkMsR0FBS29ELEdBQWVBLEVBQVdsTCxhQUkvQixPQUFPa0wsSUE5eUNYLHFDQWl6Q2lCdlUsR0FDYixJQUFJc0IsRUFZSixPQVZJdEIsR0FDRmhDLEtBQUtzRixRQUFRa1IsTUFBSyxTQUFDOVMsR0FDakIsR0FBSUEsRUFBRTFCLE9BQVNBLEVBR2IsT0FGQXNCLEVBQVFJLEVBQUVKLE9BRUgsS0FLTkEsSUE5ekNYLG9DQWswQ0ksSUFBSTZNLEVBQVluUSxLQUFLbVEsVUFDakI1TixFQUFTdkMsS0FBS2lRLGVBQWV4TSxRQUFPLFNBQUNDLEdBQUQsT0FBaUMsSUFBMUJ5TSxFQUFVNU0sUUFBUUcsTUFFakUsT0FBTzFELEtBQUsrSCxTQUFXeEYsRUFBU0EsRUFBTyxLQXIwQzNDLCtCQXcwQ1d3USxHQWFQLE9BTEVBLEVBUEVBLEdBRUFBLEVBREVoUSxNQUFNQyxRQUFRK1AsR0FDUkEsRUFBTThCLEtBQUssS0FFWDlCLEVBQU1sUSxXQUFXb1MsUUFHYkQsY0FFTixLQWwxQ2Qsd0NBeTFDSSxJQURnQixFQUNaeUIsRUFBZ0IsR0FDaEJ4RyxFQUFpQmpRLEtBQUtpUSxlQUZWLElBSUZqUSxLQUFLc0YsU0FKSCxJQUloQiwyQkFBNEIsS0FBbkI1QixFQUFtQixTQUNlLElBQXJDdU0sRUFBZTFNLFFBQVFHLEVBQUUxQixRQUMzQnlVLEVBQWNuUSxLQUFLNUMsRUFBRWlILFFBTlQsOEJBVWhCLE9BQU8zSyxLQUFLK0gsU0FBVzBPLEVBQWdCQSxFQUFjLElBQU0sS0FsMkMvRCxvREFxMkNnQ3JNLEdBQzVCLElBQUk5RSxFQUFVdEYsS0FBS3NGLFFBQ2YvQyxFQUFTLEdBQ1Q4UyxFQUFrQnJWLEtBQUtxVixnQkFTM0IsT0FSQS9QLEVBQVV0RixLQUFLMFcscUJBQXFCcFIsSUFFNUJwRixTQUFRLFNBQUN3RCxHQUNmbkIsRUFBT21CLEVBQUVKLE9BQVNJLEVBQUU0QixRQUFRa1IsTUFDMUIsU0FBQzVRLEdBQUQsT0FBT3lQLEVBQWdCelAsRUFBR3dFLEdBQWE0SSxnQkFJcEN6USxJQWozQ1gsc0NBbzNDa0JvVSxHQUNkLEdBQUkzVyxLQUFLd0ksWUFBYSxDQUNwQixJQUFJcEgsRUFDb0IsR0FBckJGLE9BQU9HLFlBQW9CLElBbjRDQyxHQXE0QzNCckIsS0FBSzRMLHFCQUNQeEssR0FyNENhLElBdzRDZnVWLEVBQVFoRyxLQUFLaUcsTUFBTXhWLEVBQWtCcEIsS0FBS3NLLG1CQUUxQ3FNLEVBQVFsSCxTQUFTa0gsR0FHbkIsT0FBT0EsSUFsNENYLHlDQXM0Q0ksT0FBTzNXLEtBQUt3USxhQUFleFEsS0FBS3NLLGFBQWUsT0F0NENuRCxpQ0F5NENhekssRUFBTWdYLEdBQ2YsSUFBSUMsRUFDWSxTQUFkRCxFQUF1QixxQkFBdUIseUJBRWhELEdBQ01oWCxJQUNGQSxFQUFPQSxFQUFLaVgsVUFHZGxYLG9CQUFrQkMsRUFBTSxhQUN4QkQsb0JBQWtCQyxFQUFNLGdCQUcxQixPQUFPQSxJQXQ1Q1gsa0NBMDVDY2tYLEdBQVUsV0FDcEIvVyxLQUFLZ1gscUJBQ0xwWCx1QkFBcUJJLEtBQUtnSixTQUFVLFVBRXBDOEQsWUFBVyxXQUNUbE4sb0JBQWtCLEVBQUtvSixTQUFVLFVBQ2pDLEVBQUsrRCxjQUFjLEVBQUtsTixLQUFNLFVBRXpCa1gsSUFDSCxFQUFLRSwyQkFDTHJYLG9CQUFrQixFQUFLb0osU0FBVSxXQUU3QixFQUFLUixhQUNQNUksb0JBQWtCLEVBQUttSixNQUFPLHVCQUM5QixFQUFLbU8sZUFBZ0IsR0FFckIsRUFBS25KLHNCQUdSLEtBNzZDUCxtQ0FnN0NlZ0osR0FBVSxXQUNyQixHQUFJL1csS0FBS3VJLGVBQ1B2SSxLQUFLNE4sd0JBRFAsQ0FLQSxJQUFJeUMsRUFBcUIwRyxFQUFXLEVBQUkvVyxLQUFLcVEsbUJBRTdDdkQsWUFBVyxXQUNUbE4sdUJBQXFCLEVBQUtvSixTQUFVLGtCQUNwQyxFQUFLK0QsY0FBYyxFQUFLbE4sS0FBTSxVQUM5QixFQUFLK04sb0JBRUFtSixHQUNDLEVBQUtHLGdCQUNQdFgsdUJBQXFCLEVBQUttSixNQUFPLHVCQUNqQyxFQUFLbU8sZUFBZ0IsS0FHeEIsR0FFSHBLLFlBQVcsV0FDVGxOLG9CQUFrQixFQUFLb0osU0FBVSxZQUNoQ3FILE1BdjhDUCxpREEyOENTclEsS0FBS21QLDJCQUlWblAsS0FBS29ULG1CQUVBcFQsS0FBS3NKLGtCQUFrQjZNLFdBQWNuVyxLQUFLaVEsZUFBZTdOLE9BRzVEcEMsS0FBS3lWLGNBRkx6VixLQUFLME4sdUJBbDlDWCxzQ0F5OUNRMU4sS0FBS3FOLFdBQ1ByTixLQUFLMkcsZUFFTDNHLEtBQUswSCxnQkE1OUNYLGlDQWkrQ0ksT0FBTzlILG9CQUFrQkksS0FBS2dKLFNBQVUsWUFqK0M1Qyx5Q0FxK0NJLElBQUluSixFQUFPRyxLQUFLZ00sYUFFWm5NLEdBQ0ZBLEVBQUtzWCxVQXgrQ1gsa0NBNCtDY04sRUFBVzVRLEdBQ3JCLElBR0ltUixFQUhBQyxFQUFjclgsS0FBS21KLGtCQUFrQi9DLGNBQ3ZDLDBCQUlGLEdBQUlILEVBQ0ZtUixFQUFpQm5SLE9BQ1osR0FBS29SLEVBY1ZELEVBQWlCcFgsS0FBS3NYLFdBQVdELEVBQWFSLE9BZHZCLENBRXZCLElBQUlVLEVBQTBCdlgsS0FBS29XLDZCQUNuQ2dCLEVBQWlCcFgsS0FBS21KLGtCQUFrQi9DLGNBQXZCLDZDQUN1Qm1SLEVBRHZCLFFBS2YzWCxvQkFBa0J3WCxFQUFnQixhQUNsQ3hYLG9CQUFrQndYLEVBQWdCLGtCQUVsQ0EsRUFBaUJwWCxLQUFLc1gsV0FBV0YsRUFBZ0IsU0FNakRBLEdBQWtCQSxJQUFtQkMsSUFDbkNBLEdBQ0Z6WCx1QkFBcUJ5WCxFQUFhLFdBR3BDelgsb0JBQWtCd1gsRUFBZ0IsV0FDbENwWCxLQUFLd1gsa0JBQWtCNVgsbUJBQWlCd1gsRUFBZ0IsVUFBVSxHQUNsRXBYLEtBQUt5WCx3QkFBd0JMLE1BNWdEbkMsOENBZ2hEMEJDLEdBT3RCLEdBTktBLElBQ0hBLEVBQWNyWCxLQUFLbUosa0JBQWtCL0MsY0FDbkMsMkJBSUNpUixFQUFMLENBSUEsSUFBSUssRUFDQUMsRUFBZ0IzWCxLQUFLc0osa0JBQWtCdEksd0JBQ3ZDNFcsRUFBYVAsRUFBWXJXLHdCQUN6QjZXLEVBQWVGLEVBQWNsVyxJQUM3QnFXLEVBQWtCSCxFQUFjSSxPQUNoQ0MsRUFBa0JMLEVBQWM5VixPQUNoQ29XLEVBQVlMLEVBQVduVyxJQUN2QnlXLEVBQWVOLEVBQVdHLE9BQzFCek4sRUFBZXNOLEVBQVcvVixPQUMxQnNXLEVBQWtCZCxFQUFZZSxVQUM5QkMsRUFBYXpZLG1CQUFpQkksS0FBS3dKLFNBQVUsTUFBTyxVQUdwRHFPLEVBQWVJLEVBQ2pCUCxFQUFlUyxFQUFrQkUsRUFDeEJQLEVBQWtCSSxJQUUzQlIsRUFDRVMsRUFBa0JILEVBQWtCMU4sRUFBZStOLFFBR2xDNVgsSUFBakJpWCxJQUNGMVgsS0FBS3NKLGtCQUFrQjZNLFVBQVl1QixNQWpqRHpDLDBDQXNqREksSUFBSUwsRUFBY3JYLEtBQUttSixrQkFBa0IvQyxjQUN2QywwQkFHR2lSLElBSUx6WCx1QkFBcUJ5WCxFQUFhLFdBQ2xDclgsS0FBS3dYLGtCQUFrQixTQS9qRDNCLG1DQWtrRGUzWCxHQUNYLEdBQUtBLEVBQUwsQ0FJQSxJQUFJeVksR0FBWTFZLG9CQUFrQkMsRUFBTSxZQUV4QyxHQUFJeVksR0FDRixHQUFJdFksS0FBSytILFVBQVkvSCxLQUFLc1Usb0JBQ3hCLFlBSUYsSUFBS3RVLEtBQUsrSCxTQUVSLFlBREEvSCxLQUFLMkcsZUFLVCxJQUFJc0osRUFBaUJqUSxLQUFLaVEsZUFDdEJDLEVBQWtCbFEsS0FBS2tRLGdCQUN2QlAsRUFBZ0IvUCxtQkFBaUJDLEVBQU0sU0FDdkMwWSxFQUFnQjNZLG1CQUFpQkMsRUFBTSxTQUkzQyxHQUZBRyxLQUFLd1ksbUJBQW1CRCxFQUFlRCxHQUVuQ0EsRUFBVSxDQUNaLEdBQUl0WSxLQUFLK0gsU0FDUGtJLEVBQWUzSixLQUFLcUosR0FDcEJPLEVBQWdCNUosS0FBS2lTLEdBQ3JCdlksS0FBS3lZLDRCQUNBLENBQ0R4SSxFQUFlN04sUUFDakJwQyxLQUFLd1ksbUJBQ0h4WSxLQUFLMFksZUFBZXpJLEVBQWUsS0FDbkMsR0FJSkEsRUFBaUIsQ0FBQ04sR0FDbEJPLEVBQWtCLENBQUNxSSxHQUNuQixJQUFJSSxFQUFzQjNZLEtBQUtILEtBQUt1RyxjQUNsQywyQkFHRXVTLEdBQ0YvWSx1QkFBcUIrWSxFQUFxQixZQUFZLEdBR3hEM1ksS0FBSzJHLGVBR1AvRyx1QkFBcUJDLEVBQU0saUJBRXZCRyxLQUFLK0gsV0FDUG5JLHVCQUFxQkMsRUFBTSxZQUMzQjhDLDRCQUEwQnNOLEVBQWdCTixHQUMxQ2hOLDRCQUEwQnVOLEVBQWlCcUksR0FDM0N2WSxLQUFLeVksdUJBQXNCLElBYS9CLEdBVEk3WSxvQkFBa0JDLEVBQU0sZ0JBQzFCRyxLQUFLNFksdUJBR1A1WSxLQUFLbVIsU0FBU2xCLEVBQWdCQyxHQUFpQixHQUszQ2xRLEtBQUt1SSxnQkFBa0J2SSxLQUFLbVAseUJBQTBCLENBQ3hELElBQU0wSixFQUFnQjdZLEtBQUtzSixrQkFBa0I2TSxVQUM3Q25XLEtBQUtpWCwyQkFDTGpYLEtBQUtzSixrQkFBa0I2TSxVQUFZMEMsTUE1b0R6Qyw0Q0FpcERJN1ksS0FBSzJOLGFBQ0gzTixLQUFLbUosa0JBQWtCL0MsY0FBYyw2QkFscEQzQyx1Q0FzcERtQmdCLEdBQ2YsR0FBS3BILEtBQUsrSCxXQUFZL0gsS0FBS29JLGlCQUEzQixDQUkwQixrQkFBZmhCLElBQ1RBLEdBQWN4SCxvQkFBa0JJLEtBQUttTSxtQkFBb0IsWUFHM0QsSUFBSThELEVBQWlCLEdBQ2pCQyxFQUFrQixHQUV0QmxRLEtBQUtzRixRQUFRcEYsU0FBUSxTQUFDd0QsRUFBR3NPLEdBQ25CdE8sRUFBRXdILFlBQWN4SCxFQUFFMkgsY0FBZ0IzSCxFQUFFeUgsZUFJeEN6SCxFQUFFMEQsV0FBYUEsRUFFWEEsSUFDRjZJLEVBQWUzSixLQUFLNUMsRUFBRTFCLE9BQ3RCa08sRUFBZ0I1SixLQUFLMEwsUUFJekJoUyxLQUFLeVksc0JBQXNCclIsR0FDM0JwSCxLQUFLbVIsU0FBU2xCLEVBQWdCQyxHQUFpQixHQUMvQ2xRLEtBQUtnVSxtQkFqckRULDRDQW9yRHdCMU0sR0FDUyxrQkFBbEJBLElBQ1RBLEdBQWdCLEVBRVp0SCxLQUFLc0YsUUFBUWxELFNBQ2ZrRixHQUFpQnRILEtBQUtzRixRQUFRa1IsTUFBSyxTQUFDOVMsR0FDbEMsT0FBUUEsRUFBRTBELGFBQWUxRCxFQUFFd0gsYUFBZXhILEVBQUV5SCxrQkFLbER2TCx1QkFBcUJJLEtBQUttTSxtQkFBb0IsVUFBVzdFLEdBQ3pEdEgsS0FBS3NILGNBQWdCQSxJQWhzRHpCLHdDQW1zRG9CaEUsR0FBMEIsSUFBbkIySCxFQUFtQix3REFDdENqTCxLQUFLOFksb0JBQ1A5WSxLQUFLa1csY0FBY2xXLEtBQUs4WSxtQkFBb0IsYUFBYSxHQUczRDlZLEtBQUtrVyxjQUFjNVMsRUFBTyxZQUFhMkgsR0FDdkNqTCxLQUFLOFksbUJBQXFCeFYsSUF6c0Q5Qix5Q0E0c0RxQkEsR0FBMkIsSUFBcEI4RCxFQUFvQix3REFDNUNwSCxLQUFLa1csY0FBYzVTLEVBQU8sYUFBYzhELEtBN3NENUMsb0NBaXRESSxJQUFJMlIsR0FBWS9ZLEtBQUtxTixXQUVqQjBMLEdBQ0YvWSxLQUFLMEgsYUFBWSxHQUdIMUgsS0FBS3NKLGtCQUFrQjZNLFVBRXZCLElBQ2RuVyxLQUFLc0osa0JBQWtCNk0sVUFBWSxHQUdqQzRDLEdBQ0YvWSxLQUFLMkcsY0FBYSxLQTl0RHhCLDhCQW11REkzRyxLQUFLc0YsUUFBUXBGLFNBQVEsU0FBQ3dELEdBQ3BCQSxFQUFFMEQsWUFBYSxLQUdqQnBILEtBQUtpUyxnQkFBZSxHQUNwQmpTLEtBQUttUixTQUFTLEtBQU0sTUFBTSxHQUMxQm5SLEtBQUtrUyxrQkF6dURULHFDQTR1RGlCOEcsR0FDYmhaLEtBQUt5WSx1QkFBc0JPLFFBQWtCdlksS0E3dURqRCxzQ0FpdkRJVCxLQUFLeVYsY0FDTHpWLEtBQUs4TixlQUFlLElBQ3BCOU4sS0FBS2dVLGtCQW52RFQsc0NBc3ZEa0I3QixHQUNWQSxHQUNGblMsS0FBS2laLGtCQUdQalosS0FBS21PLG1CQUNMbk8sS0FBSzBOLG9CQUVBeUUsR0FDSG5TLEtBQUsrRyxVQS92RFgsZ0NBbXdEWXRFLEVBQU15VyxHQUNkLEdBQUt6VyxFQUFMLENBSUF6QyxLQUFLbVQsa0JBQ0wxUSxFQUFLYSxNQUFRdEQsS0FBS21ULGdCQUNsQixJQUFJUSxFQUFZM1QsS0FBS21aLGFBQWExVyxHQUVsQ3pDLEtBQUtzRixRQUFRZ0IsS0FBS3FOLEdBQ2xCM1QsS0FBS3FULGNBQWMvTSxLQUFLcU4sR0FFcEJ1RixJQUNGbFosS0FBS2tULHNCQUNMbFQsS0FBS29TLHNCQWp4RFgsbUNBcXhEZTlPLElBQ05BLEdBQWtCLEdBQVRBLEtBSWR0RCxLQUFLc0YsUUFBUTlCLE9BQU9GLEVBQU8sR0FDM0J0RCxLQUFLbVQscUJBM3hEVCx3Q0EreERJLElBQUlRLEVBQVkzVCxLQUFLNFQsZUFFakJELEdBQ0YzVCxLQUFLb1osYUFBYXpGLEVBQVVyUSxTQWx5RGxDLDZDQXN5RHlCLFdBQ2pCcVEsRUFBWTNULEtBQUs0VCxlQUNqQlMsRUFBV1YsRUFBVXJRLE1BRXpCdEQsS0FBS21RLFVBQVU3SixLQUFLcU4sRUFBVTNSLE9BQzlCaEMsS0FBS2tXLGNBQWM3QixFQUFVLGdCQUFnQixHQUM3Q3JVLEtBQUtrVyxjQUFjN0IsRUFBVSxTQUFTLEdBR3RDdkgsWUFBVyxXQUNULEVBQUtnQixlQUFlLElBQ3BCLEVBQUtDLHFCQUNKLEtBbHpEUCxrQ0FxekRjekksR0FDVixPQUFPQSxFQUFRK1QsTUFBSyxTQUFDQyxFQUFHQyxHQUN0QixPQUFJQSxFQUFFdlgsUUFBVStDLEdBQW1CdVUsRUFBRXRYLFFBQVUrQyxFQUV0QyxFQUNHdVUsRUFBRWxTLFlBQWVtUyxFQUFFblMsV0FFcEJrUyxFQUFFbFMsY0FBZ0JtUyxFQUFFblMsWUFBY2tTLEVBQUVoVyxNQUFRaVcsRUFBRWpXLFFBQy9DLEVBRUQsRUFKQSxPQTN6RGYsdUNBbzBEbUJnQyxHQUNmLElBQUlpTyxFQUFjdlQsS0FBS3VULFlBY3ZCLE9BYkFqTyxFQUFVdEYsS0FBSzBXLHFCQUFxQnBSLElBRTVCcEYsU0FBUSxTQUFDd0QsR0FDZixJQUFJbVAsRUFBZW5QLEVBQUU0QixRQUNyQjVCLEVBQUUwRCxXQUFheUwsRUFBYTJELE1BQUssU0FBQzVRLEdBQUQsT0FBT0EsRUFBRXdCLGNBRXRDMUQsRUFBRTBELFlBQ0ptTSxFQUFZVixNQUloQlUsRUFBWWpPLEdBRUx0RixLQUFLd1osdUJBQXVCbFUsS0FuMUR2QyxzQ0FzMURrQjVCLEVBQUcwRyxFQUFhZ0wsRUFBZ0JELEdBQzlDLElBQUluVCxFQUFRMEIsRUFBRWlILE1BQU1xSyxjQUNoQmhLLEVBQWN0SCxFQUFFc0gsWUFDaEIrSCxFQUFRclAsRUFBRXFQLE1BQ1ZDLEdBQTRDLElBQWhDaFIsRUFBTXVCLFFBQVE2RyxHQW9COUIsT0FsQkkxRyxFQUFFeUgsZUFDSjZILEVBQVltQyxFQUEyQnpSLEVBQUVKLFFBR3ZDeVAsSUFBVUMsSUFDWkEsR0FBNEMsSUFBaENELEVBQU14UCxRQUFRNkcsSUFHeEJZLElBQWdCZ0ksSUFDbEJBLEdBQWdFLElBQXBEaEksRUFBWWdLLGNBQWN6UixRQUFRNkcsSUFHaEQxRyxFQUFFc1AsVUFBWUEsRUFFVG9DLElBQ0hBLEVBQWlCcFQsSUFBVW9JLEdBR3RCLENBQ0w0SSxZQUNBb0Msb0JBaDNETiwyQ0FvM0R1QjlQLEdBQ25CLElBQUkvQyxFQUFTLEdBQ1RzUSxFQUFlLEdBb0JuQixPQWpCQXZOLEVBQVFwRixTQUFRLFNBQUN3RCxHQUNmLEdBQUlBLEVBQUV5SCxhQUFjLENBQ2xCLElBQUlzTyxFQUFhLEdBQ2pCL1YsRUFBRTRCLFFBQVVtVSxFQUNaNUcsRUFBYW5QLEVBQUVKLE9BQVNtVyxFQUV4QmxYLEVBQU8rRCxLQUFLNUMsT0FLaEI0QixFQUFRcEYsU0FBUSxTQUFDd0QsR0FDWEEsRUFBRTBILGVBQ0p5SCxFQUFhblAsRUFBRXVQLFlBQVkzTSxLQUFLNUMsTUFJN0JuQixJQTE0RFgsNkNBNjREeUIrQyxHQUNyQixJQUFJL0MsRUFBUyxHQU9iLE9BTEErQyxFQUFRcEYsU0FBUSxTQUFDd0QsR0FDZm5CLEVBQU8rRCxLQUFLNUMsR0FDWm5CLEVBQVNBLEVBQU9tWCxPQUFPaFcsRUFBRTRCLFlBR3BCL0MsSUFyNURYLG1DQXc1RGU2SCxHQUNYeEssdUJBQXFCSSxLQUFLZ0osU0FBVSxrQkFDcENwSixvQkFBa0JJLEtBQUtnSixTQUFVLG9CQUNqQ2hKLEtBQUs2UCxlQUFlekYsRUFBYXBLLFcsMkJBMzVEckMsS0E0Z0VBbUcsU0FBU3lHLGlCQUFpQixRQUFTdkgsRUFBY3NVLFdBQ2pEelksT0FBTzBMLGlCQUFpQixTQUFVdkgsRUFBY3VVLGdCQUVoRDFZLE9BQU9tRSxjQUFnQkEsRyIsImZpbGUiOiJ2aXJ0dWFsLXNlbGVjdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRG9tVXRpbHMge1xyXG4gIHN0YXRpYyBhZGRDbGFzcygkZWxlLCBjbGFzc05hbWUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnNwbGl0KCcgJyk7XHJcblxyXG4gICAgdGhpcy5nZXRFbGVtZW50cygkZWxlKS5mb3JFYWNoKChfdGhpcykgPT4ge1xyXG4gICAgICBfdGhpcy5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTmFtZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyByZW1vdmVDbGFzcygkZWxlLCBjbGFzc05hbWUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnNwbGl0KCcgJyk7XHJcblxyXG4gICAgdGhpcy5nZXRFbGVtZW50cygkZWxlKS5mb3JFYWNoKChfdGhpcykgPT4ge1xyXG4gICAgICBfdGhpcy5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzTmFtZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyB0b2dnbGVDbGFzcygkZWxlLCBjbGFzc05hbWUsIGlzQWRkKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0FkZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGlzQWRkID0gQm9vbGVhbihpc0FkZCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGlzQWRkZWQ7XHJcblxyXG4gICAgdGhpcy5nZXRFbGVtZW50cygkZWxlKS5mb3JFYWNoKChfdGhpcykgPT4ge1xyXG4gICAgICBpc0FkZGVkID0gX3RoaXMuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUsIGlzQWRkKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBpc0FkZGVkO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGhhc0NsYXNzKCRlbGUsIGNsYXNzTmFtZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gJGVsZS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBoYXNFbGxpcHNpcygkZWxlKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAkZWxlLnNjcm9sbFdpZHRoID4gJGVsZS5vZmZzZXRXaWR0aDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRNb3JlVmlzaWJsZVNpZGVzKCRlbGUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGJveCA9ICRlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBsZXQgYXZhaWxhYmxlV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIGxldCBhdmFpbGFibGVIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBsZXQgbGVmdEFyZWEgPSBib3gubGVmdDtcclxuICAgIGxldCB0b3BBcmVhID0gYm94LnRvcDtcclxuICAgIGxldCByaWdodEFyZWEgPSBhdmFpbGFibGVXaWR0aCAtIGxlZnRBcmVhIC0gYm94LndpZHRoO1xyXG4gICAgbGV0IGJvdHRvbUFyZWEgPSBhdmFpbGFibGVIZWlnaHQgLSB0b3BBcmVhIC0gYm94LmhlaWdodDtcclxuICAgIGxldCBob3Jpem9udGFsID0gbGVmdEFyZWEgPiByaWdodEFyZWEgPyAnbGVmdCcgOiAncmlnaHQnO1xyXG4gICAgbGV0IHZlcnRpY2FsID0gdG9wQXJlYSA+IGJvdHRvbUFyZWEgPyAndG9wJyA6ICdib3R0b20nO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGhvcml6b250YWwsXHJcbiAgICAgIHZlcnRpY2FsLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXREYXRhKCRlbGUsIG5hbWUsIHR5cGUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHZhbHVlID0gJGVsZSA/ICRlbGUuZGF0YXNldFtuYW1lXSA6ICcnO1xyXG5cclxuICAgIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xyXG4gICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xyXG4gICAgICAgIHZhbHVlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgIHZhbHVlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2V0RGF0YSgkZWxlLCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAkZWxlLmRhdGFzZXRbbmFtZV0gPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzZXRTdHlsZSgkZWxlLCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAkZWxlLnN0eWxlW25hbWVdID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0RWxlbWVudHMoJGVsZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoJGVsZS5sZW5ndGggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAkZWxlID0gWyRlbGVdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAkZWxlO1xyXG4gIH1cclxuXHJcbiAgLyoqIGNvbnZlcnQgb2JqZWN0IHRvIHN0eWxlIGF0dHJpYnV0ZSAqL1xyXG4gIHN0YXRpYyBnZXRTdHlsZVRleHQocHJvcHMsIHNraXBBdHRyTmFtZSkge1xyXG4gICAgbGV0IHJlc3VsdCA9ICcnO1xyXG5cclxuICAgIGZvciAobGV0IGsgaW4gcHJvcHMpIHtcclxuICAgICAgcmVzdWx0ICs9IGAke2t9OiAke3Byb3BzW2tdfTtgO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZXN1bHQgJiYgIXNraXBBdHRyTmFtZSkge1xyXG4gICAgICByZXN1bHQgPSBgc3R5bGU9XCIke3Jlc3VsdH1cImA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIC8qKiBjb252ZXJ0IG9iamVjdCB0byBkb20gYXR0cmlidXRlcyAqL1xyXG4gIHN0YXRpYyBnZXRBdHRyaWJ1dGVzVGV4dChkYXRhKSB7XHJcbiAgICBsZXQgaHRtbCA9ICcnO1xyXG5cclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICByZXR1cm4gaHRtbDtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBrIGluIGRhdGEpIHtcclxuICAgICAgbGV0IHZhbHVlID0gZGF0YVtrXTtcclxuXHJcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaHRtbCArPSBgICR7a309XCIke3ZhbHVlfVwiIGA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaHRtbDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFV0aWxzIHtcclxuICBzdGF0aWMgZ2V0U3RyaW5nKHRleHQpIHtcclxuICAgIHJldHVybiB0ZXh0IHx8IHRleHQgPT09IDAgPyB0ZXh0LnRvU3RyaW5nKCkgOiAnJztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlLCBkZWZhdWx0VmFsdWUgPSBmYWxzZSkge1xyXG4gICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSAndHJ1ZScpIHtcclxuICAgICAgdmFsdWUgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09ICdmYWxzZScpIHtcclxuICAgICAgdmFsdWUgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBpc0VtcHR5KHZhbHVlKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaXNOb3RFbXB0eSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuICF0aGlzLmlzRW1wdHkodmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJlbW92ZUl0ZW1Gcm9tQXJyYXkoYXJyYXksIHZhbHVlLCBjbG9uZUFycmF5KSB7XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpIHx8ICFhcnJheS5sZW5ndGggfHwgIXZhbHVlKSB7XHJcbiAgICAgIHJldHVybiBhcnJheTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2xvbmVBcnJheSkge1xyXG4gICAgICBhcnJheSA9IFsuLi5hcnJheV07XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGluZGV4ID0gYXJyYXkuaW5kZXhPZih2YWx1ZSk7XHJcblxyXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnJheTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyByZW1vdmVBcnJheUVtcHR5KGFycmF5KSB7XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpIHx8ICFhcnJheS5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnJheS5maWx0ZXIoKGQpID0+ICEhZCk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IFV0aWxzLCBEb21VdGlscyB9IGZyb20gJy4vdXRpbHMnO1xyXG5cclxuY29uc3QgdmlydHVhbFNlbGVjdFZlcnNpb24gPSAndjEuMC42JztcclxuY29uc3QgZHJvcGJveENsb3NlQnV0dG9uRnVsbEhlaWdodCA9IDQ4O1xyXG5jb25zdCBzZWFyY2hIZWlnaHQgPSA0MDtcclxuY29uc3Qgbm9uZU9wdGlvblZhbHVlID0gJ3sjdmlydHVhbC1zZWxlY3Qtbm9uZS1vcHRpb24jfSc7XHJcblxyXG5jb25zdCBrZXlEb3duTWV0aG9kTWFwcGluZyA9IHtcclxuICAxMzogJ29uRW50ZXJQcmVzcycsXHJcbiAgMjc6ICdvbkVzY1ByZXNzJyxcclxuICAzODogJ29uVXBBcnJvd1ByZXNzJyxcclxuICA0MDogJ29uRG93bkFycm93UHJlc3MnLFxyXG59O1xyXG5cclxuLyoqIENsYXNzIHJlcHJlc2VudGluZyBWaXJ0dWFsU2VsZWN0ICovXHJcbmV4cG9ydCBjbGFzcyBWaXJ0dWFsU2VsZWN0IHtcclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBWaXJ0dWFsU2VsZWN0XHJcbiAgICogQHByb3BlcnR5IHsoZWxlbWVudHxzdHJpbmcpfSBlbGUgLSBQYXJlbnQgZWxlbWVudCB0byByZW5kZXIgVmlydHVhbFNlbGVjdFxyXG4gICAqIEBwcm9wZXJ0eSB7b2JqZWN0W119IG9wdGlvbnMgLSBBcnJheSBvZiBvYmplY3QgdG8gc2hvdyBhcyBvcHRpb25zXHJcbiAgICogQHByb3BlcnR5IHsoc3RyaW5nfG51bWJlcil9IG9wdGlvbnNbXS52YWx1ZSAtIFZhbHVlIG9mIHRoZSBvcHRpb25cclxuICAgKiBAcHJvcGVydHkgeyhzdHJpbmd8bnVtYmVyKX0gb3B0aW9uc1tdLmxhYmVsIC0gRGlzcGxheSB0ZXh0IG9mIHRoZSBvcHRpb25cclxuICAgKiBAcHJvcGVydHkgeyhzdHJpbmd8bnVtYmVyKX0gb3B0aW9uc1tdLmRlc2NyaXB0aW9uIC0gVGV4dCB0byBzaG93IGFsb25nIHdpdGggbGFiZWxcclxuICAgKiBAcHJvcGVydHkgeyhzdHJpbmd8YXJyYXkpfSBvcHRpb25zW10uYWxpYXMgLSBBbHRlcm5hdGl2ZSBsYWJlbHMgdG8gdXNlIG9uIHNlYXJjaC4gQXJyYXkgb2Ygc3RyaW5nIG9yIGNvbW1hIHNlcGFyYXRlZCBzdHJpbmcuXHJcbiAgICogQHByb3BlcnR5IHthcnJheX0gb3B0aW9uc1tdLm9wdGlvbnMgLSBMaXN0IG9mIG9wdGlvbnMgZm9yIG9wdGlvbiBncm91cFxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdmFsdWVLZXk9dmFsdWVdIC0gT2JqZWN0IGtleSB0byB1c2UgdG8gZ2V0IHZhbHVlIGZyb20gb3B0aW9ucyBhcnJheVxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbGFiZWxLZXk9bGFiZWxdIC0gT2JqZWN0IGtleSB0byB1c2UgdG8gZ2V0IGxhYmVsIGZyb20gb3B0aW9ucyBhcnJheVxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZGVzY3JpcHRpb25LZXk9ZGVzY3JpcHRpb25dIC0gT2JqZWN0IGtleSB0byB1c2UgdG8gZ2V0IGRlc2NyaXB0aW9uIGZyb20gb3B0aW9ucyBhcnJheVxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYWxpYXNLZXk9YWxpYXNdIC0gS2V5IG5hbWUgdG8gZ2V0IGFsaWFzIGZyb20gb3B0aW9ucyBvYmplY3RcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFttdWx0aXBsZT1mYWxzZV0gLSBFbmFibGUgbXVsdGlzZWxlY3RcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzZWFyY2g9ZmFsc2VdIC0gRW5hYmxlIHNlYXJjaFxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2hpZGVDbGVhckJ1dHRvbj1mYWxzZV0gLSBIaWRlIGNsZWFyIGJ1dHRvblxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F1dG9TZWxlY3RGaXJzdE9wdGlvbj1mYWxzZV0gLSBTZWxlY3QgZmlyc3Qgb3B0aW9uIGJ5IGRlZmF1bHQgb24gbG9hZFxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2hhc09wdGlvbkRlc2NyaXB0aW9uPWZhbHNlXSAtIEhhcyBkZXNjcmlwdGlvbiB0byBzaG93IGFsb25nIHdpdGggbGFiZWxcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtkaXNhYmxlU2VsZWN0QWxsPWZhbHNlXSAtIERpc2FibGUgc2VsZWN0IGFsbCBmZWF0dXJlIG9mIG11bHRpcGxlIHNlbGVjdFxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbb3B0aW9uc0NvdW50PTV8NF0gLSBOby5vZiBvcHRpb25zIHRvIHNob3cgb24gdmlld3BvcnRcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW29wdGlvbkhlaWdodD00MHB4fDYwcHhdIC0gSGVpZ2h0IG9mIGVhY2ggZHJvcGRvd24gb3B0aW9uc1xyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcG9zaXRpb249YXV0b10gLSBQb3NpdGlvbiBvZiBkcm9wYm94ICh0b3AsIGJvdHRvbSwgYXV0bylcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3BsYWNlaG9sZGVyPVNlbGVjdF0gLSBUZXh0IHRvIHNob3cgd2hlbiBubyBvcHRpb25zIHNlbGVjdGVkXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtub09wdGlvbnNUZXh0PU5vIG9wdGlvbnMgZm91bmRdIC0gVGV4dCB0byBzaG93IHdoZW4gbm8gb3B0aW9ucyB0byBzaG93XHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtub1NlYXJjaFJlc3VsdHNUZXh0PU5vIHJlc3VsdHMgZm91bmRdIC0gVGV4dCB0byBzaG93IHdoZW4gbm8gcmVzdWx0cyBvbiBzZWFyY2hcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3NlbGVjdEFsbFRleHQ9U2VsZWN0IGFsbF0gLSBUZXh0IHRvIHNob3cgbmVhciBzZWxlY3QgYWxsIGNoZWNrYm94IHdoZW4gc2VhcmNoIGlzIGRpc2FibGVkXHJcbiAgICogQHByb3BlcnR5IHthcnJheX0gW2Rpc2FibGVkT3B0aW9uc10gLSBPcHRpb25zIHRvIGRpc2FibGUgKGFycmF5IG9mIHZhbHVlcylcclxuICAgKiBAcHJvcGVydHkgeyhzdHJpbmd8YXJyYXkpfSBbc2VsZWN0ZWRWYWx1ZV0gLSBTaW5nbGUgdmFsdWUgb3IgYXJyYXkgb2YgdmFsdWVzIHRvIHNlbGVjdCBvbiBpbml0XHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2lsZW50SW5pdGlhbFZhbHVlU2V0PWZhbHNlXSAtIFRvIGF2b2lkIFwiY2hhbmdlIGV2ZW50XCIgdHJpZ2dlciBvbiBzZXR0aW5nIGluaXRpYWwgdmFsdWVcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2Ryb3Bib3hXaWR0aF0gLSBDdXN0b20gd2lkdGggZm9yIGRyb3Bib3hcclxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleD0xXSAtIENTUyB6LWluZGV4IHZhbHVlIGZvciBkcm9wYm94XHJcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFtub09mRGlzcGxheVZhbHVlcz01MF0gLSBNYXhpbXVtIG5vLm9mIHZhbHVlcyB0byBzaG93IGluIHRoZSB0b29sdGlwIGZvciBtdWx0aS1zZWxlY3RcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbGxvd05ld09wdGlvbj1mYWxzZV0gLSBBbGxvdyB0byBhZGQgbmV3IG9wdGlvbiBieSBzZWFyY2hpbmdcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFttYXJrU2VhcmNoUmVzdWx0cz1mYWxzZV0gLSBNYXJrIG1hdGNoZWQgdGVybSBpbiBsYWJlbFxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdG9vbHRpcEZvbnRTaXplPTE0cHhdIC0gRm9udCBzaXplIGZvciB0b29sdGlwXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFt0b29sdGlwQWxpZ25tZW50PWNlbnRlcl0gLSBDU1MgVGV4dCBhbGlnbm1lbnQgZm9yIHRvb2x0aXBcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3Rvb2x0aXBNYXhXaWR0aD0zMDBweF0gLSBDU1MgbWF4IHdpZHRoIGZvciB0b29sdGlwXHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2hvd1NlbGVjdGVkT3B0aW9uc0ZpcnN0PWZhbHNlXSAtIFNob3cgc2VsZWN0ZWQgb3B0aW9ucyBhdCB0aGUgdG9wIG9mIHRoZSBkcm9wYm94XHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtuYW1lXSAtIE5hbWUgYXR0cmlidXRlIGZvciBoaWRkZW4gaW5wdXRcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtrZWVwQWx3YXlzT3Blbl0gLSBLZWVwIGRyb3Bib3ggYWx3YXlzIG9wZW4gd2l0aCBmaXhlZCBoZWlnaHRcclxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW21heFZhbHVlcz0wXSAtIE1heGltdW0gbm8ub2Ygb3B0aW9ucyBhbGxvd2VkIHRvIGNob29zZSBpbiBtdWx0aXBsZSBzZWxlY3RcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2FkZGl0aW9uYWxDbGFzc2VzXSAtIEFkZGl0aW9uYWwgY2xhc3NlcyBmb3Igd3JhcHBlciBlbGVtZW50XHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2hvd0Ryb3Bib3hBc1BvcHVwPXRydWVdIC0gU2hvdyBkcm9wYm94IGFzIHBvcHVwIG9uIHNtYWxsIHNjcmVlbiBsaWtlIG1vYmlsZVxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcG9wdXBEcm9wYm94QnJlYWtwb2ludD01NzZweF0gLSBNYXhpbXVtIHNjcmVlbiB3aWR0aCB0aGF0IGFsbG93ZWQgdG8gc2hvdyBkcm9wYm94IGFzIHBvcHVwXHJcbiAgICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW29uU2VydmVyU2VhcmNoXSAtIENhbGxiYWNrIGZ1bmN0aW9uIHRvIGludGVncmF0ZSBzZXJ2ZXIgc2VhcmNoXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtzZWFyY2hQbGFjZWhvbGRlcj1TZWFyY2guLi5dIC0gVGV4dCB0byBzaG93IGluc2lkZSBzZWFyY2ggaW5wdXRcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbGxvd05vbmVPcHRpb249ZmFsc2VdIC0gSW4gc2luZ2xlIHNlbGVjdGlvbiBtb2RlIG9ubHkgYW5kIHdoZW4ga2VlcCBhbHdheXMgb3BlbiBpcyBvbjogZGlzcGxheSBhIG5vbmUgb3B0aW9uIHRoYXQgY2xlYXJzIHRoZSBzZWxlY3Rpb25cclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW25vbmVPcHRpb25UZXh0PU5vbmVdIC0gVGV4dCB0byBiZSBkaXNwbGF5IGlmIGFsbG93Tm9uZSBvcHRpb24gaXMgYWN0aXZlXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5zZXRQcm9wcyhvcHRpb25zKTtcclxuICAgICAgdGhpcy5zZXREaXNhYmxlZE9wdGlvbnMob3B0aW9ucy5kaXNhYmxlZE9wdGlvbnMpO1xyXG4gICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucy5vcHRpb25zKTtcclxuICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS53YXJuKGBDb3VsZG4ndCBpbml0aWF0ZSBWaXJ0dWFsIFNlbGVjdGApO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqIHJlbmRlciBtZXRob2RzIC0gc3RhcnQgKi9cclxuICByZW5kZXIoKSB7XHJcbiAgICBpZiAoIXRoaXMuJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHdyYXBwZXJDbGFzc2VzID0gJ3ZzY29tcC13cmFwcGVyJztcclxuICAgIGxldCB2YWx1ZVRvb2x0aXAgPSB0aGlzLmdldFRvb2x0aXBBdHRyVGV4dCgnJywgIXRoaXMubXVsdGlwbGUsIHRydWUpO1xyXG4gICAgbGV0IGNsZWFyQnV0dG9uVG9vbHRpcCA9IHRoaXMuZ2V0VG9vbHRpcEF0dHJUZXh0KCdDbGVhcicpO1xyXG5cclxuICAgIGxldCBkcm9wYm94Q29udGFpbmVyU3R5bGUgPSB7XHJcbiAgICAgICd6LWluZGV4JzogdGhpcy56SW5kZXgsXHJcbiAgICB9O1xyXG5cclxuICAgIGlmICh0aGlzLmFkZGl0aW9uYWxDbGFzc2VzKSB7XHJcbiAgICAgIHdyYXBwZXJDbGFzc2VzICs9ICcgJyArIHRoaXMuYWRkaXRpb25hbENsYXNzZXM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMubXVsdGlwbGUpIHtcclxuICAgICAgd3JhcHBlckNsYXNzZXMgKz0gJyBtdWx0aXBsZSc7XHJcblxyXG4gICAgICBpZiAoIXRoaXMuZGlzYWJsZVNlbGVjdEFsbCkge1xyXG4gICAgICAgIHdyYXBwZXJDbGFzc2VzICs9ICcgaGFzLXNlbGVjdC1hbGwnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucG9zaXRpb24gPT09ICd0b3AnKSB7XHJcbiAgICAgIHdyYXBwZXJDbGFzc2VzICs9ICcgcG9zaXRpb24tdG9wJztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMuaGlkZUNsZWFyQnV0dG9uKSB7XHJcbiAgICAgIHdyYXBwZXJDbGFzc2VzICs9ICcgaGFzLWNsZWFyLWJ1dHRvbic7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMua2VlcEFsd2F5c09wZW4pIHtcclxuICAgICAgd3JhcHBlckNsYXNzZXMgKz0gJyBrZWVwLWFsd2F5cy1vcGVuIG9wZW5lZCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnIGNsb3NlZCc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuc2hvd0FzUG9wdXApIHtcclxuICAgICAgd3JhcHBlckNsYXNzZXMgKz0gJyBzaG93LWFzLXBvcHVwJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLmRyb3Bib3hXaWR0aCkge1xyXG4gICAgICAgIGRyb3Bib3hDb250YWluZXJTdHlsZS53aWR0aCA9IHRoaXMuZHJvcGJveFdpZHRoO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaGFzU2VhcmNoKSB7XHJcbiAgICAgIHdyYXBwZXJDbGFzc2VzICs9ICcgaGFzLXNlYXJjaC1pbnB1dCc7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGh0bWwgPSBgPGRpdiBjbGFzcz1cIiR7d3JhcHBlckNsYXNzZXN9XCIgdGFiaW5kZXg9XCIwXCI+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiJHt0aGlzLm5hbWV9XCIgY2xhc3M9XCJ2c2NvbXAtaGlkZGVuLWlucHV0XCI+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtdG9nZ2xlLWJ1dHRvblwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC12YWx1ZVwiICR7dmFsdWVUb29sdGlwfT5cclxuICAgICAgICAgICAgJHt0aGlzLnBsYWNlaG9sZGVyfVxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC1hcnJvd1wiPjwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtY2xlYXItYnV0dG9uIHRvZ2dsZS1idXR0b24tY2hpbGRcIiAke2NsZWFyQnV0dG9uVG9vbHRpcH0+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzPVwidnNjb21wLWNsZWFyLWljb25cIj48L2k+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC1kcm9wYm94LWNvbnRhaW5lclwiICR7RG9tVXRpbHMuZ2V0U3R5bGVUZXh0KFxyXG4gICAgICAgICAgZHJvcGJveENvbnRhaW5lclN0eWxlXHJcbiAgICAgICAgKX0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLWRyb3Bib3hcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC1zZWFyY2gtd3JhcHBlclwiPjwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC1vcHRpb25zLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtb3B0aW9ucy1sb2FkZXJcIj48L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC1vcHRpb25zLWxpc3RcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtb3B0aW9uc1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtbm8tb3B0aW9uc1wiPiR7dGhpcy5ub09wdGlvbnNUZXh0fTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLW5vLXNlYXJjaC1yZXN1bHRzXCI+JHtcclxuICAgICAgICAgICAgICB0aGlzLm5vU2VhcmNoUmVzdWx0c1RleHRcclxuICAgICAgICAgICAgfTwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ2c2NvbXAtZHJvcGJveC1jbG9zZS1idXR0b25cIj48aSBjbGFzcz1cInZzY29tcC1jbGVhci1pY29uXCI+PC9pPjwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5gO1xyXG5cclxuICAgIHRoaXMuJGVsZS5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgdGhpcy4kYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcclxuICAgIHRoaXMuJHdyYXBwZXIgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC13cmFwcGVyJyk7XHJcbiAgICB0aGlzLiR0b2dnbGVCdXR0b24gPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC10b2dnbGUtYnV0dG9uJyk7XHJcbiAgICB0aGlzLiRjbGVhckJ1dHRvbiA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKCcudnNjb21wLWNsZWFyLWJ1dHRvbicpO1xyXG4gICAgdGhpcy4kZHJvcGJveENvbnRhaW5lciA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLnZzY29tcC1kcm9wYm94LWNvbnRhaW5lcidcclxuICAgICk7XHJcbiAgICB0aGlzLiRkcm9wYm94Q2xvc2VCdXR0b24gPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy52c2NvbXAtZHJvcGJveC1jbG9zZS1idXR0b24nXHJcbiAgICApO1xyXG4gICAgdGhpcy4kc2VhcmNoID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtc2VhcmNoLXdyYXBwZXInKTtcclxuICAgIHRoaXMuJG9wdGlvbnNDb250YWluZXIgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy52c2NvbXAtb3B0aW9ucy1jb250YWluZXInXHJcbiAgICApO1xyXG4gICAgdGhpcy4kb3B0aW9uc0xpc3QgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1vcHRpb25zLWxpc3QnKTtcclxuICAgIHRoaXMuJG9wdGlvbnMgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1vcHRpb25zJyk7XHJcbiAgICB0aGlzLiR2YWx1ZVRleHQgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC12YWx1ZScpO1xyXG4gICAgdGhpcy4kaGlkZGVuSW5wdXQgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1oaWRkZW4taW5wdXQnKTtcclxuICAgIHRoaXMuJG5vT3B0aW9ucyA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKCcudnNjb21wLW5vLW9wdGlvbnMnKTtcclxuICAgIHRoaXMuJG5vU2VhcmNoUmVzdWx0cyA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLnZzY29tcC1uby1zZWFyY2gtcmVzdWx0cydcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5hZnRlclJlbmRlcldyYXBwZXIoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlck9wdGlvbnMoKSB7XHJcbiAgICBsZXQgaHRtbCA9ICcnO1xyXG4gICAgbGV0IHZpc2libGVPcHRpb25zID0gdGhpcy5nZXRWaXNpYmxlT3B0aW9ucygpO1xyXG4gICAgbGV0IGNoZWNrYm94SHRtbCA9ICcnO1xyXG4gICAgbGV0IG5ld09wdGlvbkljb25IdG1sID0gJyc7XHJcbiAgICBsZXQgbWFya1NlYXJjaFJlc3VsdHMgPVxyXG4gICAgICB0aGlzLm1hcmtTZWFyY2hSZXN1bHRzICYmIHRoaXMuc2VhcmNoVmFsdWUgPyB0cnVlIDogZmFsc2U7XHJcbiAgICBsZXQgc2VhcmNoUmVnZXg7XHJcblxyXG4gICAgbGV0IHN0eWxlVGV4dCA9IERvbVV0aWxzLmdldFN0eWxlVGV4dCh7XHJcbiAgICAgIGhlaWdodDogdGhpcy5vcHRpb25IZWlnaHQgKyAncHgnLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKG1hcmtTZWFyY2hSZXN1bHRzKSB7XHJcbiAgICAgIHNlYXJjaFJlZ2V4ID0gbmV3IFJlZ0V4cChgKCR7dGhpcy5zZWFyY2hWYWx1ZX0pYCwgJ2dpJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMubXVsdGlwbGUpIHtcclxuICAgICAgY2hlY2tib3hIdG1sID0gJzxzcGFuIGNsYXNzPVwiY2hlY2tib3gtaWNvblwiPjwvc3Bhbj4nO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmFsbG93TmV3T3B0aW9uKSB7XHJcbiAgICAgIGxldCBuZXdPcHRpb25Ub29sdGlwID0gdGhpcy5nZXRUb29sdGlwQXR0clRleHQoJ05ldyBPcHRpb24nKTtcclxuICAgICAgbmV3T3B0aW9uSWNvbkh0bWwgPSBgPHNwYW4gY2xhc3M9XCJ2c2NvbXAtbmV3LW9wdGlvbi1pY29uXCIgJHtuZXdPcHRpb25Ub29sdGlwfT48L3NwYW4+YDtcclxuICAgIH1cclxuXHJcbiAgICB2aXNpYmxlT3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIGxldCBvcHRpb25MYWJlbCA9IGQubGFiZWw7XHJcbiAgICAgIGxldCBvcHRpb25DbGFzc2VzID0gJ3ZzY29tcC1vcHRpb24nO1xyXG4gICAgICBsZXQgb3B0aW9uVG9vbHRpcCA9IHRoaXMuZ2V0VG9vbHRpcEF0dHJUZXh0KCcnLCB0cnVlKTtcclxuICAgICAgbGV0IGxlZnRTZWN0aW9uID0gY2hlY2tib3hIdG1sO1xyXG4gICAgICBsZXQgcmlnaHRTZWN0aW9uID0gJyc7XHJcbiAgICAgIGxldCBkZXNjcmlwdGlvbiA9ICcnO1xyXG5cclxuICAgICAgaWYgKGQuaXNGb2N1c2VkKSB7XHJcbiAgICAgICAgb3B0aW9uQ2xhc3NlcyArPSAnIGZvY3VzZWQnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZC5pc0Rpc2FibGVkKSB7XHJcbiAgICAgICAgb3B0aW9uQ2xhc3NlcyArPSAnIGRpc2FibGVkJztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGQuaXNHcm91cFRpdGxlKSB7XHJcbiAgICAgICAgb3B0aW9uQ2xhc3NlcyArPSAnIGdyb3VwLXRpdGxlJztcclxuICAgICAgICBsZWZ0U2VjdGlvbiA9ICcnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChkLmlzU2VsZWN0ZWQpIHtcclxuICAgICAgICAgIG9wdGlvbkNsYXNzZXMgKz0gJyBzZWxlY3RlZCc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZC5pc0dyb3VwT3B0aW9uKSB7XHJcbiAgICAgICAgb3B0aW9uQ2xhc3NlcyArPSAnIGdyb3VwLW9wdGlvbic7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkLmRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgZGVzY3JpcHRpb24gPSBgPGRpdiBjbGFzcz1cInZzY29tcC1vcHRpb24tZGVzY3JpcHRpb25cIiAke29wdGlvblRvb2x0aXB9PiR7ZC5kZXNjcmlwdGlvbn08L2Rpdj5gO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZC5pc0N1cnJlbnROZXcpIHtcclxuICAgICAgICBvcHRpb25DbGFzc2VzICs9ICcgY3VycmVudC1uZXcnO1xyXG4gICAgICAgIHJpZ2h0U2VjdGlvbiArPSBuZXdPcHRpb25JY29uSHRtbDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAobWFya1NlYXJjaFJlc3VsdHMgJiYgIWQuaXNHcm91cFRpdGxlKSB7XHJcbiAgICAgICAgICBvcHRpb25MYWJlbCA9IG9wdGlvbkxhYmVsLnJlcGxhY2Uoc2VhcmNoUmVnZXgsICc8bWFyaz4kMTwvbWFyaz4nKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke29wdGlvbkNsYXNzZXN9XCIgZGF0YS12YWx1ZT1cIiR7XHJcbiAgICAgICAgZC52YWx1ZVxyXG4gICAgICB9XCIgZGF0YS1pbmRleD1cIiR7ZC5pbmRleH1cIiBkYXRhLXZpc2libGUtaW5kZXg9XCIke1xyXG4gICAgICAgIGQudmlzaWJsZUluZGV4XHJcbiAgICAgIH1cIiAke3N0eWxlVGV4dH0+XHJcbiAgICAgICAgICAke2xlZnRTZWN0aW9ufVxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ2c2NvbXAtb3B0aW9uLXRleHQgJHtcclxuICAgICAgICAgICAgZC52YWx1ZSA9PT0gbm9uZU9wdGlvblZhbHVlID8gJ25vbmUnIDogJydcclxuICAgICAgICAgIH1cIiAke29wdGlvblRvb2x0aXB9PlxyXG4gICAgICAgICAgICAke29wdGlvbkxhYmVsfVxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgJHtkZXNjcmlwdGlvbn1cclxuICAgICAgICAgICR7cmlnaHRTZWN0aW9ufVxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLiRvcHRpb25zLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICBsZXQgaGFzTm9PcHRpb25zID0gIXRoaXMub3B0aW9ucy5sZW5ndGg7XHJcbiAgICBsZXQgaGFzTm9TZWFyY2hSZXN1bHRzID0gIWhhc05vT3B0aW9ucyAmJiAhdmlzaWJsZU9wdGlvbnMubGVuZ3RoO1xyXG5cclxuICAgIGlmICghdGhpcy5hbGxvd05ld09wdGlvbikge1xyXG4gICAgICBEb21VdGlscy50b2dnbGVDbGFzcyhcclxuICAgICAgICB0aGlzLiR3cmFwcGVyLFxyXG4gICAgICAgICdoYXMtbm8tc2VhcmNoLXJlc3VsdHMnLFxyXG4gICAgICAgIGhhc05vU2VhcmNoUmVzdWx0c1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKHRoaXMuJHdyYXBwZXIsICdoYXMtbm8tb3B0aW9ucycsIGhhc05vT3B0aW9ucyk7XHJcbiAgICB0aGlzLnNldE9wdGlvbnNQb3NpdGlvbigpO1xyXG4gICAgdGhpcy5zZXRPcHRpb25zVG9vbHRpcCgpO1xyXG4gICAgLy90aGlzLm1vdmVGb2N1c2VkT3B0aW9uVG9WaWV3KCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJTZWFyY2goKSB7XHJcbiAgICBpZiAoIXRoaXMuaGFzU2VhcmNoQ29udGFpbmVyKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY2hlY2tib3hIdG1sID0gJyc7XHJcbiAgICBsZXQgc2VhcmNoSW5wdXQgPSAnJztcclxuXHJcbiAgICBpZiAodGhpcy5tdWx0aXBsZSAmJiAhdGhpcy5kaXNhYmxlU2VsZWN0QWxsKSB7XHJcbiAgICAgIGNoZWNrYm94SHRtbCA9IGA8c3BhbiBjbGFzcz1cInZzY29tcC10b2dnbGUtYWxsLWJ1dHRvblwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGVja2JveC1pY29uIHZzY29tcC10b2dnbGUtYWxsLWNoZWNrYm94XCI+PC9zcGFuPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ2c2NvbXAtdG9nZ2xlLWFsbC1sYWJlbFwiPiR7dGhpcy5zZWxlY3RBbGxUZXh0fTwvc3Bhbj5cclxuICAgICAgICA8L3NwYW4+YDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5oYXNTZWFyY2gpIHtcclxuICAgICAgc2VhcmNoSW5wdXQgPSBgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJ2c2NvbXAtc2VhcmNoLWlucHV0XCIgcGxhY2Vob2xkZXI9XCIke3RoaXMuc2VhcmNoUGxhY2Vob2xkZXJ9XCI+XHJcbiAgICAgIDxzcGFuIGNsYXNzPVwidnNjb21wLXNlYXJjaC1jbGVhclwiPiZ0aW1lczs8L3NwYW4+YDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwidnNjb21wLXNlYXJjaC1jb250YWluZXJcIj5cclxuICAgICAgICAke2NoZWNrYm94SHRtbH1cclxuICAgICAgICAke3NlYXJjaElucHV0fVxyXG4gICAgICA8L2Rpdj5gO1xyXG5cclxuICAgIHRoaXMuJHNlYXJjaC5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgdGhpcy4kc2VhcmNoSW5wdXQgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1zZWFyY2gtaW5wdXQnKTtcclxuICAgIHRoaXMuJHNlYXJjaENsZWFyID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtc2VhcmNoLWNsZWFyJyk7XHJcbiAgICB0aGlzLiR0b2dnbGVBbGxCdXR0b24gPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy52c2NvbXAtdG9nZ2xlLWFsbC1idXR0b24nXHJcbiAgICApO1xyXG4gICAgdGhpcy4kdG9nZ2xlQWxsQ2hlY2tib3ggPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy52c2NvbXAtdG9nZ2xlLWFsbC1jaGVja2JveCdcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiRzZWFyY2hJbnB1dCwgJ2tleXVwIGNoYW5nZScsICdvblNlYXJjaCcpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiRzZWFyY2hDbGVhciwgJ2NsaWNrJywgJ29uU2VhcmNoQ2xlYXInKTtcclxuICAgIHRoaXMuYWRkRXZlbnQodGhpcy4kdG9nZ2xlQWxsQnV0dG9uLCAnY2xpY2snLCAnb25Ub2dnbGVBbGxPcHRpb25zJyk7XHJcbiAgfVxyXG5cclxuICAvKiogcmVuZGVyIG1ldGhvZHMgLSBlbmQgKi9cclxuXHJcbiAgLyoqIGRvbSBldmVudCBtZXRob2RzIC0gc3RhcnQgKi9cclxuICBhZGRFdmVudHMoKSB7XHJcbiAgICB0aGlzLmFkZEV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCAnb25Eb2N1bWVudENsaWNrJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJHdyYXBwZXIsICdrZXlkb3duJywgJ29uS2V5RG93bicpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiR0b2dnbGVCdXR0b24sICdjbGljaycsICdvblRvZ2dsZUJ1dHRvbkNsaWNrJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJGNsZWFyQnV0dG9uLCAnY2xpY2snLCAnb25DbGVhckJ1dHRvbkNsaWNrJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJGRyb3Bib3hDb250YWluZXIsICdjbGljaycsICdvbkRyb3Bib3hDb250YWluZXJDbGljaycpO1xyXG4gICAgdGhpcy5hZGRFdmVudChcclxuICAgICAgdGhpcy4kZHJvcGJveENsb3NlQnV0dG9uLFxyXG4gICAgICAnY2xpY2snLFxyXG4gICAgICAnb25Ecm9wYm94Q2xvc2VCdXR0b25DbGljaydcclxuICAgICk7XHJcbiAgICBpZiAodGhpcy5vdmVycmlkZVNjcm9sbEV2ZW50U2VsZWN0b3IpIHtcclxuICAgICAgdGhpcy5hZGRFdmVudChcclxuICAgICAgICB0aGlzLiRlbGUucXVlcnlTZWxlY3Rvcih0aGlzLm92ZXJyaWRlU2Nyb2xsRXZlbnRTZWxlY3RvciksXHJcbiAgICAgICAgJ3Njcm9sbCcsXHJcbiAgICAgICAgJ29uT3B0aW9uc1Njcm9sbCdcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYWRkRXZlbnQodGhpcy4kb3B0aW9uc0NvbnRhaW5lciwgJ3Njcm9sbCcsICdvbk9wdGlvbnNTY3JvbGwnKTtcclxuICAgIH1cclxuICAgIHRoaXMuYWRkRXZlbnQodGhpcy4kb3B0aW9ucywgJ2NsaWNrJywgJ29uT3B0aW9uc0NsaWNrJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJG9wdGlvbnMsICdtb3VzZW92ZXInLCAnb25PcHRpb25zTW91c2VPdmVyJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJG9wdGlvbnMsICd0b3VjaG1vdmUnLCAnb25PcHRpb25zVG91Y2hNb3ZlJyk7XHJcbiAgfVxyXG5cclxuICBhZGRFdmVudCgkZWxlLCBldmVudHMsIG1ldGhvZCkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBldmVudHMgPSBVdGlscy5yZW1vdmVBcnJheUVtcHR5KGV2ZW50cy5zcGxpdCgnICcpKTtcclxuXHJcbiAgICBldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHtcclxuICAgICAgbGV0IGV2ZW50c0tleSA9IGAke21ldGhvZH0tJHtldmVudH1gO1xyXG4gICAgICBsZXQgY2FsbGJhY2sgPSB0aGlzLmV2ZW50c1tldmVudHNLZXldO1xyXG5cclxuICAgICAgaWYgKCFjYWxsYmFjaykge1xyXG4gICAgICAgIGNhbGxiYWNrID0gdGhpc1ttZXRob2RdLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRzS2V5XSA9IGNhbGxiYWNrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkZWxlID0gRG9tVXRpbHMuZ2V0RWxlbWVudHMoJGVsZSk7XHJcblxyXG4gICAgICAkZWxlLmZvckVhY2goKF90aGlzKSA9PiB7XHJcbiAgICAgICAgX3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGlzcGF0Y2hFdmVudCgkZWxlLCBldmVudE5hbWUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgJGVsZSA9IERvbVV0aWxzLmdldEVsZW1lbnRzKCRlbGUpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAkZWxlLmZvckVhY2goKF90aGlzKSA9PiB7XHJcbiAgICAgICAgX3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoZXZlbnROYW1lLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xyXG4gICAgICB9KTtcclxuICAgIH0sIDApO1xyXG4gIH1cclxuXHJcbiAgb25Eb2N1bWVudENsaWNrKGUpIHtcclxuICAgIFZpcnR1YWxTZWxlY3QuY2xvc2VBbGxEcm9wYm94KGUudGFyZ2V0LmNsb3Nlc3QoJy52c2NvbXAtd3JhcHBlcicpKTtcclxuICB9XHJcblxyXG4gIG9uS2V5RG93bihlKSB7XHJcbiAgICBsZXQga2V5ID0gZS53aGljaCB8fCBlLmtleUNvZGU7XHJcbiAgICBsZXQgbWV0aG9kID0ga2V5RG93bk1ldGhvZE1hcHBpbmdba2V5XTtcclxuXHJcbiAgICBpZiAobWV0aG9kKSB7XHJcbiAgICAgIHRoaXNbbWV0aG9kXShlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uRW50ZXJQcmVzcygpIHtcclxuICAgIGlmICghdGhpcy5pc09wZW5lZCgpKSB7XHJcbiAgICAgIHRoaXMub3BlbkRyb3Bib3goKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0Rm9jdXNlZE9wdGlvbigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25Fc2NQcmVzcygpIHtcclxuICAgIGlmICh0aGlzLmlzT3BlbmVkKCkpIHtcclxuICAgICAgdGhpcy5jbG9zZURyb3Bib3goKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uRG93bkFycm93UHJlc3MoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzT3BlbmVkKCkpIHtcclxuICAgICAgdGhpcy5mb2N1c09wdGlvbignbmV4dCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vcGVuRHJvcGJveCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25VcEFycm93UHJlc3MoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzT3BlbmVkKCkpIHtcclxuICAgICAgdGhpcy5mb2N1c09wdGlvbigncHJldmlvdXMnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMub3BlbkRyb3Bib3goKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uVG9nZ2xlQnV0dG9uQ2xpY2soZSkge1xyXG4gICAgbGV0IGNoaWxkRWxlID0gZS50YXJnZXQuY2xvc2VzdCgnLnRvZ2dsZS1idXR0b24tY2hpbGQnKTtcclxuXHJcbiAgICBpZiAoY2hpbGRFbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudG9nZ2xlRHJvcGJveCgpO1xyXG4gIH1cclxuXHJcbiAgb25DbGVhckJ1dHRvbkNsaWNrKCkge1xyXG4gICAgdGhpcy5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgb25PcHRpb25zU2Nyb2xsKCkge1xyXG4gICAgdGhpcy5zZXRWaXNpYmxlT3B0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgb25PcHRpb25zQ2xpY2soZSkge1xyXG4gICAgdGhpcy5zZWxlY3RPcHRpb24oXHJcbiAgICAgIGUudGFyZ2V0LmNsb3Nlc3QoJy52c2NvbXAtb3B0aW9uOm5vdCguZGlzYWJsZWQpOm5vdCguZ3JvdXAtdGl0bGUpJylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBvbkRyb3Bib3hDb250YWluZXJDbGljayhlKSB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy52c2NvbXAtZHJvcGJveCcpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VEcm9wYm94KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkRyb3Bib3hDbG9zZUJ1dHRvbkNsaWNrKCkge1xyXG4gICAgdGhpcy5jbG9zZURyb3Bib3goKTtcclxuICB9XHJcblxyXG4gIG9uT3B0aW9uc01vdXNlT3ZlcihlKSB7XHJcbiAgICBsZXQgJGVsZSA9IGUudGFyZ2V0LmNsb3Nlc3QoXHJcbiAgICAgICcudnNjb21wLW9wdGlvbjpub3QoLmRpc2FibGVkKTpub3QoLmdyb3VwLXRpdGxlKSdcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCRlbGUpIHtcclxuICAgICAgdGhpcy5mb2N1c09wdGlvbihudWxsLCAkZWxlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uT3B0aW9uc1RvdWNoTW92ZSgpIHtcclxuICAgIHRoaXMucmVtb3ZlT3B0aW9uRm9jdXMoKTtcclxuICB9XHJcblxyXG4gIG9uU2VhcmNoKGUpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB0aGlzLnNldFNlYXJjaFZhbHVlKGUudGFyZ2V0LnZhbHVlLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIG9uU2VhcmNoQ2xlYXIoKSB7XHJcbiAgICB0aGlzLnNldFNlYXJjaFZhbHVlKCcnKTtcclxuICAgIHRoaXMuZm9jdXNTZWFyY2hJbnB1dCgpO1xyXG4gIH1cclxuXHJcbiAgb25Ub2dnbGVBbGxPcHRpb25zKCkge1xyXG4gICAgdGhpcy50b2dnbGVBbGxPcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICBvblJlc2l6ZSgpIHtcclxuICAgIHRoaXMuc2V0T3B0aW9uc0NvbnRhaW5lckhlaWdodCh0cnVlKTtcclxuICB9XHJcbiAgLyoqIGRvbSBldmVudCBtZXRob2RzIC0gZW5kICovXHJcblxyXG4gIC8qKiBhZnRlciBldmVudCBtZXRob2RzIC0gc3RhcnQgKi9cclxuICBhZnRlclJlbmRlcldyYXBwZXIoKSB7XHJcbiAgICB0aGlzLiRlbGUuc2V0QXR0cmlidXRlKCduYW1lJywgdGhpcy5uYW1lKTtcclxuXHJcbiAgICBEb21VdGlscy5hZGRDbGFzcyh0aGlzLiRlbGUsICd2c2NvbXAtZWxlJyk7XHJcbiAgICB0aGlzLnJlbmRlclNlYXJjaCgpO1xyXG4gICAgdGhpcy5zZXRPcHRpb25zSGVpZ2h0KCk7XHJcbiAgICB0aGlzLnNldFZpc2libGVPcHRpb25zKCk7XHJcbiAgICB0aGlzLnNldE9wdGlvbnNDb250YWluZXJIZWlnaHQoKTtcclxuICAgIHRoaXMuYWRkRXZlbnRzKCk7XHJcbiAgICB0aGlzLnNldE1ldGhvZHMoKTtcclxuXHJcbiAgICBpZiAodGhpcy5pbml0aWFsU2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICB0aGlzLnNldFZhbHVlTWV0aG9kKFxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFNlbGVjdGVkVmFsdWUsXHJcbiAgICAgICAgdGhpcy5zaWxlbnRJbml0aWFsVmFsdWVTZXRcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5hdXRvU2VsZWN0Rmlyc3RPcHRpb24gJiYgdGhpcy52aXNpYmxlT3B0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5zZXRWYWx1ZU1ldGhvZChcclxuICAgICAgICB0aGlzLnZpc2libGVPcHRpb25zWzBdLnZhbHVlLFxyXG4gICAgICAgIHRoaXMuc2lsZW50SW5pdGlhbFZhbHVlU2V0XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhZnRlclNldE9wdGlvbnNDb250YWluZXJIZWlnaHQocmVzZXQpIHtcclxuICAgIGlmIChyZXNldCkge1xyXG4gICAgICBpZiAodGhpcy5zaG93QXNQb3B1cCkge1xyXG4gICAgICAgIHRoaXMuc2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKiogYWZ0ZXIgZXZlbnQgbWV0aG9kcyAtIGVuZCAqL1xyXG5cclxuICAvKiogc2V0IG1ldGhvZHMgLSBzdGFydCAqL1xyXG4gIHNldFByb3BzKG9wdGlvbnMpIHtcclxuICAgIG9wdGlvbnMgPSB0aGlzLnNldERlZmF1bHRQcm9wcyhvcHRpb25zKTtcclxuICAgIHRoaXMuc2V0UHJvcHNGcm9tRWxlbWVudEF0dHIob3B0aW9ucyk7XHJcblxyXG4gICAgbGV0IGNvbnZlcnRUb0Jvb2xlYW4gPSBVdGlscy5jb252ZXJ0VG9Cb29sZWFuO1xyXG5cclxuICAgIHRoaXMuJGVsZSA9IG9wdGlvbnMuZWxlO1xyXG4gICAgdGhpcy52YWx1ZUtleSA9IG9wdGlvbnMudmFsdWVLZXk7XHJcbiAgICB0aGlzLmxhYmVsS2V5ID0gb3B0aW9ucy5sYWJlbEtleTtcclxuICAgIHRoaXMuZGVzY3JpcHRpb25LZXkgPSBvcHRpb25zLmRlc2NyaXB0aW9uS2V5O1xyXG4gICAgdGhpcy5hbGlhc0tleSA9IG9wdGlvbnMuYWxpYXNLZXk7XHJcbiAgICB0aGlzLm9wdGlvbkhlaWdodFRleHQgPSBvcHRpb25zLm9wdGlvbkhlaWdodDtcclxuICAgIHRoaXMub3B0aW9uSGVpZ2h0ID0gcGFyc2VGbG9hdCh0aGlzLm9wdGlvbkhlaWdodFRleHQpO1xyXG4gICAgdGhpcy5tdWx0aXBsZSA9IGNvbnZlcnRUb0Jvb2xlYW4ob3B0aW9ucy5tdWx0aXBsZSk7XHJcbiAgICB0aGlzLmhhc1NlYXJjaCA9IGNvbnZlcnRUb0Jvb2xlYW4ob3B0aW9ucy5zZWFyY2gpO1xyXG4gICAgdGhpcy5oaWRlQ2xlYXJCdXR0b24gPSBjb252ZXJ0VG9Cb29sZWFuKG9wdGlvbnMuaGlkZUNsZWFyQnV0dG9uKTtcclxuICAgIHRoaXMuYXV0b1NlbGVjdEZpcnN0T3B0aW9uID0gY29udmVydFRvQm9vbGVhbihcclxuICAgICAgb3B0aW9ucy5hdXRvU2VsZWN0Rmlyc3RPcHRpb25cclxuICAgICk7XHJcbiAgICB0aGlzLmhhc09wdGlvbkRlc2NyaXB0aW9uID0gY29udmVydFRvQm9vbGVhbihvcHRpb25zLmhhc09wdGlvbkRlc2NyaXB0aW9uKTtcclxuICAgIHRoaXMuc2lsZW50SW5pdGlhbFZhbHVlU2V0ID0gY29udmVydFRvQm9vbGVhbihcclxuICAgICAgb3B0aW9ucy5zaWxlbnRJbml0aWFsVmFsdWVTZXRcclxuICAgICk7XHJcbiAgICB0aGlzLmFsbG93TmV3T3B0aW9uID0gY29udmVydFRvQm9vbGVhbihvcHRpb25zLmFsbG93TmV3T3B0aW9uKTtcclxuICAgIHRoaXMubWFya1NlYXJjaFJlc3VsdHMgPSBjb252ZXJ0VG9Cb29sZWFuKG9wdGlvbnMubWFya1NlYXJjaFJlc3VsdHMpO1xyXG4gICAgdGhpcy5zaG93U2VsZWN0ZWRPcHRpb25zRmlyc3QgPSBjb252ZXJ0VG9Cb29sZWFuKFxyXG4gICAgICBvcHRpb25zLnNob3dTZWxlY3RlZE9wdGlvbnNGaXJzdFxyXG4gICAgKTtcclxuICAgIHRoaXMuZGlzYWJsZVNlbGVjdEFsbCA9IGNvbnZlcnRUb0Jvb2xlYW4ob3B0aW9ucy5kaXNhYmxlU2VsZWN0QWxsKTtcclxuICAgIHRoaXMua2VlcEFsd2F5c09wZW4gPSBjb252ZXJ0VG9Cb29sZWFuKG9wdGlvbnMua2VlcEFsd2F5c09wZW4pO1xyXG4gICAgdGhpcy5zaG93RHJvcGJveEFzUG9wdXAgPSBjb252ZXJ0VG9Cb29sZWFuKG9wdGlvbnMuc2hvd0Ryb3Bib3hBc1BvcHVwKTtcclxuICAgIHRoaXMubm9PcHRpb25zVGV4dCA9IG9wdGlvbnMubm9PcHRpb25zVGV4dDtcclxuICAgIHRoaXMubm9TZWFyY2hSZXN1bHRzVGV4dCA9IG9wdGlvbnMubm9TZWFyY2hSZXN1bHRzVGV4dDtcclxuICAgIHRoaXMuc2VsZWN0QWxsVGV4dCA9IG9wdGlvbnMuc2VsZWN0QWxsVGV4dDtcclxuICAgIHRoaXMucGxhY2Vob2xkZXIgPSBvcHRpb25zLnBsYWNlaG9sZGVyO1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb247XHJcbiAgICB0aGlzLmRyb3Bib3hXaWR0aCA9IG9wdGlvbnMuZHJvcGJveFdpZHRoO1xyXG4gICAgdGhpcy50b29sdGlwRm9udFNpemUgPSBvcHRpb25zLnRvb2x0aXBGb250U2l6ZTtcclxuICAgIHRoaXMudG9vbHRpcEFsaWdubWVudCA9IG9wdGlvbnMudG9vbHRpcEFsaWdubWVudDtcclxuICAgIHRoaXMudG9vbHRpcE1heFdpZHRoID0gb3B0aW9ucy50b29sdGlwTWF4V2lkdGg7XHJcbiAgICB0aGlzLm5vT2ZEaXNwbGF5VmFsdWVzID0gcGFyc2VJbnQob3B0aW9ucy5ub09mRGlzcGxheVZhbHVlcyk7XHJcbiAgICB0aGlzLnpJbmRleCA9IHBhcnNlSW50KG9wdGlvbnMuekluZGV4KTtcclxuICAgIHRoaXMubWF4VmFsdWVzID0gcGFyc2VJbnQob3B0aW9ucy5tYXhWYWx1ZXMpO1xyXG4gICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lO1xyXG4gICAgdGhpcy5hZGRpdGlvbmFsQ2xhc3NlcyA9IG9wdGlvbnMuYWRkaXRpb25hbENsYXNzZXM7XHJcbiAgICB0aGlzLmluaXRpYWxTZWxlY3RlZFZhbHVlID0gb3B0aW9ucy5zZWxlY3RlZFZhbHVlO1xyXG4gICAgdGhpcy5wb3B1cERyb3Bib3hCcmVha3BvaW50ID0gb3B0aW9ucy5wb3B1cERyb3Bib3hCcmVha3BvaW50O1xyXG4gICAgdGhpcy5vblNlcnZlclNlYXJjaCA9IG9wdGlvbnMub25TZXJ2ZXJTZWFyY2g7XHJcbiAgICB0aGlzLnNlYXJjaFBsYWNlaG9sZGVyID0gb3B0aW9ucy5zZWFyY2hQbGFjZWhvbGRlcjtcclxuICAgIHRoaXMuaXRlbXNTZWxlY3RlZE1lc3NhZ2UgPSBvcHRpb25zLml0ZW1zU2VsZWN0ZWRNZXNzYWdlO1xyXG4gICAgdGhpcy5hbGxvd05vbmVPcHRpb24gPSBvcHRpb25zLmFsbG93Tm9uZU9wdGlvbjtcclxuICAgIHRoaXMubm9uZU9wdGlvblRleHQgPSBvcHRpb25zLm5vbmVPcHRpb25UZXh0O1xyXG5cclxuICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcclxuICAgIHRoaXMuc2VsZWN0ZWRJbmRleGVzID0gW107XHJcbiAgICB0aGlzLm5ld1ZhbHVlcyA9IFtdO1xyXG4gICAgdGhpcy5ldmVudHMgPSB7fTtcclxuICAgIHRoaXMudG9vbHRpcEVudGVyRGVsYXkgPSAyMDA7XHJcbiAgICB0aGlzLnRyYW5zaXRpb25EdXJhdGlvbiA9IDI1MDtcclxuICAgIHRoaXMuc2VhcmNoVmFsdWUgPSAnJztcclxuICAgIHRoaXMuc2VhcmNoVmFsdWVPcmlnaW5hbCA9ICcnO1xyXG4gICAgdGhpcy5pc0FsbFNlbGVjdGVkID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICAob3B0aW9ucy5zZWFyY2ggPT09IHVuZGVmaW5lZCAmJiB0aGlzLm11bHRpcGxlKSB8fFxyXG4gICAgICB0aGlzLmFsbG93TmV3T3B0aW9uXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5oYXNTZWFyY2ggPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm1heFZhbHVlcykge1xyXG4gICAgICB0aGlzLmRpc2FibGVTZWxlY3RBbGwgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaGFzU2VydmVyU2VhcmNoID0gdHlwZW9mIHRoaXMub25TZXJ2ZXJTZWFyY2ggPT09ICdmdW5jdGlvbic7XHJcbiAgICB0aGlzLnNob3dBc1BvcHVwID1cclxuICAgICAgdGhpcy5zaG93RHJvcGJveEFzUG9wdXAgJiZcclxuICAgICAgIXRoaXMua2VlcEFsd2F5c09wZW4gJiZcclxuICAgICAgd2luZG93LmlubmVyV2lkdGggPD0gcGFyc2VGbG9hdCh0aGlzLnBvcHVwRHJvcGJveEJyZWFrcG9pbnQpO1xyXG4gICAgdGhpcy5oYXNTZWFyY2hDb250YWluZXIgPVxyXG4gICAgICB0aGlzLmhhc1NlYXJjaCB8fCAodGhpcy5tdWx0aXBsZSAmJiAhdGhpcy5kaXNhYmxlU2VsZWN0QWxsKTtcclxuICAgIHRoaXMub3B0aW9uc0NvdW50ID0gdGhpcy5nZXRPcHRpb25zQ291bnQob3B0aW9ucy5vcHRpb25zQ291bnQpO1xyXG4gICAgdGhpcy5oYWxmT3B0aW9uc0NvdW50ID0gTWF0aC5jZWlsKHRoaXMub3B0aW9uc0NvdW50IC8gMik7XHJcbiAgICB0aGlzLm9wdGlvbnNIZWlnaHQgPSB0aGlzLmdldE9wdGlvbnNIZWlnaHQoKTtcclxuICB9XHJcblxyXG4gIHNldERlZmF1bHRQcm9wcyhvcHRpb25zKSB7XHJcbiAgICBsZXQgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgIHZhbHVlS2V5OiAndmFsdWUnLFxyXG4gICAgICBsYWJlbEtleTogJ2xhYmVsJyxcclxuICAgICAgZGVzY3JpcHRpb25LZXk6ICdkZXNjcmlwdGlvbicsXHJcbiAgICAgIGFsaWFzS2V5OiAnYWxpYXMnLFxyXG4gICAgICBvcHRpb25zQ291bnQ6IDUsXHJcbiAgICAgIG5vT2ZEaXNwbGF5VmFsdWVzOiA1MCxcclxuICAgICAgb3B0aW9uSGVpZ2h0OiAnNDBweCcsXHJcbiAgICAgIG11bHRpcGxlOiBmYWxzZSxcclxuICAgICAgaGlkZUNsZWFyQnV0dG9uOiBmYWxzZSxcclxuICAgICAgYXV0b1NlbGVjdEZpcnN0T3B0aW9uOiBmYWxzZSxcclxuICAgICAgaGFzT3B0aW9uRGVzY3JpcHRpb246IGZhbHNlLFxyXG4gICAgICBzaWxlbnRJbml0aWFsVmFsdWVTZXQ6IGZhbHNlLFxyXG4gICAgICBkaXNhYmxlU2VsZWN0QWxsOiBmYWxzZSxcclxuICAgICAgbm9PcHRpb25zVGV4dDogJ05vIG9wdGlvbnMgZm91bmQnLFxyXG4gICAgICBub1NlYXJjaFJlc3VsdHNUZXh0OiAnTm8gcmVzdWx0cyBmb3VuZCcsXHJcbiAgICAgIHNlbGVjdEFsbFRleHQ6ICdTZWxlY3QgQWxsJyxcclxuICAgICAgcGxhY2Vob2xkZXI6ICdTZWxlY3QnLFxyXG4gICAgICBwb3NpdGlvbjogJ2F1dG8nLFxyXG4gICAgICB6SW5kZXg6IDEsXHJcbiAgICAgIGFsbG93TmV3T3B0aW9uOiBmYWxzZSxcclxuICAgICAgbWFya1NlYXJjaFJlc3VsdHM6IGZhbHNlLFxyXG4gICAgICB0b29sdGlwRm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgdG9vbHRpcEFsaWdubWVudDogJ2NlbnRlcicsXHJcbiAgICAgIHRvb2x0aXBNYXhXaWR0aDogJzMwMHB4JyxcclxuICAgICAgc2hvd1NlbGVjdGVkT3B0aW9uc0ZpcnN0OiBmYWxzZSxcclxuICAgICAgbmFtZTogJycsXHJcbiAgICAgIGFkZGl0aW9uYWxDbGFzc2VzOiAnJyxcclxuICAgICAga2VlcEFsd2F5c09wZW46IGZhbHNlLFxyXG4gICAgICBtYXhWYWx1ZXM6IDAsXHJcbiAgICAgIHNob3dEcm9wYm94QXNQb3B1cDogdHJ1ZSxcclxuICAgICAgcG9wdXBEcm9wYm94QnJlYWtwb2ludDogJzU3NnB4JyxcclxuICAgICAgc2VhcmNoUGxhY2Vob2xkZXI6ICdTZWFyY2guLi4nLFxyXG4gICAgICBpdGVtc1NlbGVjdGVkTWVzc2FnZTogJ3NlbGVjdGVkJyxcclxuICAgICAgYWxsb3dOb25lT3B0aW9uOiBmYWxzZSxcclxuICAgICAgbm9uZU9wdGlvblRleHQ6ICdOb25lJyxcclxuICAgIH07XHJcblxyXG4gICAgaWYgKG9wdGlvbnMuaGFzT3B0aW9uRGVzY3JpcHRpb24pIHtcclxuICAgICAgZGVmYXVsdE9wdGlvbnMub3B0aW9uc0NvdW50ID0gNDtcclxuICAgICAgZGVmYXVsdE9wdGlvbnMub3B0aW9uSGVpZ2h0ID0gJzYwcHgnO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIHNldFByb3BzRnJvbUVsZW1lbnRBdHRyKG9wdGlvbnMpIHtcclxuICAgIGxldCAkZWxlID0gb3B0aW9ucy5lbGU7XHJcbiAgICBsZXQgbWFwcGluZyA9IHtcclxuICAgICAgbXVsdGlwbGU6ICdtdWx0aXBsZScsXHJcbiAgICAgIHBsYWNlaG9sZGVyOiAncGxhY2Vob2xkZXInLFxyXG4gICAgICBuYW1lOiAnbmFtZScsXHJcbiAgICAgICdkYXRhLXZhbHVlLWtleSc6ICd2YWx1ZUtleScsXHJcbiAgICAgICdkYXRhLWxhYmVsLWtleSc6ICdsYWJlbEtleScsXHJcbiAgICAgICdkYXRhLWRlc2NyaXB0aW9uLWtleSc6ICdkZXNjcmlwdGlvbktleScsXHJcbiAgICAgICdkYXRhLWFsaWFzLWtleSc6ICdhbGlhc0tleScsXHJcbiAgICAgICdkYXRhLXNlYXJjaCc6ICdzZWFyY2gnLFxyXG4gICAgICAnZGF0YS1oaWRlLWNsZWFyLWJ1dHRvbic6ICdoaWRlQ2xlYXJCdXR0b24nLFxyXG4gICAgICAnZGF0YS1hdXRvLXNlbGVjdC1maXJzdC1vcHRpb24nOiAnYXV0b1NlbGVjdEZpcnN0T3B0aW9uJyxcclxuICAgICAgJ2RhdGEtaGFzLW9wdGlvbi1kZXNjcmlwdGlvbic6ICdoYXNPcHRpb25EZXNjcmlwdGlvbicsXHJcbiAgICAgICdkYXRhLW9wdGlvbnMtY291bnQnOiAnb3B0aW9uc0NvdW50JyxcclxuICAgICAgJ2RhdGEtb3B0aW9uLWhlaWdodCc6ICdvcHRpb25IZWlnaHQnLFxyXG4gICAgICAnZGF0YS1wb3NpdGlvbic6ICdwb3NpdGlvbicsXHJcbiAgICAgICdkYXRhLW5vLW9wdGlvbnMtdGV4dCc6ICdub09wdGlvbnNUZXh0JyxcclxuICAgICAgJ2RhdGEtbm8tc2VhcmNoLXJlc3VsdHMtdGV4dCc6ICdub1NlYXJjaFJlc3VsdHNUZXh0JyxcclxuICAgICAgJ2RhdGEtc2VsZWN0LWFsbC10ZXh0JzogJ3NlbGVjdEFsbFRleHQnLFxyXG4gICAgICAnZGF0YS1zaWxlbnQtaW5pdGlhbC12YWx1ZS1zZXQnOiAnc2lsZW50SW5pdGlhbFZhbHVlU2V0JyxcclxuICAgICAgJ2RhdGEtZHJvcGJveC13aWR0aCc6ICdkcm9wYm94V2lkdGgnLFxyXG4gICAgICAnZGF0YS16LWluZGV4JzogJ3pJbmRleCcsXHJcbiAgICAgICdkYXRhLW5vLW9mLWRpc3BsYXktdmFsdWVzJzogJ25vT2ZEaXNwbGF5VmFsdWVzJyxcclxuICAgICAgJ2RhdGEtYWxsb3ctbmV3LW9wdGlvbic6ICdhbGxvd05ld09wdGlvbicsXHJcbiAgICAgICdkYXRhLW1hcmstc2VhcmNoLXJlc3VsdHMnOiAnbWFya1NlYXJjaFJlc3VsdHMnLFxyXG4gICAgICAnZGF0YS10b29sdGlwLWZvbnQtc2l6ZSc6ICd0b29sdGlwRm9udFNpemUnLFxyXG4gICAgICAnZGF0YS10b29sdGlwLWFsaWdubWVudCc6ICd0b29sdGlwQWxpZ25tZW50JyxcclxuICAgICAgJ2RhdGEtdG9vbHRpcC1tYXgtd2lkdGgnOiAndG9vbHRpcE1heFdpZHRoJyxcclxuICAgICAgJ2RhdGEtc2hvdy1zZWxlY3RlZC1vcHRpb25zLWZpcnN0JzogJ3Nob3dTZWxlY3RlZE9wdGlvbnNGaXJzdCcsXHJcbiAgICAgICdkYXRhLWRpc2FibGUtc2VsZWN0LWFsbCc6ICdkaXNhYmxlU2VsZWN0QWxsJyxcclxuICAgICAgJ2RhdGEta2VlcC1hbHdheXMtb3Blbic6ICdrZWVwQWx3YXlzT3BlbicsXHJcbiAgICAgICdkYXRhLW1heC12YWx1ZXMnOiAnbWF4VmFsdWVzJyxcclxuICAgICAgJ2RhdGEtYWRkaXRpb25hbC1jbGFzc2VzJzogJ2FkZGl0aW9uYWxDbGFzc2VzJyxcclxuICAgICAgJ2RhdGEtc2hvdy1kcm9wYm94LWFzLXBvcHVwJzogJ3Nob3dEcm9wYm94QXNQb3B1cCcsXHJcbiAgICAgICdkYXRhLXBvcHVwLWRyb3Bib3gtYnJlYWtwb2ludCc6ICdwb3B1cERyb3Bib3hCcmVha3BvaW50JyxcclxuICAgIH07XHJcblxyXG4gICAgZm9yIChsZXQgayBpbiBtYXBwaW5nKSB7XHJcbiAgICAgIGxldCB2YWx1ZSA9ICRlbGUuZ2V0QXR0cmlidXRlKGspO1xyXG5cclxuICAgICAgaWYgKGsgPT09ICdtdWx0aXBsZScgJiYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gJ3RydWUnKSkge1xyXG4gICAgICAgIHZhbHVlID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgb3B0aW9uc1ttYXBwaW5nW2tdXSA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRNZXRob2RzKCkge1xyXG4gICAgbGV0ICRlbGUgPSB0aGlzLiRlbGU7XHJcbiAgICAkZWxlLnZpcnR1YWxTZWxlY3QgPSB0aGlzO1xyXG4gICAgJGVsZS52YWx1ZSA9IHRoaXMubXVsdGlwbGUgPyBbXSA6ICcnO1xyXG4gICAgJGVsZS5yZXNldCA9IFZpcnR1YWxTZWxlY3QucmVzZXQ7XHJcbiAgICAkZWxlLnNldFZhbHVlID0gVmlydHVhbFNlbGVjdC5zZXRWYWx1ZU1ldGhvZDtcclxuICAgICRlbGUuc2V0T3B0aW9ucyA9IFZpcnR1YWxTZWxlY3Quc2V0T3B0aW9uc01ldGhvZDtcclxuICAgICRlbGUuc2V0RGlzYWJsZWRPcHRpb25zID0gVmlydHVhbFNlbGVjdC5zZXREaXNhYmxlZE9wdGlvbnNNZXRob2Q7XHJcbiAgICAkZWxlLnRvZ2dsZVNlbGVjdEFsbCA9IFZpcnR1YWxTZWxlY3QudG9nZ2xlU2VsZWN0QWxsO1xyXG4gICAgJGVsZS5pc0FsbFNlbGVjdGVkID0gVmlydHVhbFNlbGVjdC5pc0FsbFNlbGVjdGVkO1xyXG4gICAgJGVsZS5hZGRPcHRpb24gPSBWaXJ0dWFsU2VsZWN0LmFkZE9wdGlvbk1ldGhvZDtcclxuICAgICRlbGUuZ2V0TmV3VmFsdWUgPSBWaXJ0dWFsU2VsZWN0LmdldE5ld1ZhbHVlTWV0aG9kO1xyXG4gICAgJGVsZS5nZXREaXNwbGF5VmFsdWUgPSBWaXJ0dWFsU2VsZWN0LmdldERpc3BsYXlWYWx1ZU1ldGhvZDtcclxuICAgICRlbGUub3BlbiA9IFZpcnR1YWxTZWxlY3Qub3Blbk1ldGhvZDtcclxuICAgICRlbGUuY2xvc2UgPSBWaXJ0dWFsU2VsZWN0LmNsb3NlTWV0aG9kO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVNZXRob2QodmFsdWUsIHNpbGVudENoYW5nZSkge1xyXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICB2YWx1ZSA9IFt2YWx1ZV07XHJcbiAgICB9XHJcblxyXG4gICAgdmFsdWUgPSB2YWx1ZS5tYXAoKHYpID0+IHtcclxuICAgICAgcmV0dXJuIHYgfHwgdiA9PSAwID8gdi50b1N0cmluZygpIDogJyc7XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgdmFsaWRWYWx1ZXMgPSBbXTtcclxuICAgIGxldCB2YWxpZEluZGV4ZXMgPSBbXTtcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgoZCwgaWR4KSA9PiB7XHJcbiAgICAgIGxldCBpc1NlbGVjdGVkID0gdmFsdWUuaW5kZXhPZihkLnZhbHVlKSAhPT0gLTE7XHJcblxyXG4gICAgICBpZiAoaXNTZWxlY3RlZCAmJiAhZC5pc0Rpc2FibGVkICYmICFkLmlzR3JvdXBUaXRsZSkge1xyXG4gICAgICAgIGQuaXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgdmFsaWRWYWx1ZXMucHVzaChkLnZhbHVlKTtcclxuICAgICAgICB2YWxpZEluZGV4ZXMucHVzaChpZHgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGQuaXNTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHtcclxuICAgICAgdmFsaWRWYWx1ZXMgPSB2YWxpZFZhbHVlc1swXTtcclxuICAgICAgdmFsaWRJbmRleGVzID0gdmFsaWRJbmRleGVzWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYmVmb3JlVmFsdWVTZXQoKTtcclxuICAgIHRoaXMuc2V0VmFsdWUodmFsaWRWYWx1ZXMsIHZhbGlkSW5kZXhlcywgIXNpbGVudENoYW5nZSk7XHJcbiAgICB0aGlzLmFmdGVyVmFsdWVTZXQoKTtcclxuICB9XHJcblxyXG4gIHNldE9wdGlvbnNNZXRob2Qob3B0aW9ucywga2VlcFZhbHVlKSB7XHJcbiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICB0aGlzLmFmdGVyU2V0T3B0aW9ucyhrZWVwVmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgc2V0RGlzYWJsZWRPcHRpb25zTWV0aG9kKGRpc2FibGVkT3B0aW9ucykge1xyXG4gICAgdGhpcy5zZXREaXNhYmxlZE9wdGlvbnMoZGlzYWJsZWRPcHRpb25zLCB0cnVlKTtcclxuICAgIHRoaXMuc2V0VmFsdWVNZXRob2QobnVsbCk7XHJcbiAgICB0aGlzLnNldFZpc2libGVPcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICBzZXREaXNhYmxlZE9wdGlvbnMoZGlzYWJsZWRPcHRpb25zID0gW10sIHNldE9wdGlvbnNQcm9wID0gZmFsc2UpIHtcclxuICAgIGRpc2FibGVkT3B0aW9ucyA9IGRpc2FibGVkT3B0aW9ucy5tYXAoKGQpID0+IGQudG9TdHJpbmcoKSk7XHJcbiAgICB0aGlzLmRpc2FibGVkT3B0aW9ucyA9IGRpc2FibGVkT3B0aW9ucztcclxuXHJcbiAgICBpZiAoc2V0T3B0aW9uc1Byb3AgJiYgZGlzYWJsZWRPcHRpb25zLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICAgIGQuaXNEaXNhYmxlZCA9IGRpc2FibGVkT3B0aW9ucy5pbmRleE9mKGQudmFsdWUpICE9PSAtMTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XHJcbiAgICBpZiAoIW9wdGlvbnMpIHtcclxuICAgICAgb3B0aW9ucyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBwcmVwYXJlZE9wdGlvbnMgPSBbXTtcclxuICAgIGxldCBkaXNhYmxlZE9wdGlvbnMgPSB0aGlzLmRpc2FibGVkT3B0aW9ucztcclxuICAgIGxldCBoYXNEaXNhYmxlZE9wdGlvbnMgPSBkaXNhYmxlZE9wdGlvbnMubGVuZ3RoO1xyXG4gICAgbGV0IHZhbHVlS2V5ID0gdGhpcy52YWx1ZUtleTtcclxuICAgIGxldCBsYWJlbEtleSA9IHRoaXMubGFiZWxLZXk7XHJcbiAgICBsZXQgZGVzY3JpcHRpb25LZXkgPSB0aGlzLmRlc2NyaXB0aW9uS2V5O1xyXG4gICAgbGV0IGFsaWFzS2V5ID0gdGhpcy5hbGlhc0tleTtcclxuICAgIGxldCBoYXNPcHRpb25EZXNjcmlwdGlvbiA9IHRoaXMuaGFzT3B0aW9uRGVzY3JpcHRpb247XHJcbiAgICBsZXQgZ2V0U3RyaW5nID0gVXRpbHMuZ2V0U3RyaW5nO1xyXG4gICAgbGV0IGdldEFsaWFzID0gdGhpcy5nZXRBbGlhcztcclxuICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICBsZXQgaGFzT3B0aW9uR3JvdXAgPSBmYWxzZTtcclxuXHJcbiAgICBsZXQgcHJlcGFyZU9wdGlvbiA9IChkKSA9PiB7XHJcbiAgICAgIGxldCB2YWx1ZSA9IGdldFN0cmluZyhkW3ZhbHVlS2V5XSk7XHJcbiAgICAgIGxldCBjaGlsZE9wdGlvbnMgPSBkLm9wdGlvbnM7XHJcbiAgICAgIGxldCBpc0dyb3VwVGl0bGUgPSBjaGlsZE9wdGlvbnMgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgIGxldCBvcHRpb24gPSB7XHJcbiAgICAgICAgaW5kZXgsXHJcbiAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgbGFiZWw6IGdldFN0cmluZyhkW2xhYmVsS2V5XSksXHJcbiAgICAgICAgYWxpYXM6IGdldEFsaWFzKGRbYWxpYXNLZXldKSxcclxuICAgICAgICBpc1Zpc2libGU6IHRydWUsXHJcbiAgICAgICAgaXNHcm91cFRpdGxlLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgaWYgKGhhc0Rpc2FibGVkT3B0aW9ucykge1xyXG4gICAgICAgIG9wdGlvbi5pc0Rpc2FibGVkID0gZGlzYWJsZWRPcHRpb25zLmluZGV4T2YodmFsdWUpICE9PSAtMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGQuaXNHcm91cE9wdGlvbikge1xyXG4gICAgICAgIG9wdGlvbi5pc0dyb3VwT3B0aW9uID0gdHJ1ZTtcclxuICAgICAgICBvcHRpb24uZ3JvdXBJbmRleCA9IGQuZ3JvdXBJbmRleDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGhhc09wdGlvbkRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgb3B0aW9uLmRlc2NyaXB0aW9uID0gZ2V0U3RyaW5nKGRbZGVzY3JpcHRpb25LZXldKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcHJlcGFyZWRPcHRpb25zLnB1c2gob3B0aW9uKTtcclxuICAgICAgaW5kZXgrKztcclxuXHJcbiAgICAgIGlmIChpc0dyb3VwVGl0bGUpIHtcclxuICAgICAgICBsZXQgZ3JvdXBJbmRleCA9IG9wdGlvbi5pbmRleDtcclxuICAgICAgICBoYXNPcHRpb25Hcm91cCA9IHRydWU7XHJcblxyXG4gICAgICAgIGNoaWxkT3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgICAgICBkLmlzR3JvdXBPcHRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgZC5ncm91cEluZGV4ID0gZ3JvdXBJbmRleDtcclxuXHJcbiAgICAgICAgICBwcmVwYXJlT3B0aW9uKGQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFkZCBub25lIG9wdGlvbiBvbmx5IHdoZW4gaW4gbGlzdCBtb2RlIChhbHdheXMgb3BlbiBhbmQgb25seSlcclxuICAgIGlmICghdGhpcy5tdWx0aXBsZSAmJiB0aGlzLmFsbG93Tm9uZU9wdGlvbikge1xyXG4gICAgICBvcHRpb25zLnVuc2hpZnQoe1xyXG4gICAgICAgIHZhbHVlOiBub25lT3B0aW9uVmFsdWUsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMubm9uZU9wdGlvblRleHQsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9wdGlvbnMuZm9yRWFjaChwcmVwYXJlT3B0aW9uKTtcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMgPSBwcmVwYXJlZE9wdGlvbnM7XHJcbiAgICB0aGlzLnZpc2libGVPcHRpb25zQ291bnQgPSBwcmVwYXJlZE9wdGlvbnMubGVuZ3RoO1xyXG4gICAgdGhpcy5sYXN0T3B0aW9uSW5kZXggPSB0aGlzLm9wdGlvbnMubGVuZ3RoIC0gMTtcclxuICAgIHRoaXMubmV3VmFsdWVzID0gW107XHJcbiAgICB0aGlzLmhhc09wdGlvbkdyb3VwID0gaGFzT3B0aW9uR3JvdXA7XHJcbiAgICB0aGlzLnNldFNvcnRlZE9wdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIHNldFNlcnZlck9wdGlvbnMob3B0aW9ucykge1xyXG4gICAgdGhpcy5zZXRPcHRpb25zTWV0aG9kKG9wdGlvbnMsIHRydWUpO1xyXG4gICAgRG9tVXRpbHMucmVtb3ZlQ2xhc3ModGhpcy4kd3JhcHBlciwgJ3NlcnZlci1zZWFyY2hpbmcnKTtcclxuICB9XHJcblxyXG4gIHNldFNvcnRlZE9wdGlvbnMoKSB7XHJcbiAgICBsZXQgc29ydGVkT3B0aW9ucyA9IFsuLi50aGlzLm9wdGlvbnNdO1xyXG5cclxuICAgIGlmICh0aGlzLnNob3dTZWxlY3RlZE9wdGlvbnNGaXJzdCAmJiB0aGlzLnNlbGVjdGVkVmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICBpZiAodGhpcy5oYXNPcHRpb25Hcm91cCkge1xyXG4gICAgICAgIHNvcnRlZE9wdGlvbnMgPSB0aGlzLnNvcnRPcHRpb25zR3JvdXAoc29ydGVkT3B0aW9ucyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc29ydGVkT3B0aW9ucyA9IHRoaXMuc29ydE9wdGlvbnMoc29ydGVkT3B0aW9ucyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNvcnRlZE9wdGlvbnMgPSBzb3J0ZWRPcHRpb25zO1xyXG4gIH1cclxuXHJcbiAgc2V0VmlzaWJsZU9wdGlvbnMoKSB7XHJcbiAgICBsZXQgdmlzaWJsZU9wdGlvbnMgPSBbLi4udGhpcy5zb3J0ZWRPcHRpb25zXTtcclxuICAgIGxldCBtYXhPcHRpb25zVG9TaG93ID0gdGhpcy5vcHRpb25zQ291bnQgKiAyO1xyXG4gICAgbGV0IHN0YXJ0SW5kZXggPSB0aGlzLmdldFZpc2libGVTdGFydEluZGV4KCk7XHJcbiAgICBsZXQgbmV3T3B0aW9uID0gdGhpcy5nZXROZXdPcHRpb24oKTtcclxuICAgIGxldCBlbmRJbmRleCA9IHN0YXJ0SW5kZXggKyBtYXhPcHRpb25zVG9TaG93IC0gMTtcclxuICAgIGxldCBpID0gMDtcclxuXHJcbiAgICBpZiAobmV3T3B0aW9uKSB7XHJcbiAgICAgIG5ld09wdGlvbi52aXNpYmxlSW5kZXggPSBpO1xyXG4gICAgICBpKys7XHJcbiAgICB9XHJcblxyXG4gICAgdmlzaWJsZU9wdGlvbnMgPSB2aXNpYmxlT3B0aW9ucy5maWx0ZXIoKGQpID0+IHtcclxuICAgICAgbGV0IGluVmlldyA9IGZhbHNlO1xyXG5cclxuICAgICAgaWYgKGQuaXNWaXNpYmxlICYmICFkLmlzQ3VycmVudE5ldykge1xyXG4gICAgICAgIGluVmlldyA9IGkgPj0gc3RhcnRJbmRleCAmJiBpIDw9IGVuZEluZGV4O1xyXG4gICAgICAgIGQudmlzaWJsZUluZGV4ID0gaTtcclxuICAgICAgICBpKys7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBpblZpZXc7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAobmV3T3B0aW9uKSB7XHJcbiAgICAgIHZpc2libGVPcHRpb25zID0gW25ld09wdGlvbiwgLi4udmlzaWJsZU9wdGlvbnNdO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudmlzaWJsZU9wdGlvbnMgPSB2aXNpYmxlT3B0aW9ucztcclxuICAgIHRoaXMucmVuZGVyT3B0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgc2V0T3B0aW9uc1Bvc2l0aW9uKHN0YXJ0SW5kZXgpIHtcclxuICAgIGlmIChzdGFydEluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgc3RhcnRJbmRleCA9IHRoaXMuZ2V0VmlzaWJsZVN0YXJ0SW5kZXgoKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdG9wID0gc3RhcnRJbmRleCAqIHRoaXMub3B0aW9uSGVpZ2h0O1xyXG4gICAgdGhpcy4kb3B0aW9ucy5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoMCwgJHt0b3B9cHgsIDApYDtcclxuICAgIERvbVV0aWxzLnNldERhdGEodGhpcy4kb3B0aW9ucywgJ3RvcCcsIHRvcCk7XHJcbiAgfVxyXG5cclxuICBzZXRPcHRpb25zVG9vbHRpcCgpIHtcclxuICAgIGxldCB2aXNpYmxlT3B0aW9ucyA9IHRoaXMuZ2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuICAgIGxldCBoYXNPcHRpb25EZXNjcmlwdGlvbiA9IHRoaXMuaGFzT3B0aW9uRGVzY3JpcHRpb247XHJcblxyXG4gICAgdmlzaWJsZU9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBsZXQgJG9wdGlvbkVsZSA9IHRoaXMuJGRyb3Bib3hDb250YWluZXIucXVlcnlTZWxlY3RvcihcclxuICAgICAgICBgLnZzY29tcC1vcHRpb25bZGF0YS1pbmRleD1cIiR7ZC5pbmRleH1cIl1gXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBEb21VdGlscy5zZXREYXRhKFxyXG4gICAgICAgICRvcHRpb25FbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1vcHRpb24tdGV4dCcpLFxyXG4gICAgICAgICd0b29sdGlwJyxcclxuICAgICAgICBkLmxhYmVsXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoaGFzT3B0aW9uRGVzY3JpcHRpb24pIHtcclxuICAgICAgICBEb21VdGlscy5zZXREYXRhKFxyXG4gICAgICAgICAgJG9wdGlvbkVsZS5xdWVyeVNlbGVjdG9yKCcudnNjb21wLW9wdGlvbi1kZXNjcmlwdGlvbicpLFxyXG4gICAgICAgICAgJ3Rvb2x0aXAnLFxyXG4gICAgICAgICAgZC5kZXNjcmlwdGlvblxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWUodmFsdWUsIGluZGV4LCB0cmlnZ2VyRXZlbnQpIHtcclxuICAgIC8vIFZhbHVlXHJcbiAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcclxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZFZhbHVlcyA9IFsuLi52YWx1ZV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gW3ZhbHVlXTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbmV3VmFsdWUgPSB0aGlzLm11bHRpcGxlXHJcbiAgICAgID8gdGhpcy5zZWxlY3RlZFZhbHVlc1xyXG4gICAgICA6IHRoaXMuc2VsZWN0ZWRWYWx1ZXNbMF0gfHwgJyc7XHJcblxyXG4gICAgdGhpcy4kZWxlLnZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICB0aGlzLiRoaWRkZW5JbnB1dC52YWx1ZSA9IG5ld1ZhbHVlO1xyXG5cclxuICAgIC8vIEluZGV4XHJcbiAgICBpZiAoIWluZGV4KSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleGVzID0gW107XHJcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleGVzID0gWy4uLmluZGV4XTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleGVzID0gW2luZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbmV3SW5kZXggPSB0aGlzLm11bHRpcGxlXHJcbiAgICAgID8gdGhpcy5zZWxlY3RlZEluZGV4ZXNcclxuICAgICAgOiB0aGlzLnNlbGVjdGVkSW5kZXhlc1swXSB8fCAnJztcclxuXHJcbiAgICB0aGlzLiRlbGUuaW5kZXggPSBuZXdJbmRleDtcclxuICAgIHRoaXMuJGhpZGRlbklucHV0LmluZGV4ID0gbmV3SW5kZXg7XHJcblxyXG4gICAgdGhpcy5pc01heFZhbHVlc1NlbGVjdGVkID1cclxuICAgICAgdGhpcy5tYXhWYWx1ZXMgJiYgdGhpcy5tYXhWYWx1ZXMgPD0gdGhpcy5zZWxlY3RlZFZhbHVlcy5sZW5ndGhcclxuICAgICAgICA/IHRydWVcclxuICAgICAgICA6IGZhbHNlO1xyXG4gICAgdGhpcy5zZXRWYWx1ZVRleHQoKTtcclxuICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKFxyXG4gICAgICB0aGlzLiR3cmFwcGVyLFxyXG4gICAgICAnaGFzLXZhbHVlJyxcclxuICAgICAgVXRpbHMuaXNOb3RFbXB0eSh0aGlzLnNlbGVjdGVkVmFsdWVzKVxyXG4gICAgKTtcclxuICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKFxyXG4gICAgICB0aGlzLiR3cmFwcGVyLFxyXG4gICAgICAnbWF4LXZhbHVlLXNlbGVjdGVkJyxcclxuICAgICAgdGhpcy5pc01heFZhbHVlc1NlbGVjdGVkXHJcbiAgICApO1xyXG5cclxuICAgIGlmICh0cmlnZ2VyRXZlbnQpIHtcclxuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHRoaXMuJGVsZSwgJ2NoYW5nZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVUZXh0KCkge1xyXG4gICAgbGV0IHZhbHVlVGV4dCA9IFtdO1xyXG4gICAgbGV0IHZhbHVlVG9vbHRpcCA9IFtdO1xyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gdGhpcy5zZWxlY3RlZFZhbHVlcztcclxuICAgIGxldCBzZWxlY3RlZExlbmd0aCA9IHNlbGVjdGVkVmFsdWVzLmxlbmd0aDtcclxuICAgIGxldCBub09mRGlzcGxheVZhbHVlcyA9IHRoaXMubm9PZkRpc3BsYXlWYWx1ZXM7XHJcbiAgICBsZXQgbWF4aW11bVZhbHVlc1RvU2hvdyA9IDUwO1xyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWVzQ291bnQgPSAwO1xyXG5cclxuICAgIGlmICh0aGlzLmlzQWxsU2VsZWN0ZWQpIHtcclxuICAgICAgLy90aGlzLiR2YWx1ZVRleHQuaW5uZXJIVE1MID0gYEFsbCAoJHtzZWxlY3RlZExlbmd0aH0pYDtcclxuICAgICAgdGhpcy4kdmFsdWVUZXh0LmlubmVySFRNTCA9IGAke3NlbGVjdGVkTGVuZ3RofSAke3RoaXMuaXRlbXNTZWxlY3RlZE1lc3NhZ2V9YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvciAobGV0IGQgb2YgdGhpcy5vcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKGQuaXNDdXJyZW50TmV3KSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RlZFZhbHVlc0NvdW50ID4gbWF4aW11bVZhbHVlc1RvU2hvdykge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdmFsdWUgPSBkLnZhbHVlO1xyXG5cclxuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZXMuaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICBsZXQgbGFiZWwgPSBkLmxhYmVsO1xyXG4gICAgICAgICAgdmFsdWVUZXh0LnB1c2gobGFiZWwpO1xyXG4gICAgICAgICAgc2VsZWN0ZWRWYWx1ZXNDb3VudCsrO1xyXG5cclxuICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlc0NvdW50IDw9IG5vT2ZEaXNwbGF5VmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHZhbHVlVG9vbHRpcC5wdXNoKGA8c3BhbiBjbGFzcz1cInZzY29tcC12YWx1ZS10YWdcIj4ke2xhYmVsfTwvc3Bhbj5gKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBtb3JlU2VsZWN0ZWRPcHRpb25zID0gc2VsZWN0ZWRMZW5ndGggLSBub09mRGlzcGxheVZhbHVlcztcclxuXHJcbiAgICAgIGlmIChtb3JlU2VsZWN0ZWRPcHRpb25zID4gMCkge1xyXG4gICAgICAgIHZhbHVlVG9vbHRpcC5wdXNoKFxyXG4gICAgICAgICAgYDxzcGFuIGNsYXNzPVwidnNjb21wLXZhbHVlLXRhZyBtb3JlLXZhbHVlLWNvdW50XCI+KyAke21vcmVTZWxlY3RlZE9wdGlvbnN9IG1vcmUuLi48L3NwYW4+YFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGFnZ3JlZ2F0ZWRWYWx1ZVRleHQgPSB2YWx1ZVRleHQuam9pbignLCAnKTtcclxuXHJcbiAgICAgIGlmIChhZ2dyZWdhdGVkVmFsdWVUZXh0ID09PSAnJykge1xyXG4gICAgICAgIHRoaXMuJHZhbHVlVGV4dC5pbm5lckhUTUwgPSB0aGlzLnBsYWNlaG9sZGVyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuJHZhbHVlVGV4dC5pbm5lckhUTUwgPSBhZ2dyZWdhdGVkVmFsdWVUZXh0O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tdWx0aXBsZSkge1xyXG4gICAgICAgICAgbGV0IG1heFZhbHVlcyA9IHRoaXMubWF4VmFsdWVzO1xyXG5cclxuICAgICAgICAgIGlmIChEb21VdGlscy5oYXNFbGxpcHNpcyh0aGlzLiR2YWx1ZVRleHQpIHx8IG1heFZhbHVlcykge1xyXG4gICAgICAgICAgICBsZXQgY291bnRUZXh0ID0gYCR7c2VsZWN0ZWRMZW5ndGh9YDtcclxuXHJcbiAgICAgICAgICAgIGlmIChtYXhWYWx1ZXMpIHtcclxuICAgICAgICAgICAgICBjb3VudFRleHQgKz0gYCAvICR7bWF4VmFsdWVzfWA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKiByZXBsYWNlIGNvbW1hIGRlbGltaXR0ZWQgbGlzdCBvZiBzZWxlY3Rpb25zIHdpdGggc2hvcnRlciB0ZXh0IGluZGljYXRpbmcgc2VsZWN0aW9uIGNvdW50ICovXHJcbiAgICAgICAgICAgIC8vIHRoaXMuJHZhbHVlVGV4dC5pbm5lckhUTUwgPSBgJHtjb3VudFRleHR9IG9wdGlvbiR7XHJcbiAgICAgICAgICAgIC8vICAgc2VsZWN0ZWRMZW5ndGggPT09IDEgPyAnJyA6ICdzJ1xyXG4gICAgICAgICAgICAvLyB9IHNlbGVjdGVkYDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJHZhbHVlVGV4dC5pbm5lckhUTUwgPSBgJHtjb3VudFRleHR9ICR7dGhpcy5pdGVtc1NlbGVjdGVkTWVzc2FnZX1gO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLyoqIHJlbW92aW5nIHRvb2x0aXAgaWYgZnVsbCB2YWx1ZSB0ZXh0IGlzIHZpc2libGUgKi9cclxuICAgICAgICAgICAgdmFsdWVUb29sdGlwID0gW107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgRG9tVXRpbHMuc2V0RGF0YSh0aGlzLiR2YWx1ZVRleHQsICd0b29sdGlwJywgdmFsdWVUb29sdGlwLmpvaW4oJywgJykpO1xyXG4gIH1cclxuXHJcbiAgc2V0U2VhcmNoVmFsdWUodmFsdWUsIHNraXBJbnB1dFNldCkge1xyXG4gICAgaWYgKHZhbHVlID09PSB0aGlzLnNlYXJjaFZhbHVlT3JpZ2luYWwpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghc2tpcElucHV0U2V0KSB7XHJcbiAgICAgIHRoaXMuJHNlYXJjaElucHV0LnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNlYXJjaFZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCk7XHJcbiAgICB0aGlzLnNlYXJjaFZhbHVlID0gc2VhcmNoVmFsdWU7XHJcbiAgICB0aGlzLnNlYXJjaFZhbHVlT3JpZ2luYWwgPSB2YWx1ZTtcclxuXHJcbiAgICBEb21VdGlscy50b2dnbGVDbGFzcyh0aGlzLiR3cmFwcGVyLCAnaGFzLXNlYXJjaC12YWx1ZScsIHZhbHVlKTtcclxuXHJcbiAgICBpZiAodGhpcy5oYXNTZXJ2ZXJTZWFyY2gpIHtcclxuICAgICAgdGhpcy5zZXJ2ZXJTZWFyY2goc2VhcmNoVmFsdWUpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHZpc2libGVPcHRpb25zQ291bnQgPSAwO1xyXG4gICAgbGV0IGhhc0V4YWN0T3B0aW9uID0gZmFsc2U7XHJcbiAgICBsZXQgdmlzaWJsZU9wdGlvbkdyb3Vwc01hcHBpbmc7XHJcbiAgICBsZXQgaXNPcHRpb25WaXNpYmxlID0gdGhpcy5pc09wdGlvblZpc2libGU7XHJcblxyXG4gICAgaWYgKHRoaXMuaGFzT3B0aW9uR3JvdXApIHtcclxuICAgICAgdmlzaWJsZU9wdGlvbkdyb3Vwc01hcHBpbmcgPSB0aGlzLmdldFZpc2libGVPcHRpb25Hcm91cHNNYXBwaW5nKFxyXG4gICAgICAgIHNlYXJjaFZhbHVlXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgaWYgKGQuaXNDdXJyZW50TmV3KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgcmVzdWx0ID0gaXNPcHRpb25WaXNpYmxlKFxyXG4gICAgICAgIGQsXHJcbiAgICAgICAgc2VhcmNoVmFsdWUsXHJcbiAgICAgICAgaGFzRXhhY3RPcHRpb24sXHJcbiAgICAgICAgdmlzaWJsZU9wdGlvbkdyb3Vwc01hcHBpbmdcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChyZXN1bHQuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgdmlzaWJsZU9wdGlvbnNDb3VudCsrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWhhc0V4YWN0T3B0aW9uKSB7XHJcbiAgICAgICAgaGFzRXhhY3RPcHRpb24gPSByZXN1bHQuaGFzRXhhY3RPcHRpb247XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmICh0aGlzLmFsbG93TmV3T3B0aW9uKSB7XHJcbiAgICAgIGlmIChzZWFyY2hWYWx1ZSAmJiAhaGFzRXhhY3RPcHRpb24pIHtcclxuICAgICAgICB0aGlzLnNldE5ld09wdGlvbigpO1xyXG4gICAgICAgIHZpc2libGVPcHRpb25zQ291bnQrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnJlbW92ZU5ld09wdGlvbigpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy52aXNpYmxlT3B0aW9uc0NvdW50ID0gdmlzaWJsZU9wdGlvbnNDb3VudDtcclxuXHJcbiAgICB0aGlzLnNjcm9sbFRvVG9wKCk7XHJcbiAgICB0aGlzLnNldE9wdGlvbnNIZWlnaHQoKTtcclxuICAgIHRoaXMuc2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIHNldE9wdGlvblByb3AoaW5kZXgsIGtleSwgdmFsdWUpIHtcclxuICAgIGlmICghdGhpcy5vcHRpb25zW2luZGV4XSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vcHRpb25zW2luZGV4XVtrZXldID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBzZXRPcHRpb25zSGVpZ2h0KCkge1xyXG4gICAgdGhpcy4kb3B0aW9uc0xpc3Quc3R5bGUuaGVpZ2h0ID1cclxuICAgICAgdGhpcy5vcHRpb25IZWlnaHQgKiB0aGlzLnZpc2libGVPcHRpb25zQ291bnQgKyAncHgnO1xyXG4gIH1cclxuXHJcbiAgc2V0T3B0aW9uc0NvbnRhaW5lckhlaWdodChyZXNldCkge1xyXG4gICAgbGV0IG9wdGlvbnNIZWlnaHQ7XHJcblxyXG4gICAgaWYgKHJlc2V0KSB7XHJcbiAgICAgIGlmICh0aGlzLnNob3dBc1BvcHVwKSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zQ291bnQgPSB0aGlzLmdldE9wdGlvbnNDb3VudCgpO1xyXG4gICAgICAgIG9wdGlvbnNIZWlnaHQgPSB0aGlzLmdldE9wdGlvbnNIZWlnaHQoKTtcclxuICAgICAgICB0aGlzLm9wdGlvbnNIZWlnaHQgPSBvcHRpb25zSGVpZ2h0O1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvcHRpb25zSGVpZ2h0ID0gdGhpcy5vcHRpb25zSGVpZ2h0O1xyXG5cclxuICAgICAgaWYgKHRoaXMua2VlcEFsd2F5c09wZW4pIHtcclxuICAgICAgICBEb21VdGlscy5zZXRTdHlsZSh0aGlzLiRub09wdGlvbnMsICdoZWlnaHQnLCBvcHRpb25zSGVpZ2h0KTtcclxuICAgICAgICBEb21VdGlscy5zZXRTdHlsZSh0aGlzLiRub1NlYXJjaFJlc3VsdHMsICdoZWlnaHQnLCBvcHRpb25zSGVpZ2h0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIERvbVV0aWxzLnNldFN0eWxlKHRoaXMuJG9wdGlvbnNDb250YWluZXIsICdtYXgtaGVpZ2h0Jywgb3B0aW9uc0hlaWdodCk7XHJcblxyXG4gICAgdGhpcy5hZnRlclNldE9wdGlvbnNDb250YWluZXJIZWlnaHQocmVzZXQpO1xyXG4gIH1cclxuXHJcbiAgc2V0RHJvcGJveFBvc2l0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMucG9zaXRpb24gIT09ICdhdXRvJykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG1vcmVWaXNpYmxlU2lkZXMgPSBEb21VdGlscy5nZXRNb3JlVmlzaWJsZVNpZGVzKHRoaXMuJHdyYXBwZXIpO1xyXG4gICAgbGV0IHNob3dPbkxlZnQgPSBmYWxzZTtcclxuXHJcbiAgICAvKiogY2hlY2sgdGhhdCBpcyBkcm9wYm94IGhpZGRlbiBvbiByaWdodCBlZGdlIC0gb25seSBpZiBjdXN0b20gd2lkdGggZ2l2ZW4gKi9cclxuICAgIGlmICh0aGlzLmRyb3Bib3hXaWR0aCkge1xyXG4gICAgICBsZXQgYnV0dG9uQ29vcmRzID0gdGhpcy4kdG9nZ2xlQnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBsZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICBsZXQgZHJvcGJveFdpZHRoID0gcGFyc2VGbG9hdCh0aGlzLmRyb3Bib3hXaWR0aCk7XHJcbiAgICAgIGxldCBoaWRkZW5PblJpZ2h0ID0gYnV0dG9uQ29vcmRzLmxlZnQgKyBkcm9wYm94V2lkdGggPiB2aWV3cG9ydFdpZHRoO1xyXG4gICAgICBsZXQgaGlkZGVuT25MZWZ0ID0gZHJvcGJveFdpZHRoID4gYnV0dG9uQ29vcmRzLnJpZ2h0O1xyXG5cclxuICAgICAgaWYgKGhpZGRlbk9uUmlnaHQgJiYgIWhpZGRlbk9uTGVmdCkge1xyXG4gICAgICAgIHNob3dPbkxlZnQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgRG9tVXRpbHMudG9nZ2xlQ2xhc3MoXHJcbiAgICAgIHRoaXMuJHdyYXBwZXIsXHJcbiAgICAgICdwb3NpdGlvbi10b3AnLFxyXG4gICAgICBtb3JlVmlzaWJsZVNpZGVzLnZlcnRpY2FsID09PSAndG9wJ1xyXG4gICAgKTtcclxuICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKHRoaXMuJHdyYXBwZXIsICdwb3NpdGlvbi1sZWZ0Jywgc2hvd09uTGVmdCk7XHJcbiAgfVxyXG5cclxuICBzZXROZXdPcHRpb24oKSB7XHJcbiAgICBsZXQgdmFsdWUgPSB0aGlzLnNlYXJjaFZhbHVlT3JpZ2luYWwudHJpbSgpO1xyXG5cclxuICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBuZXdPcHRpb24gPSB0aGlzLmdldE5ld09wdGlvbigpO1xyXG5cclxuICAgIGlmIChuZXdPcHRpb24pIHtcclxuICAgICAgbGV0IG5ld0luZGV4ID0gbmV3T3B0aW9uLmluZGV4O1xyXG5cclxuICAgICAgdGhpcy5zZXRPcHRpb25Qcm9wKG5ld0luZGV4LCAndmFsdWUnLCB2YWx1ZSk7XHJcbiAgICAgIHRoaXMuc2V0T3B0aW9uUHJvcChuZXdJbmRleCwgJ2xhYmVsJywgdmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgbGFiZWw6IHZhbHVlLFxyXG4gICAgICAgIGlzQ3VycmVudE5ldzogdHJ1ZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuYWRkT3B0aW9uKGRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0U2VsZWN0ZWRQcm9wKCkge1xyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gdGhpcy5zZWxlY3RlZFZhbHVlcztcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZXMuaW5kZXhPZihkLnZhbHVlKSAhPT0gLTEpIHtcclxuICAgICAgICBkLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLyoqIHNldCBtZXRob2RzIC0gZW5kICovXHJcblxyXG4gIC8qKiBnZXQgbWV0aG9kcyAtIHN0YXJ0ICovXHJcbiAgZ2V0VmlzaWJsZU9wdGlvbnMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52aXNpYmxlT3B0aW9ucyB8fCBbXTtcclxuICB9XHJcblxyXG4gIGdldFZhbHVlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubXVsdGlwbGUgPyB0aGlzLnNlbGVjdGVkVmFsdWVzIDogdGhpcy5zZWxlY3RlZFZhbHVlc1swXTtcclxuICB9XHJcblxyXG4gIGdldEZpcnN0VmlzaWJsZU9wdGlvbkluZGV4KCkge1xyXG4gICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLiRvcHRpb25zQ29udGFpbmVyLnNjcm9sbFRvcCAvIHRoaXMub3B0aW9uSGVpZ2h0KTtcclxuICB9XHJcblxyXG4gIGdldFZpc2libGVTdGFydEluZGV4KCkge1xyXG4gICAgbGV0IGZpcnN0VmlzaWJsZU9wdGlvbkluZGV4ID0gdGhpcy5nZXRGaXJzdFZpc2libGVPcHRpb25JbmRleCgpO1xyXG4gICAgbGV0IHN0YXJ0SW5kZXggPSBmaXJzdFZpc2libGVPcHRpb25JbmRleCAtIHRoaXMuaGFsZk9wdGlvbnNDb3VudDtcclxuXHJcbiAgICBpZiAoc3RhcnRJbmRleCA8IDApIHtcclxuICAgICAgc3RhcnRJbmRleCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0YXJ0SW5kZXg7XHJcbiAgfVxyXG5cclxuICBnZXRUb29sdGlwQXR0clRleHQodGV4dCwgZWxsaXBzaXNPbmx5ID0gZmFsc2UsIGFsbG93SHRtbCA9IGZhbHNlKSB7XHJcbiAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgJ2RhdGEtdG9vbHRpcCc6IHRleHQgfHwgJycsXHJcbiAgICAgICdkYXRhLXRvb2x0aXAtZW50ZXItZGVsYXknOiB0aGlzLnRvb2x0aXBFbnRlckRlbGF5LFxyXG4gICAgICAnZGF0YS10b29sdGlwLXotaW5kZXgnOiB0aGlzLnpJbmRleCxcclxuICAgICAgJ2RhdGEtdG9vbHRpcC1mb250LXNpemUnOiB0aGlzLnRvb2x0aXBGb250U2l6ZSxcclxuICAgICAgJ2RhdGEtdG9vbHRpcC1hbGlnbm1lbnQnOiB0aGlzLnRvb2x0aXBBbGlnbm1lbnQsXHJcbiAgICAgICdkYXRhLXRvb2x0aXAtbWF4LXdpZHRoJzogdGhpcy50b29sdGlwTWF4V2lkdGgsXHJcbiAgICAgICdkYXRhLXRvb2x0aXAtZWxsaXBzaXMtb25seSc6IGVsbGlwc2lzT25seSxcclxuICAgICAgJ2RhdGEtdG9vbHRpcC1hbGxvdy1odG1sJzogYWxsb3dIdG1sLFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gRG9tVXRpbHMuZ2V0QXR0cmlidXRlc1RleHQoZGF0YSk7XHJcbiAgfVxyXG5cclxuICBnZXRPcHRpb25PYmooZGF0YSkge1xyXG4gICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZ2V0U3RyaW5nID0gVXRpbHMuZ2V0U3RyaW5nO1xyXG4gICAgbGV0IG5ld09wdGlvbiA9IHtcclxuICAgICAgaW5kZXg6IGRhdGEuaW5kZXgsXHJcbiAgICAgIHZhbHVlOiBnZXRTdHJpbmcoZGF0YS52YWx1ZSksXHJcbiAgICAgIGxhYmVsOiBnZXRTdHJpbmcoZGF0YS5sYWJlbCksXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBnZXRTdHJpbmcoZGF0YS5kZXNjcmlwdGlvbiksXHJcbiAgICAgIGFsaWFzOiB0aGlzLmdldEFsaWFzKGRhdGEuYWxpYXMpLFxyXG4gICAgICBpc0N1cnJlbnROZXc6IGRhdGEuaXNDdXJyZW50TmV3IHx8IGZhbHNlLFxyXG4gICAgICBpc1Zpc2libGU6IHRydWUsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBuZXdPcHRpb247XHJcbiAgfVxyXG5cclxuICBnZXROZXdPcHRpb24oKSB7XHJcbiAgICBsZXQgbGFzdE9wdGlvbiA9IHRoaXMub3B0aW9uc1t0aGlzLmxhc3RPcHRpb25JbmRleF07XHJcblxyXG4gICAgaWYgKCFsYXN0T3B0aW9uIHx8ICFsYXN0T3B0aW9uLmlzQ3VycmVudE5ldykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxhc3RPcHRpb247XHJcbiAgfVxyXG5cclxuICBnZXRPcHRpb25JbmRleCh2YWx1ZSkge1xyXG4gICAgbGV0IGluZGV4O1xyXG5cclxuICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICB0aGlzLm9wdGlvbnMuc29tZSgoZCkgPT4ge1xyXG4gICAgICAgIGlmIChkLnZhbHVlID09IHZhbHVlKSB7XHJcbiAgICAgICAgICBpbmRleCA9IGQuaW5kZXg7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaW5kZXg7XHJcbiAgfVxyXG5cclxuICBnZXROZXdWYWx1ZSgpIHtcclxuICAgIGxldCBuZXdWYWx1ZXMgPSB0aGlzLm5ld1ZhbHVlcztcclxuICAgIGxldCByZXN1bHQgPSB0aGlzLnNlbGVjdGVkVmFsdWVzLmZpbHRlcigoZCkgPT4gbmV3VmFsdWVzLmluZGV4T2YoZCkgIT09IC0xKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5tdWx0aXBsZSA/IHJlc3VsdCA6IHJlc3VsdFswXTtcclxuICB9XHJcblxyXG4gIGdldEFsaWFzKGFsaWFzKSB7XHJcbiAgICBpZiAoYWxpYXMpIHtcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYWxpYXMpKSB7XHJcbiAgICAgICAgYWxpYXMgPSBhbGlhcy5qb2luKCcsJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxpYXMgPSBhbGlhcy50b1N0cmluZygpLnRyaW0oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWxpYXMgPSBhbGlhcy50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWxpYXMgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYWxpYXM7XHJcbiAgfVxyXG5cclxuICBnZXREaXNwbGF5VmFsdWUoKSB7XHJcbiAgICBsZXQgZGlzcGxheVZhbHVlcyA9IFtdO1xyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gdGhpcy5zZWxlY3RlZFZhbHVlcztcclxuXHJcbiAgICBmb3IgKGxldCBkIG9mIHRoaXMub3B0aW9ucykge1xyXG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZXMuaW5kZXhPZihkLnZhbHVlKSAhPT0gLTEpIHtcclxuICAgICAgICBkaXNwbGF5VmFsdWVzLnB1c2goZC5sYWJlbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5tdWx0aXBsZSA/IGRpc3BsYXlWYWx1ZXMgOiBkaXNwbGF5VmFsdWVzWzBdIHx8ICcnO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmlzaWJsZU9wdGlvbkdyb3Vwc01hcHBpbmcoc2VhcmNoVmFsdWUpIHtcclxuICAgIGxldCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xyXG4gICAgbGV0IHJlc3VsdCA9IHt9O1xyXG4gICAgbGV0IGlzT3B0aW9uVmlzaWJsZSA9IHRoaXMuaXNPcHRpb25WaXNpYmxlO1xyXG4gICAgb3B0aW9ucyA9IHRoaXMuc3RydWN0dXJlT3B0aW9uR3JvdXAob3B0aW9ucyk7XHJcblxyXG4gICAgb3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIHJlc3VsdFtkLmluZGV4XSA9IGQub3B0aW9ucy5zb21lKFxyXG4gICAgICAgIChlKSA9PiBpc09wdGlvblZpc2libGUoZSwgc2VhcmNoVmFsdWUpLmlzVmlzaWJsZVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIGdldE9wdGlvbnNDb3VudChjb3VudCkge1xyXG4gICAgaWYgKHRoaXMuc2hvd0FzUG9wdXApIHtcclxuICAgICAgbGV0IGF2YWlsYWJsZUhlaWdodCA9XHJcbiAgICAgICAgKHdpbmRvdy5pbm5lckhlaWdodCAqIDgwKSAvIDEwMCAtIGRyb3Bib3hDbG9zZUJ1dHRvbkZ1bGxIZWlnaHQ7XHJcblxyXG4gICAgICBpZiAodGhpcy5oYXNTZWFyY2hDb250YWluZXIpIHtcclxuICAgICAgICBhdmFpbGFibGVIZWlnaHQgLT0gc2VhcmNoSGVpZ2h0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb3VudCA9IE1hdGguZmxvb3IoYXZhaWxhYmxlSGVpZ2h0IC8gdGhpcy5vcHRpb25IZWlnaHQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY291bnQgPSBwYXJzZUludChjb3VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvdW50O1xyXG4gIH1cclxuXHJcbiAgZ2V0T3B0aW9uc0hlaWdodCgpIHtcclxuICAgIHJldHVybiB0aGlzLm9wdGlvbnNDb3VudCAqIHRoaXMub3B0aW9uSGVpZ2h0ICsgJ3B4JztcclxuICB9XHJcblxyXG4gIGdldFNpYmxpbmcoJGVsZSwgZGlyZWN0aW9uKSB7XHJcbiAgICBsZXQgcHJvcE5hbWUgPVxyXG4gICAgICBkaXJlY3Rpb24gPT09ICduZXh0JyA/ICduZXh0RWxlbWVudFNpYmxpbmcnIDogJ3ByZXZpb3VzRWxlbWVudFNpYmxpbmcnO1xyXG5cclxuICAgIGRvIHtcclxuICAgICAgaWYgKCRlbGUpIHtcclxuICAgICAgICAkZWxlID0gJGVsZVtwcm9wTmFtZV07XHJcbiAgICAgIH1cclxuICAgIH0gd2hpbGUgKFxyXG4gICAgICBEb21VdGlscy5oYXNDbGFzcygkZWxlLCAnZGlzYWJsZWQnKSB8fFxyXG4gICAgICBEb21VdGlscy5oYXNDbGFzcygkZWxlLCAnZ3JvdXAtdGl0bGUnKVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gJGVsZTtcclxuICB9XHJcbiAgLyoqIGdldCBtZXRob2RzIC0gZW5kICovXHJcblxyXG4gIG9wZW5Ecm9wYm94KGlzU2lsZW50KSB7XHJcbiAgICB0aGlzLnNldERyb3Bib3hQb3NpdGlvbigpO1xyXG4gICAgRG9tVXRpbHMucmVtb3ZlQ2xhc3ModGhpcy4kd3JhcHBlciwgJ2Nsb3NlZCcpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBEb21VdGlscy5hZGRDbGFzcyh0aGlzLiR3cmFwcGVyLCAnb3BlbmVkJyk7XHJcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLiRlbGUsICdvcGVuZWQnKTtcclxuXHJcbiAgICAgIGlmICghaXNTaWxlbnQpIHtcclxuICAgICAgICB0aGlzLm1vdmVTZWxlY3RlZE9wdGlvbnNGaXJzdCgpO1xyXG4gICAgICAgIERvbVV0aWxzLmFkZENsYXNzKHRoaXMuJHdyYXBwZXIsICdmb2N1c2VkJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNob3dBc1BvcHVwKSB7XHJcbiAgICAgICAgICBEb21VdGlscy5hZGRDbGFzcyh0aGlzLiRib2R5LCAndnNjb21wLXBvcHVwLWFjdGl2ZScpO1xyXG4gICAgICAgICAgdGhpcy5pc1BvcHVwQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5mb2N1c1NlYXJjaElucHV0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCAwKTtcclxuICB9XHJcblxyXG4gIGNsb3NlRHJvcGJveChpc1NpbGVudCkge1xyXG4gICAgaWYgKHRoaXMua2VlcEFsd2F5c09wZW4pIHtcclxuICAgICAgdGhpcy5yZW1vdmVPcHRpb25Gb2N1cygpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHRyYW5zaXRpb25EdXJhdGlvbiA9IGlzU2lsZW50ID8gMCA6IHRoaXMudHJhbnNpdGlvbkR1cmF0aW9uO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBEb21VdGlscy5yZW1vdmVDbGFzcyh0aGlzLiR3cmFwcGVyLCAnb3BlbmVkIGZvY3VzZWQnKTtcclxuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHRoaXMuJGVsZSwgJ2Nsb3NlZCcpO1xyXG4gICAgICB0aGlzLnJlbW92ZU9wdGlvbkZvY3VzKCk7XHJcblxyXG4gICAgICBpZiAoIWlzU2lsZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQb3B1cEFjdGl2ZSkge1xyXG4gICAgICAgICAgRG9tVXRpbHMucmVtb3ZlQ2xhc3ModGhpcy4kYm9keSwgJ3ZzY29tcC1wb3B1cC1hY3RpdmUnKTtcclxuICAgICAgICAgIHRoaXMuaXNQb3B1cEFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgMCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIERvbVV0aWxzLmFkZENsYXNzKHRoaXMuJHdyYXBwZXIsICdjbG9zZWQnKTtcclxuICAgIH0sIHRyYW5zaXRpb25EdXJhdGlvbik7XHJcbiAgfVxyXG5cclxuICBtb3ZlU2VsZWN0ZWRPcHRpb25zRmlyc3QoKSB7XHJcbiAgICBpZiAoIXRoaXMuc2hvd1NlbGVjdGVkT3B0aW9uc0ZpcnN0KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFNvcnRlZE9wdGlvbnMoKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuJG9wdGlvbnNDb250YWluZXIuc2Nyb2xsVG9wIHx8ICF0aGlzLnNlbGVjdGVkVmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLnNldFZpc2libGVPcHRpb25zKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNjcm9sbFRvVG9wKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVEcm9wYm94KCkge1xyXG4gICAgaWYgKHRoaXMuaXNPcGVuZWQoKSkge1xyXG4gICAgICB0aGlzLmNsb3NlRHJvcGJveCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vcGVuRHJvcGJveCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNPcGVuZWQoKSB7XHJcbiAgICByZXR1cm4gRG9tVXRpbHMuaGFzQ2xhc3ModGhpcy4kd3JhcHBlciwgJ29wZW5lZCcpO1xyXG4gIH1cclxuXHJcbiAgZm9jdXNTZWFyY2hJbnB1dCgpIHtcclxuICAgIGxldCAkZWxlID0gdGhpcy4kc2VhcmNoSW5wdXQ7XHJcblxyXG4gICAgaWYgKCRlbGUpIHtcclxuICAgICAgJGVsZS5mb2N1cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZm9jdXNPcHRpb24oZGlyZWN0aW9uLCBlbGUpIHtcclxuICAgIGxldCAkZm9jdXNlZEVsZSA9IHRoaXMuJGRyb3Bib3hDb250YWluZXIucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy52c2NvbXAtb3B0aW9uLmZvY3VzZWQnXHJcbiAgICApO1xyXG4gICAgbGV0ICRuZXdGb2N1c2VkRWxlO1xyXG5cclxuICAgIGlmIChlbGUpIHtcclxuICAgICAgJG5ld0ZvY3VzZWRFbGUgPSBlbGU7XHJcbiAgICB9IGVsc2UgaWYgKCEkZm9jdXNlZEVsZSkge1xyXG4gICAgICAvKiBpZiBubyBlbGVtZW50IG9uIGZvY3VzIGNob29zZSBmaXJzdCB2aXNpYmxlIG9uZSAqL1xyXG4gICAgICBsZXQgZmlyc3RWaXNpYmxlT3B0aW9uSW5kZXggPSB0aGlzLmdldEZpcnN0VmlzaWJsZU9wdGlvbkluZGV4KCk7XHJcbiAgICAgICRuZXdGb2N1c2VkRWxlID0gdGhpcy4kZHJvcGJveENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIGAudnNjb21wLW9wdGlvbltkYXRhLXZpc2libGUtaW5kZXg9XCIke2ZpcnN0VmlzaWJsZU9wdGlvbkluZGV4fVwiXWBcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICBEb21VdGlscy5oYXNDbGFzcygkbmV3Rm9jdXNlZEVsZSwgJ2Rpc2FibGVkJykgfHxcclxuICAgICAgICBEb21VdGlscy5oYXNDbGFzcygkbmV3Rm9jdXNlZEVsZSwgJ2dyb3VwLXRpdGxlJylcclxuICAgICAgKSB7XHJcbiAgICAgICAgJG5ld0ZvY3VzZWRFbGUgPSB0aGlzLmdldFNpYmxpbmcoJG5ld0ZvY3VzZWRFbGUsICduZXh0Jyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRuZXdGb2N1c2VkRWxlID0gdGhpcy5nZXRTaWJsaW5nKCRmb2N1c2VkRWxlLCBkaXJlY3Rpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkbmV3Rm9jdXNlZEVsZSAmJiAkbmV3Rm9jdXNlZEVsZSAhPT0gJGZvY3VzZWRFbGUpIHtcclxuICAgICAgaWYgKCRmb2N1c2VkRWxlKSB7XHJcbiAgICAgICAgRG9tVXRpbHMucmVtb3ZlQ2xhc3MoJGZvY3VzZWRFbGUsICdmb2N1c2VkJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIERvbVV0aWxzLmFkZENsYXNzKCRuZXdGb2N1c2VkRWxlLCAnZm9jdXNlZCcpO1xyXG4gICAgICB0aGlzLnRvZ2dsZUZvY3VzZWRQcm9wKERvbVV0aWxzLmdldERhdGEoJG5ld0ZvY3VzZWRFbGUsICdpbmRleCcpLCB0cnVlKTtcclxuICAgICAgdGhpcy5tb3ZlRm9jdXNlZE9wdGlvblRvVmlldygkbmV3Rm9jdXNlZEVsZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtb3ZlRm9jdXNlZE9wdGlvblRvVmlldygkZm9jdXNlZEVsZSkge1xyXG4gICAgaWYgKCEkZm9jdXNlZEVsZSkge1xyXG4gICAgICAkZm9jdXNlZEVsZSA9IHRoaXMuJGRyb3Bib3hDb250YWluZXIucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAnLnZzY29tcC1vcHRpb24uZm9jdXNlZCdcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoISRmb2N1c2VkRWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbmV3U2Nyb2xsVG9wO1xyXG4gICAgbGV0IGNvbnRhaW5lclJlY3QgPSB0aGlzLiRvcHRpb25zQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgbGV0IG9wdGlvblJlY3QgPSAkZm9jdXNlZEVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGxldCBjb250YWluZXJUb3AgPSBjb250YWluZXJSZWN0LnRvcDtcclxuICAgIGxldCBjb250YWluZXJCb3R0b20gPSBjb250YWluZXJSZWN0LmJvdHRvbTtcclxuICAgIGxldCBjb250YWluZXJIZWlnaHQgPSBjb250YWluZXJSZWN0LmhlaWdodDtcclxuICAgIGxldCBvcHRpb25Ub3AgPSBvcHRpb25SZWN0LnRvcDtcclxuICAgIGxldCBvcHRpb25Cb3R0b20gPSBvcHRpb25SZWN0LmJvdHRvbTtcclxuICAgIGxldCBvcHRpb25IZWlnaHQgPSBvcHRpb25SZWN0LmhlaWdodDtcclxuICAgIGxldCBvcHRpb25PZmZzZXRUb3AgPSAkZm9jdXNlZEVsZS5vZmZzZXRUb3A7XHJcbiAgICBsZXQgb3B0aW9uc1RvcCA9IERvbVV0aWxzLmdldERhdGEodGhpcy4kb3B0aW9ucywgJ3RvcCcsICdudW1iZXInKTtcclxuXHJcbiAgICAvKiBpZiBvcHRpb24gaGlkZGVuIG9uIHRvcCAqL1xyXG4gICAgaWYgKGNvbnRhaW5lclRvcCA+IG9wdGlvblRvcCkge1xyXG4gICAgICBuZXdTY3JvbGxUb3AgPSBvcHRpb25PZmZzZXRUb3AgKyBvcHRpb25zVG9wO1xyXG4gICAgfSBlbHNlIGlmIChjb250YWluZXJCb3R0b20gPCBvcHRpb25Cb3R0b20pIHtcclxuICAgICAgLyogaWYgb3B0aW9uIGhpZGRlbiBvbiBib3R0b20gKi9cclxuICAgICAgbmV3U2Nyb2xsVG9wID1cclxuICAgICAgICBvcHRpb25PZmZzZXRUb3AgLSBjb250YWluZXJIZWlnaHQgKyBvcHRpb25IZWlnaHQgKyBvcHRpb25zVG9wO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZXdTY3JvbGxUb3AgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLiRvcHRpb25zQ29udGFpbmVyLnNjcm9sbFRvcCA9IG5ld1Njcm9sbFRvcDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZU9wdGlvbkZvY3VzKCkge1xyXG4gICAgbGV0ICRmb2N1c2VkRWxlID0gdGhpcy4kZHJvcGJveENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLnZzY29tcC1vcHRpb24uZm9jdXNlZCdcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCEkZm9jdXNlZEVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgRG9tVXRpbHMucmVtb3ZlQ2xhc3MoJGZvY3VzZWRFbGUsICdmb2N1c2VkJyk7XHJcbiAgICB0aGlzLnRvZ2dsZUZvY3VzZWRQcm9wKG51bGwpO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0T3B0aW9uKCRlbGUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGlzQWRkaW5nID0gIURvbVV0aWxzLmhhc0NsYXNzKCRlbGUsICdzZWxlY3RlZCcpO1xyXG5cclxuICAgIGlmIChpc0FkZGluZykge1xyXG4gICAgICBpZiAodGhpcy5tdWx0aXBsZSAmJiB0aGlzLmlzTWF4VmFsdWVzU2VsZWN0ZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8qKiBvbiBzZWxlY3Rpbmcgc2FtZSB2YWx1ZSBpbiBzaW5nbGUgc2VsZWN0ICovXHJcbiAgICAgIGlmICghdGhpcy5tdWx0aXBsZSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2VEcm9wYm94KCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gdGhpcy5zZWxlY3RlZFZhbHVlcztcclxuICAgIGxldCBzZWxlY3RlZEluZGV4ZXMgPSB0aGlzLnNlbGVjdGVkSW5kZXhlcztcclxuICAgIGxldCBzZWxlY3RlZFZhbHVlID0gRG9tVXRpbHMuZ2V0RGF0YSgkZWxlLCAndmFsdWUnKTtcclxuICAgIGxldCBzZWxlY3RlZEluZGV4ID0gRG9tVXRpbHMuZ2V0RGF0YSgkZWxlLCAnaW5kZXgnKTtcclxuXHJcbiAgICB0aGlzLnRvZ2dsZVNlbGVjdGVkUHJvcChzZWxlY3RlZEluZGV4LCBpc0FkZGluZyk7XHJcblxyXG4gICAgaWYgKGlzQWRkaW5nKSB7XHJcbiAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZXMucHVzaChzZWxlY3RlZFZhbHVlKTtcclxuICAgICAgICBzZWxlY3RlZEluZGV4ZXMucHVzaChzZWxlY3RlZEluZGV4KTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUFsbE9wdGlvbnNDbGFzcygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChzZWxlY3RlZFZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICAgIHRoaXMudG9nZ2xlU2VsZWN0ZWRQcm9wKFxyXG4gICAgICAgICAgICB0aGlzLmdldE9wdGlvbkluZGV4KHNlbGVjdGVkVmFsdWVzWzBdKSxcclxuICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxlY3RlZFZhbHVlcyA9IFtzZWxlY3RlZFZhbHVlXTtcclxuICAgICAgICBzZWxlY3RlZEluZGV4ZXMgPSBbc2VsZWN0ZWRJbmRleF07XHJcbiAgICAgICAgbGV0ICRwcmV2U2VsZWN0ZWRPcHRpb24gPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAgICcudnNjb21wLW9wdGlvbi5zZWxlY3RlZCdcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoJHByZXZTZWxlY3RlZE9wdGlvbikge1xyXG4gICAgICAgICAgRG9tVXRpbHMudG9nZ2xlQ2xhc3MoJHByZXZTZWxlY3RlZE9wdGlvbiwgJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbG9zZURyb3Bib3goKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgRG9tVXRpbHMudG9nZ2xlQ2xhc3MoJGVsZSwgJ3NlbGVjdGVkJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5tdWx0aXBsZSkge1xyXG4gICAgICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKCRlbGUsICdzZWxlY3RlZCcpO1xyXG4gICAgICAgIFV0aWxzLnJlbW92ZUl0ZW1Gcm9tQXJyYXkoc2VsZWN0ZWRWYWx1ZXMsIHNlbGVjdGVkVmFsdWUpO1xyXG4gICAgICAgIFV0aWxzLnJlbW92ZUl0ZW1Gcm9tQXJyYXkoc2VsZWN0ZWRJbmRleGVzLCBzZWxlY3RlZEluZGV4KTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUFsbE9wdGlvbnNDbGFzcyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoRG9tVXRpbHMuaGFzQ2xhc3MoJGVsZSwgJ2N1cnJlbnQtbmV3JykpIHtcclxuICAgICAgdGhpcy5iZWZvcmVTZWxlY3ROZXdWYWx1ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0VmFsdWUoc2VsZWN0ZWRWYWx1ZXMsIHNlbGVjdGVkSW5kZXhlcywgdHJ1ZSk7XHJcblxyXG4gICAgLy8gSW4gJ0xpc3QnIG9ubHlcclxuICAgIC8vIGltbWVkaWF0ZWx5IG1vdmUgaXRlbSB0byB0b3AgaWYgb3B0aW9ucyBpcyBvbi5cclxuICAgIC8vIERyb3Bkb3duIG1vZGUgd2lsbCB3YWl0IHVudGlsIHRoZSBuZXh0IHJlb3BlbiB0byBkbyBzby5cclxuICAgIGlmICh0aGlzLmtlZXBBbHdheXNPcGVuICYmIHRoaXMuc2hvd1NlbGVjdGVkT3B0aW9uc0ZpcnN0KSB7XHJcbiAgICAgIGNvbnN0IGxhc3RTY3JvbGxUb3AgPSB0aGlzLiRvcHRpb25zQ29udGFpbmVyLnNjcm9sbFRvcDtcclxuICAgICAgdGhpcy5tb3ZlU2VsZWN0ZWRPcHRpb25zRmlyc3QoKTtcclxuICAgICAgdGhpcy4kb3B0aW9uc0NvbnRhaW5lci5zY3JvbGxUb3AgPSBsYXN0U2Nyb2xsVG9wO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2VsZWN0Rm9jdXNlZE9wdGlvbigpIHtcclxuICAgIHRoaXMuc2VsZWN0T3B0aW9uKFxyXG4gICAgICB0aGlzLiRkcm9wYm94Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtb3B0aW9uLmZvY3VzZWQnKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUFsbE9wdGlvbnMoaXNTZWxlY3RlZCkge1xyXG4gICAgaWYgKCF0aGlzLm11bHRpcGxlIHx8IHRoaXMuZGlzYWJsZVNlbGVjdEFsbCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBpc1NlbGVjdGVkICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgaXNTZWxlY3RlZCA9ICFEb21VdGlscy5oYXNDbGFzcyh0aGlzLiR0b2dnbGVBbGxDaGVja2JveCwgJ2NoZWNrZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcclxuICAgIGxldCBzZWxlY3RlZEluZGV4ZXMgPSBbXTtcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgoZCwgaWR4KSA9PiB7XHJcbiAgICAgIGlmIChkLmlzRGlzYWJsZWQgfHwgZC5pc0N1cnJlbnROZXcgfHwgZC5pc0dyb3VwVGl0bGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGQuaXNTZWxlY3RlZCA9IGlzU2VsZWN0ZWQ7XHJcblxyXG4gICAgICBpZiAoaXNTZWxlY3RlZCkge1xyXG4gICAgICAgIHNlbGVjdGVkVmFsdWVzLnB1c2goZC52YWx1ZSk7XHJcbiAgICAgICAgc2VsZWN0ZWRJbmRleGVzLnB1c2goaWR4KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy50b2dnbGVBbGxPcHRpb25zQ2xhc3MoaXNTZWxlY3RlZCk7XHJcbiAgICB0aGlzLnNldFZhbHVlKHNlbGVjdGVkVmFsdWVzLCBzZWxlY3RlZEluZGV4ZXMsIHRydWUpO1xyXG4gICAgdGhpcy5yZW5kZXJPcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVBbGxPcHRpb25zQ2xhc3MoaXNBbGxTZWxlY3RlZCkge1xyXG4gICAgaWYgKHR5cGVvZiBpc0FsbFNlbGVjdGVkICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgaXNBbGxTZWxlY3RlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICBpc0FsbFNlbGVjdGVkID0gIXRoaXMub3B0aW9ucy5zb21lKChkKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gIWQuaXNTZWxlY3RlZCAmJiAhZC5pc0Rpc2FibGVkICYmICFkLmlzR3JvdXBUaXRsZTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKHRoaXMuJHRvZ2dsZUFsbENoZWNrYm94LCAnY2hlY2tlZCcsIGlzQWxsU2VsZWN0ZWQpO1xyXG4gICAgdGhpcy5pc0FsbFNlbGVjdGVkID0gaXNBbGxTZWxlY3RlZDtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUZvY3VzZWRQcm9wKGluZGV4LCBpc0ZvY3VzZWQgPSBmYWxzZSkge1xyXG4gICAgaWYgKHRoaXMuZm9jdXNlZE9wdGlvbkluZGV4KSB7XHJcbiAgICAgIHRoaXMuc2V0T3B0aW9uUHJvcCh0aGlzLmZvY3VzZWRPcHRpb25JbmRleCwgJ2lzRm9jdXNlZCcsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldE9wdGlvblByb3AoaW5kZXgsICdpc0ZvY3VzZWQnLCBpc0ZvY3VzZWQpO1xyXG4gICAgdGhpcy5mb2N1c2VkT3B0aW9uSW5kZXggPSBpbmRleDtcclxuICB9XHJcblxyXG4gIHRvZ2dsZVNlbGVjdGVkUHJvcChpbmRleCwgaXNTZWxlY3RlZCA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLnNldE9wdGlvblByb3AoaW5kZXgsICdpc1NlbGVjdGVkJywgaXNTZWxlY3RlZCk7XHJcbiAgfVxyXG5cclxuICBzY3JvbGxUb1RvcCgpIHtcclxuICAgIGxldCBpc0Nsb3NlZCA9ICF0aGlzLmlzT3BlbmVkKCk7XHJcblxyXG4gICAgaWYgKGlzQ2xvc2VkKSB7XHJcbiAgICAgIHRoaXMub3BlbkRyb3Bib3godHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNjcm9sbFRvcCA9IHRoaXMuJG9wdGlvbnNDb250YWluZXIuc2Nyb2xsVG9wO1xyXG5cclxuICAgIGlmIChzY3JvbGxUb3AgPiAwKSB7XHJcbiAgICAgIHRoaXMuJG9wdGlvbnNDb250YWluZXIuc2Nyb2xsVG9wID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNDbG9zZWQpIHtcclxuICAgICAgdGhpcy5jbG9zZURyb3Bib3godHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMub3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIGQuaXNTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5iZWZvcmVWYWx1ZVNldCh0cnVlKTtcclxuICAgIHRoaXMuc2V0VmFsdWUobnVsbCwgbnVsbCwgdHJ1ZSk7XHJcbiAgICB0aGlzLmFmdGVyVmFsdWVTZXQoKTtcclxuICB9XHJcblxyXG4gIGJlZm9yZVZhbHVlU2V0KGlzUmVzZXQpIHtcclxuICAgIHRoaXMudG9nZ2xlQWxsT3B0aW9uc0NsYXNzKGlzUmVzZXQgPyBmYWxzZSA6IHVuZGVmaW5lZCk7XHJcbiAgfVxyXG5cclxuICBhZnRlclZhbHVlU2V0KCkge1xyXG4gICAgdGhpcy5zY3JvbGxUb1RvcCgpO1xyXG4gICAgdGhpcy5zZXRTZWFyY2hWYWx1ZSgnJyk7XHJcbiAgICB0aGlzLnJlbmRlck9wdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIGFmdGVyU2V0T3B0aW9ucyhrZWVwVmFsdWUpIHtcclxuICAgIGlmIChrZWVwVmFsdWUpIHtcclxuICAgICAgdGhpcy5zZXRTZWxlY3RlZFByb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldE9wdGlvbnNIZWlnaHQoKTtcclxuICAgIHRoaXMuc2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuXHJcbiAgICBpZiAoIWtlZXBWYWx1ZSkge1xyXG4gICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhZGRPcHRpb24oZGF0YSwgcmVyZW5kZXIpIHtcclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5sYXN0T3B0aW9uSW5kZXgrKztcclxuICAgIGRhdGEuaW5kZXggPSB0aGlzLmxhc3RPcHRpb25JbmRleDtcclxuICAgIGxldCBuZXdPcHRpb24gPSB0aGlzLmdldE9wdGlvbk9iaihkYXRhKTtcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMucHVzaChuZXdPcHRpb24pO1xyXG4gICAgdGhpcy5zb3J0ZWRPcHRpb25zLnB1c2gobmV3T3B0aW9uKTtcclxuXHJcbiAgICBpZiAocmVyZW5kZXIpIHtcclxuICAgICAgdGhpcy52aXNpYmxlT3B0aW9uc0NvdW50Kys7XHJcbiAgICAgIHRoaXMuYWZ0ZXJTZXRPcHRpb25zKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW1vdmVPcHRpb24oaW5kZXgpIHtcclxuICAgIGlmICghaW5kZXggJiYgaW5kZXggIT0gMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB0aGlzLmxhc3RPcHRpb25JbmRleC0tO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTmV3T3B0aW9uKCkge1xyXG4gICAgbGV0IG5ld09wdGlvbiA9IHRoaXMuZ2V0TmV3T3B0aW9uKCk7XHJcblxyXG4gICAgaWYgKG5ld09wdGlvbikge1xyXG4gICAgICB0aGlzLnJlbW92ZU9wdGlvbihuZXdPcHRpb24uaW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYmVmb3JlU2VsZWN0TmV3VmFsdWUoKSB7XHJcbiAgICBsZXQgbmV3T3B0aW9uID0gdGhpcy5nZXROZXdPcHRpb24oKTtcclxuICAgIGxldCBuZXdJbmRleCA9IG5ld09wdGlvbi5pbmRleDtcclxuXHJcbiAgICB0aGlzLm5ld1ZhbHVlcy5wdXNoKG5ld09wdGlvbi52YWx1ZSk7XHJcbiAgICB0aGlzLnNldE9wdGlvblByb3AobmV3SW5kZXgsICdpc0N1cnJlbnROZXcnLCBmYWxzZSk7XHJcbiAgICB0aGlzLnNldE9wdGlvblByb3AobmV3SW5kZXgsICdpc05ldycsIHRydWUpO1xyXG5cclxuICAgIC8qKiB1c2luZyBzZXRUaW1lb3V0IHRvIGZpeCB0aGUgaXNzdWUgb2YgZHJvcGJveCBnZXR0aW5nIGNsb3NlZCBvbiBzZWxlY3QgKi9cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLnNldFNlYXJjaFZhbHVlKCcnKTtcclxuICAgICAgdGhpcy5mb2N1c1NlYXJjaElucHV0KCk7XHJcbiAgICB9LCAwKTtcclxuICB9XHJcblxyXG4gIHNvcnRPcHRpb25zKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBvcHRpb25zLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgaWYgKGIudmFsdWUgPT09IG5vbmVPcHRpb25WYWx1ZSAmJiBhLnZhbHVlICE9PSBub25lT3B0aW9uVmFsdWUpIHtcclxuICAgICAgICAvLyBOb25lIGlzIGFsd2F5cyBmaXJzdFxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgICB9IGVsc2UgaWYgKCFhLmlzU2VsZWN0ZWQgJiYgIWIuaXNTZWxlY3RlZCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgICB9IGVsc2UgaWYgKGEuaXNTZWxlY3RlZCAmJiAoIWIuaXNTZWxlY3RlZCB8fCBhLmluZGV4IDwgYi5pbmRleCkpIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc29ydE9wdGlvbnNHcm91cChvcHRpb25zKSB7XHJcbiAgICBsZXQgc29ydE9wdGlvbnMgPSB0aGlzLnNvcnRPcHRpb25zO1xyXG4gICAgb3B0aW9ucyA9IHRoaXMuc3RydWN0dXJlT3B0aW9uR3JvdXAob3B0aW9ucyk7XHJcblxyXG4gICAgb3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIGxldCBjaGlsZE9wdGlvbnMgPSBkLm9wdGlvbnM7XHJcbiAgICAgIGQuaXNTZWxlY3RlZCA9IGNoaWxkT3B0aW9ucy5zb21lKChlKSA9PiBlLmlzU2VsZWN0ZWQpO1xyXG5cclxuICAgICAgaWYgKGQuaXNTZWxlY3RlZCkge1xyXG4gICAgICAgIHNvcnRPcHRpb25zKGNoaWxkT3B0aW9ucyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHNvcnRPcHRpb25zKG9wdGlvbnMpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmRlc3RydWN0dXJlT3B0aW9uR3JvdXAob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBpc09wdGlvblZpc2libGUoZCwgc2VhcmNoVmFsdWUsIGhhc0V4YWN0T3B0aW9uLCB2aXNpYmxlT3B0aW9uR3JvdXBzTWFwcGluZykge1xyXG4gICAgbGV0IHZhbHVlID0gZC5sYWJlbC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgbGV0IGRlc2NyaXB0aW9uID0gZC5kZXNjcmlwdGlvbjtcclxuICAgIGxldCBhbGlhcyA9IGQuYWxpYXM7XHJcbiAgICBsZXQgaXNWaXNpYmxlID0gdmFsdWUuaW5kZXhPZihzZWFyY2hWYWx1ZSkgIT09IC0xO1xyXG5cclxuICAgIGlmIChkLmlzR3JvdXBUaXRsZSkge1xyXG4gICAgICBpc1Zpc2libGUgPSB2aXNpYmxlT3B0aW9uR3JvdXBzTWFwcGluZ1tkLmluZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWxpYXMgJiYgIWlzVmlzaWJsZSkge1xyXG4gICAgICBpc1Zpc2libGUgPSBhbGlhcy5pbmRleE9mKHNlYXJjaFZhbHVlKSAhPT0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlc2NyaXB0aW9uICYmICFpc1Zpc2libGUpIHtcclxuICAgICAgaXNWaXNpYmxlID0gZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaFZhbHVlKSAhPT0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgZC5pc1Zpc2libGUgPSBpc1Zpc2libGU7XHJcblxyXG4gICAgaWYgKCFoYXNFeGFjdE9wdGlvbikge1xyXG4gICAgICBoYXNFeGFjdE9wdGlvbiA9IHZhbHVlID09PSBzZWFyY2hWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc1Zpc2libGUsXHJcbiAgICAgIGhhc0V4YWN0T3B0aW9uLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0cnVjdHVyZU9wdGlvbkdyb3VwKG9wdGlvbnMpIHtcclxuICAgIGxldCByZXN1bHQgPSBbXTtcclxuICAgIGxldCBjaGlsZE9wdGlvbnMgPSB7fTtcclxuXHJcbiAgICAvKiogZ2V0dGluZyBhbGwgZ3JvdXAgdGl0bGUgKi9cclxuICAgIG9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBpZiAoZC5pc0dyb3VwVGl0bGUpIHtcclxuICAgICAgICBsZXQgY2hpbGRBcnJheSA9IFtdO1xyXG4gICAgICAgIGQub3B0aW9ucyA9IGNoaWxkQXJyYXk7XHJcbiAgICAgICAgY2hpbGRPcHRpb25zW2QuaW5kZXhdID0gY2hpbGRBcnJheTtcclxuXHJcbiAgICAgICAgcmVzdWx0LnB1c2goZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKiBnZXR0aW5nIGFsbCBncm91cCBvcHRpb25zICovXHJcbiAgICBvcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgaWYgKGQuaXNHcm91cE9wdGlvbikge1xyXG4gICAgICAgIGNoaWxkT3B0aW9uc1tkLmdyb3VwSW5kZXhdLnB1c2goZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBkZXN0cnVjdHVyZU9wdGlvbkdyb3VwKG9wdGlvbnMpIHtcclxuICAgIGxldCByZXN1bHQgPSBbXTtcclxuXHJcbiAgICBvcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgcmVzdWx0LnB1c2goZCk7XHJcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoZC5vcHRpb25zKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBzZXJ2ZXJTZWFyY2goc2VhcmNoVmFsdWUpIHtcclxuICAgIERvbVV0aWxzLnJlbW92ZUNsYXNzKHRoaXMuJHdyYXBwZXIsICdoYXMtbm8tb3B0aW9ucycpO1xyXG4gICAgRG9tVXRpbHMuYWRkQ2xhc3ModGhpcy4kd3JhcHBlciwgJ3NlcnZlci1zZWFyY2hpbmcnKTtcclxuICAgIHRoaXMub25TZXJ2ZXJTZWFyY2goc2VhcmNoVmFsdWUsIHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgLyoqIHN0YXRpYyBtZXRob2RzIC0gc3RhcnQgKi9cclxuICBzdGF0aWMgaW5pdChvcHRpb25zKSB7XHJcbiAgICBsZXQgJGVsZUFycmF5ID0gb3B0aW9ucy5lbGU7XHJcblxyXG4gICAgaWYgKCEkZWxlQXJyYXkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzaW5nbGVFbGUgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAodHlwZW9mICRlbGVBcnJheSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgJGVsZUFycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigkZWxlQXJyYXkpO1xyXG5cclxuICAgICAgaWYgKCEkZWxlQXJyYXkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoJGVsZUFycmF5Lmxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICRlbGVBcnJheSA9IFskZWxlQXJyYXldO1xyXG4gICAgICBzaW5nbGVFbGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBpbnN0YW5jZXMgPSBbXTtcclxuICAgICRlbGVBcnJheS5mb3JFYWNoKCgkZWxlKSA9PiB7XHJcbiAgICAgIG9wdGlvbnMuZWxlID0gJGVsZTtcclxuICAgICAgaW5zdGFuY2VzLnB1c2gobmV3IFZpcnR1YWxTZWxlY3Qob3B0aW9ucykpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHNpbmdsZUVsZSA/IGluc3RhbmNlc1swXSA6IGluc3RhbmNlcztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjbG9zZUFsbERyb3Bib3goJGVsZVRvS2VlcE9wZW4pIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52c2NvbXAtd3JhcHBlcicpLmZvckVhY2goKCRlbGUpID0+IHtcclxuICAgICAgaWYgKCRlbGVUb0tlZXBPcGVuICYmICRlbGVUb0tlZXBPcGVuID09ICRlbGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRlbGUucGFyZW50RWxlbWVudC52aXJ0dWFsU2VsZWN0LmNsb3NlRHJvcGJveCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgcmVzZXRGb3JtKGUpIHtcclxuICAgIGxldCAkZm9ybSA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2Zvcm0nKTtcclxuXHJcbiAgICBpZiAoISRmb3JtKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAkZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcudnNjb21wLXdyYXBwZXInKS5mb3JFYWNoKCgkZWxlKSA9PiB7XHJcbiAgICAgICRlbGUucGFyZW50RWxlbWVudC52aXJ0dWFsU2VsZWN0LnJlc2V0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyByZXNldCgpIHtcclxuICAgIHRoaXMudmlydHVhbFNlbGVjdC5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldFZhbHVlTWV0aG9kKHZhbHVlLCBzaWxlbnRDaGFuZ2UpIHtcclxuICAgIHRoaXMudmlydHVhbFNlbGVjdC5zZXRWYWx1ZU1ldGhvZCh2YWx1ZSwgc2lsZW50Q2hhbmdlKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzZXRPcHRpb25zTWV0aG9kKG9wdGlvbnMpIHtcclxuICAgIHRoaXMudmlydHVhbFNlbGVjdC5zZXRPcHRpb25zTWV0aG9kKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldERpc2FibGVkT3B0aW9uc01ldGhvZChvcHRpb25zKSB7XHJcbiAgICB0aGlzLnZpcnR1YWxTZWxlY3Quc2V0RGlzYWJsZWRPcHRpb25zTWV0aG9kKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHRvZ2dsZVNlbGVjdEFsbChpc1NlbGVjdGVkKSB7XHJcbiAgICB0aGlzLnZpcnR1YWxTZWxlY3QudG9nZ2xlQWxsT3B0aW9ucyhpc1NlbGVjdGVkKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBpc0FsbFNlbGVjdGVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmlydHVhbFNlbGVjdC5pc0FsbFNlbGVjdGVkO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFkZE9wdGlvbk1ldGhvZChkYXRhKSB7XHJcbiAgICB0aGlzLnZpcnR1YWxTZWxlY3QuYWRkT3B0aW9uKGRhdGEsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldE5ld1ZhbHVlTWV0aG9kKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmlydHVhbFNlbGVjdC5nZXROZXdWYWx1ZSgpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHZlcnNpb24oKSB7XHJcbiAgICByZXR1cm4gdmlydHVhbFNlbGVjdFZlcnNpb247XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0RGlzcGxheVZhbHVlTWV0aG9kKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmlydHVhbFNlbGVjdC5nZXREaXNwbGF5VmFsdWUoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBvcGVuTWV0aG9kKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmlydHVhbFNlbGVjdC5vcGVuRHJvcGJveCgpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNsb3NlTWV0aG9kKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmlydHVhbFNlbGVjdC5jbG9zZURyb3Bib3goKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBvblJlc2l6ZU1ldGhvZCgpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52c2NvbXAtd3JhcHBlcicpLmZvckVhY2goKCRlbGUpID0+IHtcclxuICAgICAgJGVsZS5wYXJlbnRFbGVtZW50LnZpcnR1YWxTZWxlY3Qub25SZXNpemUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvKiogc3RhdGljIG1ldGhvZHMgLSBlbmQgKi9cclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCBWaXJ0dWFsU2VsZWN0LnJlc2V0Rm9ybSk7XHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBWaXJ0dWFsU2VsZWN0Lm9uUmVzaXplTWV0aG9kKTtcclxuXHJcbndpbmRvdy5WaXJ0dWFsU2VsZWN0ID0gVmlydHVhbFNlbGVjdDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==