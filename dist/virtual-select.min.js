/*!
 * Virtual Select v1.0.6
 * https://sa-si-dev.github.io/virtual-select
 * Licensed under MIT (https://github.com/sa-si-dev/virtual-select/blob/master/LICENSE)
 */(()=>{"use strict";var t={"./src/utils/dom-utils.js":
/*!********************************!*\
  !*** ./src/utils/dom-utils.js ***!
  \********************************/(t,e,i)=>{function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}i.r(e),i.d(e,{DomUtils:()=>l});var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,s;return e=t,s=[{key:"addClass",value:function(t,e){t&&(e=e.split(" "),this.getElements(t).forEach((function(t){var i;(i=t.classList).add.apply(i,o(e))})))}},{key:"removeClass",value:function(t,e){t&&(e=e.split(" "),this.getElements(t).forEach((function(t){var i;(i=t.classList).remove.apply(i,o(e))})))}},{key:"toggleClass",value:function(t,e,i){var o;if(t)return void 0!==i&&(i=Boolean(i)),this.getElements(t).forEach((function(t){o=t.classList.toggle(e,i)})),o}},{key:"hasClass",value:function(t,e){return!!t&&t.classList.contains(e)}},{key:"hasEllipsis",value:function(t){return!!t&&t.scrollWidth>t.offsetWidth}},{key:"getMoreVisibleSides",value:function(t){if(!t)return{};var e=t.getBoundingClientRect(),i=window.innerWidth,o=window.innerHeight,s=e.left,n=e.top;return{horizontal:s>i-s-e.width?"left":"right",vertical:n>o-n-e.height?"top":"bottom"}}},{key:"getData",value:function(t,e,i){if(t){var o=t?t.dataset[e]:"";return"number"===i?o=parseFloat(o)||0:"true"===o?o=!0:"false"===o&&(o=!1),o}}},{key:"setData",value:function(t,e,i){t&&(t.dataset[e]=i)}},{key:"setStyle",value:function(t,e,i){t&&(t.style[e]=i)}},{key:"getElements",value:function(t){if(t)return void 0===t.length&&(t=[t]),t}},{key:"getStyleText",value:function(t,e){var i="";for(var o in t)i+="".concat(o,": ").concat(t[o],";");return i&&!e&&(i='style="'.concat(i,'"')),i}},{key:"getAttributesText",value:function(t){var e="";if(!t)return e;for(var i in t){var o=t[i];void 0!==o&&(e+=" ".concat(i,'="').concat(o,'" '))}return e}}],(i=null)&&n(e.prototype,i),s&&n(e,s),t}()},"./src/utils/index.js":
/*!****************************!*\
  !*** ./src/utils/index.js ***!
  \****************************/(t,e,i)=>{i.r(e),i.d(e,{Utils:()=>o.Utils,DomUtils:()=>s.DomUtils});var o=i(/*! ./utils */"./src/utils/utils.js"),s=i(/*! ./dom-utils */"./src/utils/dom-utils.js")},"./src/utils/utils.js":
/*!****************************!*\
  !*** ./src/utils/utils.js ***!
  \****************************/(t,e,i)=>{function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}i.r(e),i.d(e,{Utils:()=>a});var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,s;return e=t,s=[{key:"getString",value:function(t){return t||0===t?t.toString():""}},{key:"convertToBoolean",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=!0===t||"true"===t||!1!==t&&"false"!==t&&e}},{key:"isEmpty",value:function(t){var e=!1;return t?Array.isArray(t)?0===t.length&&(e=!0):"object"===n(t)&&0===Object.keys(t).length&&(e=!0):e=!0,e}},{key:"isNotEmpty",value:function(t){return!this.isEmpty(t)}},{key:"removeItemFromArray",value:function(t,e,i){if(!Array.isArray(t)||!t.length||!e)return t;i&&(t=o(t));var s=t.indexOf(e);return-1!==s&&t.splice(s,1),t}},{key:"removeArrayEmpty",value:function(t){return Array.isArray(t)&&t.length?t.filter((function(t){return!!t})):[]}}],(i=null)&&l(e.prototype,i),s&&l(e,s),t}()}},e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={exports:{}};return t[o](s,s.exports,i),s.exports}i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};(()=>{
/*!*******************************!*\
  !*** ./src/virtual-select.js ***!
  \*******************************/
i.r(o),i.d(o,{VirtualSelect:()=>u});var t=i(/*! ./utils */"./src/utils/index.js");function e(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,s=function(){};return{s,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){r=!0,l=t},f:function(){try{a||null==i.return||i.return()}finally{if(r)throw l}}}}function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function a(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r={13:"onEnterPress",27:"onEscPress",38:"onUpArrowPress",40:"onDownArrowPress"},u=function(){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);try{this.setProps(t),this.setDisabledOptions(t.disabledOptions),this.setOptions(t.options),this.render()}catch(t){console.warn("Couldn't initiate Virtual Select"),console.error(t)}}var o,n,l;return o=i,l=[{key:"init",value:function(t){var e=t.ele;if(e){var o=!1;if("string"!=typeof e||(e=document.querySelector(e))){void 0===e.length&&(e=[e],o=!0);var s=[];return e.forEach((function(e){t.ele=e,s.push(new i(t))})),o?s[0]:s}}}},{key:"closeAllDropbox",value:function(t){document.querySelectorAll(".vscomp-wrapper").forEach((function(e){t&&t===e||e.parentElement.virtualSelect.closeDropbox()}))}},{key:"resetForm",value:function(t){var e=t.target.closest("form");e&&e.querySelectorAll(".vscomp-wrapper").forEach((function(t){t.parentElement.virtualSelect.reset()}))}},{key:"reset",value:function(){this.virtualSelect.reset()}},{key:"setValueMethod",value:function(t,e){this.virtualSelect.setValueMethod(t,e)}},{key:"setOptionsMethod",value:function(t){this.virtualSelect.setOptionsMethod(t)}},{key:"setDisabledOptionsMethod",value:function(t){this.virtualSelect.setDisabledOptionsMethod(t)}},{key:"toggleSelectAll",value:function(t){this.virtualSelect.toggleAllOptions(t)}},{key:"isAllSelected",value:function(){return this.virtualSelect.isAllSelected}},{key:"addOptionMethod",value:function(t){this.virtualSelect.addOption(t,!0)}},{key:"getNewValueMethod",value:function(){return this.virtualSelect.getNewValue()}},{key:"version",value:function(){return"v1.0.6"}},{key:"getDisplayValueMethod",value:function(){return this.virtualSelect.getDisplayValue()}},{key:"openMethod",value:function(){return this.virtualSelect.openDropbox()}},{key:"closeMethod",value:function(){return this.virtualSelect.closeDropbox()}},{key:"onResizeMethod",value:function(){document.querySelectorAll(".vscomp-wrapper").forEach((function(t){t.parentElement.virtualSelect.onResize()}))}}],(n=[{key:"render",value:function(){if(this.$ele){var e="vscomp-wrapper",i=this.getTooltipAttrText("",!this.multiple,!0),o=this.getTooltipAttrText("Clear"),s={"z-index":this.zIndex};this.additionalClasses&&(e+=" "+this.additionalClasses),this.multiple&&(e+=" multiple",this.disableSelectAll||(e+=" has-select-all")),"top"===this.position&&(e+=" position-top"),this.hideClearButton||(e+=" has-clear-button"),this.keepAlwaysOpen?e+=" keep-always-open opened":e+=" closed",this.showAsPopup?e+=" show-as-popup":this.dropboxWidth&&(s.width=this.dropboxWidth),this.hasSearch&&(e+=" has-search-input");var n='<div class="'.concat(e,'" tabindex="0">\n        <input type="hidden" name="').concat(this.name,'" class="vscomp-hidden-input">\n\n        <div class="vscomp-toggle-button">\n          <div class="vscomp-value" ').concat(i,">\n            ").concat(this.placeholder,'\n          </div>\n\n          <div class="vscomp-arrow"></div>\n\n          <div class="vscomp-clear-button toggle-button-child" ').concat(o,'>\n            <i class="vscomp-clear-icon"></i>\n          </div>\n        </div>\n\n        <div class="vscomp-dropbox-container" ').concat(t.DomUtils.getStyleText(s),'>\n          <div class="vscomp-dropbox">\n            <div class="vscomp-search-wrapper"></div>\n\n            <div class="vscomp-options-container">\n              <div class="vscomp-options-loader"></div>\n\n              <div class="vscomp-options-list">\n                <div class="vscomp-options"></div>\n              </div>\n            </div>\n\n            <div class="vscomp-no-options">').concat(this.noOptionsText,'</div>\n            <div class="vscomp-no-search-results">').concat(this.noSearchResultsText,'</div>\n\n            <span class="vscomp-dropbox-close-button"><i class="vscomp-clear-icon"></i></span>\n          </div>\n        </div>\n      </div>');this.$ele.innerHTML=n,this.$body=document.querySelector("body"),this.$wrapper=this.$ele.querySelector(".vscomp-wrapper"),this.$toggleButton=this.$ele.querySelector(".vscomp-toggle-button"),this.$clearButton=this.$ele.querySelector(".vscomp-clear-button"),this.$dropboxContainer=this.$ele.querySelector(".vscomp-dropbox-container"),this.$dropboxCloseButton=this.$ele.querySelector(".vscomp-dropbox-close-button"),this.$search=this.$ele.querySelector(".vscomp-search-wrapper"),this.$optionsContainer=this.$ele.querySelector(".vscomp-options-container"),this.$optionsList=this.$ele.querySelector(".vscomp-options-list"),this.$options=this.$ele.querySelector(".vscomp-options"),this.$valueText=this.$ele.querySelector(".vscomp-value"),this.$hiddenInput=this.$ele.querySelector(".vscomp-hidden-input"),this.$noOptions=this.$ele.querySelector(".vscomp-no-options"),this.$noSearchResults=this.$ele.querySelector(".vscomp-no-search-results"),this.afterRenderWrapper()}}},{key:"renderOptions",value:function(){var e,i=this,o="",s=this.getVisibleOptions(),n="",l="",a=!(!this.markSearchResults||!this.searchValue),r=t.DomUtils.getStyleText({height:this.optionHeight+"px"});if(a&&(e=new RegExp("(".concat(this.searchValue,")"),"gi")),this.multiple&&(n='<span class="checkbox-icon"></span>'),this.allowNewOption){var u=this.getTooltipAttrText("New Option");l='<span class="vscomp-new-option-icon" '.concat(u,"></span>")}s.forEach((function(t){var s=t.label,u="vscomp-option",p=i.getTooltipAttrText("",!0),c=n,h="",d="";t.isFocused&&(u+=" focused"),t.isDisabled&&(u+=" disabled"),t.isGroupTitle?(u+=" group-title",c=""):t.isSelected&&(u+=" selected"),t.isGroupOption&&(u+=" group-option"),t.description&&(d='<div class="vscomp-option-description" '.concat(p,">").concat(t.description,"</div>")),t.isCurrentNew?(u+=" current-new",h+=l):a&&!t.isGroupTitle&&(s=s.replace(e,"<mark>$1</mark>")),o+='<div class="'.concat(u,'" data-value="').concat(t.value,'" data-index="').concat(t.index,'" data-visible-index="').concat(t.visibleIndex,'" ').concat(r,">\n          ").concat(c,'\n          <span class="vscomp-option-text" ').concat(p,">\n            ").concat(s,"\n          </span>\n          ").concat(d,"\n          ").concat(h,"\n        </div>")})),this.$options.innerHTML=o;var p=!this.options.length,c=!p&&!s.length;this.allowNewOption||t.DomUtils.toggleClass(this.$wrapper,"has-no-search-results",c),t.DomUtils.toggleClass(this.$wrapper,"has-no-options",p),this.setOptionsPosition(),this.setOptionsTooltip()}},{key:"renderSearch",value:function(){if(this.hasSearchContainer){var t="",e="";this.multiple&&!this.disableSelectAll&&(t='<span class="vscomp-toggle-all-button">\n          <span class="checkbox-icon vscomp-toggle-all-checkbox"></span>\n          <span class="vscomp-toggle-all-label">'.concat(this.selectAllText,"</span>\n        </span>")),this.hasSearch&&(e='<input type="text" class="vscomp-search-input" placeholder="'.concat(this.searchPlaceholder,'">\n      <span class="vscomp-search-clear">&times;</span>'));var i='<div class="vscomp-search-container">\n        '.concat(t,"\n        ").concat(e,"\n      </div>");this.$search.innerHTML=i,this.$searchInput=this.$ele.querySelector(".vscomp-search-input"),this.$searchClear=this.$ele.querySelector(".vscomp-search-clear"),this.$toggleAllButton=this.$ele.querySelector(".vscomp-toggle-all-button"),this.$toggleAllCheckbox=this.$ele.querySelector(".vscomp-toggle-all-checkbox"),this.addEvent(this.$searchInput,"keyup change","onSearch"),this.addEvent(this.$searchClear,"click","onSearchClear"),this.addEvent(this.$toggleAllButton,"click","onToggleAllOptions")}}},{key:"addEvents",value:function(){this.addEvent(document,"click","onDocumentClick"),this.addEvent(this.$wrapper,"keydown","onKeyDown"),this.addEvent(this.$toggleButton,"click","onToggleButtonClick"),this.addEvent(this.$clearButton,"click","onClearButtonClick"),this.addEvent(this.$dropboxContainer,"click","onDropboxContainerClick"),this.addEvent(this.$dropboxCloseButton,"click","onDropboxCloseButtonClick"),this.overrideScrollEventSelector?this.addEvent(this.$ele.querySelector(this.overrideScrollEventSelector),"scroll","onOptionsScroll"):this.addEvent(this.$optionsContainer,"scroll","onOptionsScroll"),this.addEvent(this.$options,"click","onOptionsClick"),this.addEvent(this.$options,"mouseover","onOptionsMouseOver"),this.addEvent(this.$options,"touchmove","onOptionsTouchMove")}},{key:"addEvent",value:function(e,i,o){var s=this;e&&(i=t.Utils.removeArrayEmpty(i.split(" "))).forEach((function(i){var n="".concat(o,"-").concat(i),l=s.events[n];l||(l=s[o].bind(s),s.events[n]=l),(e=t.DomUtils.getElements(e)).forEach((function(t){t.addEventListener(i,l)}))}))}},{key:"dispatchEvent",value:function(e,i){e&&(e=t.DomUtils.getElements(e),setTimeout((function(){e.forEach((function(t){t.dispatchEvent(new Event(i,{bubbles:!0}))}))}),0))}},{key:"onDocumentClick",value:function(t){i.closeAllDropbox(t.target.closest(".vscomp-wrapper"))}},{key:"onKeyDown",value:function(t){var e=t.which||t.keyCode,i=r[e];i&&this[i](t)}},{key:"onEnterPress",value:function(){this.isOpened()?this.selectFocusedOption():this.openDropbox()}},{key:"onEscPress",value:function(){this.isOpened()&&this.closeDropbox()}},{key:"onDownArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption("next"):this.openDropbox()}},{key:"onUpArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption("previous"):this.openDropbox()}},{key:"onToggleButtonClick",value:function(t){t.target.closest(".toggle-button-child")||this.toggleDropbox()}},{key:"onClearButtonClick",value:function(){this.reset()}},{key:"onOptionsScroll",value:function(){this.setVisibleOptions()}},{key:"onOptionsClick",value:function(t){this.selectOption(t.target.closest(".vscomp-option:not(.disabled):not(.group-title)"))}},{key:"onDropboxContainerClick",value:function(t){t.target.closest(".vscomp-dropbox")||this.closeDropbox()}},{key:"onDropboxCloseButtonClick",value:function(){this.closeDropbox()}},{key:"onOptionsMouseOver",value:function(t){var e=t.target.closest(".vscomp-option:not(.disabled):not(.group-title)");e&&this.focusOption(null,e)}},{key:"onOptionsTouchMove",value:function(){this.removeOptionFocus()}},{key:"onSearch",value:function(t){t.stopPropagation(),this.setSearchValue(t.target.value,!0)}},{key:"onSearchClear",value:function(){this.setSearchValue(""),this.focusSearchInput()}},{key:"onToggleAllOptions",value:function(){this.toggleAllOptions()}},{key:"onResize",value:function(){this.setOptionsContainerHeight(!0)}},{key:"afterRenderWrapper",value:function(){this.$ele.setAttribute("name",this.name),t.DomUtils.addClass(this.$ele,"vscomp-ele"),this.renderSearch(),this.setOptionsHeight(),this.setVisibleOptions(),this.setOptionsContainerHeight(),this.addEvents(),this.setMethods(),this.initialSelectedValue?this.setValueMethod(this.initialSelectedValue,this.silentInitialValueSet):this.autoSelectFirstOption&&this.visibleOptions.length&&this.setValueMethod(this.visibleOptions[0].value,this.silentInitialValueSet)}},{key:"afterSetOptionsContainerHeight",value:function(t){t&&this.showAsPopup&&this.setVisibleOptions()}},{key:"setProps",value:function(e){e=this.setDefaultProps(e),this.setPropsFromElementAttr(e);var i=t.Utils.convertToBoolean;this.$ele=e.ele,this.valueKey=e.valueKey,this.labelKey=e.labelKey,this.descriptionKey=e.descriptionKey,this.aliasKey=e.aliasKey,this.optionHeightText=e.optionHeight,this.optionHeight=parseFloat(this.optionHeightText),this.multiple=i(e.multiple),this.hasSearch=i(e.search),this.hideClearButton=i(e.hideClearButton),this.autoSelectFirstOption=i(e.autoSelectFirstOption),this.hasOptionDescription=i(e.hasOptionDescription),this.silentInitialValueSet=i(e.silentInitialValueSet),this.allowNewOption=i(e.allowNewOption),this.markSearchResults=i(e.markSearchResults),this.showSelectedOptionsFirst=i(e.showSelectedOptionsFirst),this.disableSelectAll=i(e.disableSelectAll),this.keepAlwaysOpen=i(e.keepAlwaysOpen),this.showDropboxAsPopup=i(e.showDropboxAsPopup),this.noOptionsText=e.noOptionsText,this.noSearchResultsText=e.noSearchResultsText,this.selectAllText=e.selectAllText,this.placeholder=e.placeholder,this.position=e.position,this.dropboxWidth=e.dropboxWidth,this.tooltipFontSize=e.tooltipFontSize,this.tooltipAlignment=e.tooltipAlignment,this.tooltipMaxWidth=e.tooltipMaxWidth,this.noOfDisplayValues=parseInt(e.noOfDisplayValues),this.zIndex=parseInt(e.zIndex),this.maxValues=parseInt(e.maxValues),this.name=e.name,this.additionalClasses=e.additionalClasses,this.initialSelectedValue=e.selectedValue,this.popupDropboxBreakpoint=e.popupDropboxBreakpoint,this.onServerSearch=e.onServerSearch,this.searchPlaceholder=e.searchPlaceholder,this.selectedValues=[],this.newValues=[],this.events={},this.tooltipEnterDelay=200,this.transitionDuration=250,this.searchValue="",this.searchValueOriginal="",this.isAllSelected=!1,(void 0===e.search&&this.multiple||this.allowNewOption)&&(this.hasSearch=!0),this.maxValues&&(this.disableSelectAll=!0),this.hasServerSearch="function"==typeof this.onServerSearch,this.showAsPopup=this.showDropboxAsPopup&&!this.keepAlwaysOpen&&window.innerWidth<=parseFloat(this.popupDropboxBreakpoint),this.hasSearchContainer=this.hasSearch||this.multiple&&!this.disableSelectAll,this.optionsCount=this.getOptionsCount(e.optionsCount),this.halfOptionsCount=Math.ceil(this.optionsCount/2),this.optionsHeight=this.getOptionsHeight()}},{key:"setDefaultProps",value:function(t){var e={valueKey:"value",labelKey:"label",descriptionKey:"description",aliasKey:"alias",optionsCount:5,noOfDisplayValues:50,optionHeight:"40px",multiple:!1,hideClearButton:!1,autoSelectFirstOption:!1,hasOptionDescription:!1,silentInitialValueSet:!1,disableSelectAll:!1,noOptionsText:"No options found",noSearchResultsText:"No results found",selectAllText:"Select All",placeholder:"Select",position:"auto",zIndex:1,allowNewOption:!1,markSearchResults:!1,tooltipFontSize:"14px",tooltipAlignment:"center",tooltipMaxWidth:"300px",showSelectedOptionsFirst:!1,name:"",additionalClasses:"",keepAlwaysOpen:!1,maxValues:0,showDropboxAsPopup:!0,popupDropboxBreakpoint:"576px",searchPlaceholder:"Search..."};return t.hasOptionDescription&&(e.optionsCount=4,e.optionHeight="60px"),Object.assign(e,t)}},{key:"setPropsFromElementAttr",value:function(t){var e=t.ele,i={multiple:"multiple",placeholder:"placeholder",name:"name","data-value-key":"valueKey","data-label-key":"labelKey","data-description-key":"descriptionKey","data-alias-key":"aliasKey","data-search":"search","data-hide-clear-button":"hideClearButton","data-auto-select-first-option":"autoSelectFirstOption","data-has-option-description":"hasOptionDescription","data-options-count":"optionsCount","data-option-height":"optionHeight","data-position":"position","data-no-options-text":"noOptionsText","data-no-search-results-text":"noSearchResultsText","data-select-all-text":"selectAllText","data-silent-initial-value-set":"silentInitialValueSet","data-dropbox-width":"dropboxWidth","data-z-index":"zIndex","data-no-of-display-values":"noOfDisplayValues","data-allow-new-option":"allowNewOption","data-mark-search-results":"markSearchResults","data-tooltip-font-size":"tooltipFontSize","data-tooltip-alignment":"tooltipAlignment","data-tooltip-max-width":"tooltipMaxWidth","data-show-selected-options-first":"showSelectedOptionsFirst","data-disable-select-all":"disableSelectAll","data-keep-always-open":"keepAlwaysOpen","data-max-values":"maxValues","data-additional-classes":"additionalClasses","data-show-dropbox-as-popup":"showDropboxAsPopup","data-popup-dropbox-breakpoint":"popupDropboxBreakpoint"};for(var o in i){var s=e.getAttribute(o);"multiple"!==o||""!==s&&"true"!==s||(s=!0),s&&(t[i[o]]=s)}}},{key:"setMethods",value:function(){var t=this.$ele;t.virtualSelect=this,t.value=this.multiple?[]:"",t.reset=i.reset,t.setValue=i.setValueMethod,t.setOptions=i.setOptionsMethod,t.setDisabledOptions=i.setDisabledOptionsMethod,t.toggleSelectAll=i.toggleSelectAll,t.isAllSelected=i.isAllSelected,t.addOption=i.addOptionMethod,t.getNewValue=i.getNewValueMethod,t.getDisplayValue=i.getDisplayValueMethod,t.open=i.openMethod,t.close=i.closeMethod}},{key:"setValueMethod",value:function(t,e){Array.isArray(t)||(t=[t]),t=t.map((function(t){return t||0==t?t.toString():""}));var i=[];this.options.forEach((function(e){-1===t.indexOf(e.value)||e.isDisabled||e.isGroupTitle?e.isSelected=!1:(e.isSelected=!0,i.push(e.value))})),this.multiple||(i=i[0]),this.beforeValueSet(),this.setValue(i,!e),this.afterValueSet()}},{key:"setOptionsMethod",value:function(t,e){this.setOptions(t),this.afterSetOptions(e)}},{key:"setDisabledOptionsMethod",value:function(t){this.setDisabledOptions(t,!0),this.setValueMethod(null),this.setVisibleOptions()}},{key:"setDisabledOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=t.map((function(t){return t.toString()})),this.disabledOptions=t,e&&t.length&&this.options.forEach((function(e){return e.isDisabled=-1!==t.indexOf(e.value),e}))}},{key:"setOptions",value:function(e){e||(e=[]);var i=[],o=this.disabledOptions,s=o.length,n=this.valueKey,l=this.labelKey,a=this.descriptionKey,r=this.aliasKey,u=this.hasOptionDescription,p=t.Utils.getString,c=this.getAlias,h=0,d=!1;e.forEach((function t(e){var v=p(e[n]),f=e.options,y=!!f,g={index:h,value:v,label:p(e[l]),alias:c(e[r]),isVisible:!0,isGroupTitle:y};if(s&&(g.isDisabled=-1!==o.indexOf(v)),e.isGroupOption&&(g.isGroupOption=!0,g.groupIndex=e.groupIndex),u&&(g.description=p(e[a])),i.push(g),h++,y){var m=g.index;d=!0,f.forEach((function(e){e.isGroupOption=!0,e.groupIndex=m,t(e)}))}})),this.options=i,this.visibleOptionsCount=i.length,this.lastOptionIndex=this.options.length-1,this.newValues=[],this.hasOptionGroup=d,this.setSortedOptions()}},{key:"setServerOptions",value:function(e){this.setOptionsMethod(e,!0),t.DomUtils.removeClass(this.$wrapper,"server-searching")}},{key:"setSortedOptions",value:function(){var t=s(this.options);this.showSelectedOptionsFirst&&this.selectedValues.length&&(t=this.hasOptionGroup?this.sortOptionsGroup(t):this.sortOptions(t)),this.sortedOptions=t}},{key:"setVisibleOptions",value:function(){var t=s(this.sortedOptions),e=2*this.optionsCount,i=this.getVisibleStartIndex(),o=this.getNewOption(),n=i+e-1,l=0;o&&(o.visibleIndex=l,l++),t=t.filter((function(t){var e=!1;return t.isVisible&&!t.isCurrentNew&&(e=l>=i&&l<=n,t.visibleIndex=l,l++),e})),o&&(t=[o].concat(s(t))),this.visibleOptions=t,this.renderOptions()}},{key:"setOptionsPosition",value:function(e){void 0===e&&(e=this.getVisibleStartIndex());var i=e*this.optionHeight;this.$options.style.transform="translate3d(0, ".concat(i,"px, 0)"),t.DomUtils.setData(this.$options,"top",i)}},{key:"setOptionsTooltip",value:function(){var e=this,i=this.getVisibleOptions(),o=this.hasOptionDescription;i.forEach((function(i){var s=e.$dropboxContainer.querySelector('.vscomp-option[data-index="'.concat(i.index,'"]'));t.DomUtils.setData(s.querySelector(".vscomp-option-text"),"tooltip",i.label),o&&t.DomUtils.setData(s.querySelector(".vscomp-option-description"),"tooltip",i.description)}))}},{key:"setValue",value:function(e,i){e?Array.isArray(e)?this.selectedValues=s(e):this.selectedValues=[e]:this.selectedValues=[];var o=this.multiple?this.selectedValues:this.selectedValues[0]||"";this.$ele.value=o,this.$hiddenInput.value=o,this.isMaxValuesSelected=!!(this.maxValues&&this.maxValues<=this.selectedValues.length),this.setValueText(),t.DomUtils.toggleClass(this.$wrapper,"has-value",t.Utils.isNotEmpty(this.selectedValues)),t.DomUtils.toggleClass(this.$wrapper,"max-value-selected",this.isMaxValuesSelected),i&&this.dispatchEvent(this.$ele,"change")}},{key:"setValueText",value:function(){var i=[],o=[],s=this.selectedValues,n=s.length,l=this.noOfDisplayValues,a=0;if(this.isAllSelected)this.$valueText.innerHTML="All (".concat(n,")");else{var r,u=e(this.options);try{for(u.s();!(r=u.n()).done;){var p=r.value;if(!p.isCurrentNew){if(a>50)break;var c=p.value;if(-1!==s.indexOf(c)){var h=p.label;i.push(h),++a<=l&&o.push('<span class="vscomp-value-tag">'.concat(h,"</span>"))}}}}catch(t){u.e(t)}finally{u.f()}var d=n-l;d>0&&o.push('<span class="vscomp-value-tag more-value-count">+ '.concat(d," more...</span>"));var v=i.join(", ");if(""===v)this.$valueText.innerHTML=this.placeholder;else if(this.$valueText.innerHTML=v,this.multiple){var f=this.maxValues;if(t.DomUtils.hasEllipsis(this.$valueText)||f){var y="".concat(n);f&&(y+=" / ".concat(f)),this.$valueText.innerHTML="".concat(y," option").concat(1===n?"":"s"," selected")}else o=[]}}t.DomUtils.setData(this.$valueText,"tooltip",o.join(", "))}},{key:"setSearchValue",value:function(e,i){if(e!==this.searchValueOriginal){i||(this.$searchInput.value=e);var o=e.toLowerCase().trim();if(this.searchValue=o,this.searchValueOriginal=e,t.DomUtils.toggleClass(this.$wrapper,"has-search-value",e),this.hasServerSearch)this.serverSearch(o);else{var s,n=0,l=!1,a=this.isOptionVisible;this.hasOptionGroup&&(s=this.getVisibleOptionGroupsMapping(o)),this.options.forEach((function(t){if(!t.isCurrentNew){var e=a(t,o,l,s);e.isVisible&&n++,l||(l=e.hasExactOption)}})),this.allowNewOption&&(o&&!l?(this.setNewOption(),n++):this.removeNewOption()),this.visibleOptionsCount=n,this.scrollToTop(),this.setOptionsHeight(),this.setVisibleOptions()}}}},{key:"setOptionProp",value:function(t,e,i){this.options[t]&&(this.options[t][e]=i)}},{key:"setOptionsHeight",value:function(){this.$optionsList.style.height=this.optionHeight*this.visibleOptionsCount+"px"}},{key:"setOptionsContainerHeight",value:function(e){var i;e?this.showAsPopup&&(this.optionsCount=this.getOptionsCount(),i=this.getOptionsHeight(),this.optionsHeight=i):(i=this.optionsHeight,this.keepAlwaysOpen&&(t.DomUtils.setStyle(this.$noOptions,"height",i),t.DomUtils.setStyle(this.$noSearchResults,"height",i))),t.DomUtils.setStyle(this.$optionsContainer,"max-height",i),this.afterSetOptionsContainerHeight(e)}},{key:"setDropboxPosition",value:function(){if("auto"===this.position){var e=t.DomUtils.getMoreVisibleSides(this.$wrapper),i=!1;if(this.dropboxWidth){var o=this.$toggleButton.getBoundingClientRect(),s=window.innerWidth,n=parseFloat(this.dropboxWidth),l=o.left+n>s,a=n>o.right;l&&!a&&(i=!0)}t.DomUtils.toggleClass(this.$wrapper,"position-top","top"===e.vertical),t.DomUtils.toggleClass(this.$wrapper,"position-left",i)}}},{key:"setNewOption",value:function(){var t=this.searchValueOriginal.trim();if(t){var e=this.getNewOption();if(e){var i=e.index;this.setOptionProp(i,"value",t),this.setOptionProp(i,"label",t)}else{var o={value:t,label:t,isCurrentNew:!0};this.addOption(o)}}}},{key:"setSelectedProp",value:function(){var t=this.selectedValues;this.options.forEach((function(e){-1!==t.indexOf(e.value)&&(e.isSelected=!0)}))}},{key:"getVisibleOptions",value:function(){return this.visibleOptions||[]}},{key:"getValue",value:function(){return this.multiple?this.selectedValues:this.selectedValues[0]}},{key:"getFirstVisibleOptionIndex",value:function(){return Math.ceil(this.$optionsContainer.scrollTop/this.optionHeight)}},{key:"getVisibleStartIndex",value:function(){var t=this.getFirstVisibleOptionIndex()-this.halfOptionsCount;return t<0&&(t=0),t}},{key:"getTooltipAttrText",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s={"data-tooltip":e||"","data-tooltip-enter-delay":this.tooltipEnterDelay,"data-tooltip-z-index":this.zIndex,"data-tooltip-font-size":this.tooltipFontSize,"data-tooltip-alignment":this.tooltipAlignment,"data-tooltip-max-width":this.tooltipMaxWidth,"data-tooltip-ellipsis-only":i,"data-tooltip-allow-html":o};return t.DomUtils.getAttributesText(s)}},{key:"getOptionObj",value:function(e){if(e){var i=t.Utils.getString;return{index:e.index,value:i(e.value),label:i(e.label),description:i(e.description),alias:this.getAlias(e.alias),isCurrentNew:e.isCurrentNew||!1,isVisible:!0}}}},{key:"getNewOption",value:function(){var t=this.options[this.lastOptionIndex];if(t&&t.isCurrentNew)return t}},{key:"getOptionIndex",value:function(t){var e;return t&&this.options.some((function(i){if(i.value==t)return e=i.index,!0})),e}},{key:"getNewValue",value:function(){var t=this.newValues,e=this.selectedValues.filter((function(e){return-1!==t.indexOf(e)}));return this.multiple?e:e[0]}},{key:"getAlias",value:function(t){return t=t?(t=Array.isArray(t)?t.join(","):t.toString().trim()).toLowerCase():""}},{key:"getDisplayValue",value:function(){var t,i=[],o=this.selectedValues,s=e(this.options);try{for(s.s();!(t=s.n()).done;){var n=t.value;-1!==o.indexOf(n.value)&&i.push(n.label)}}catch(t){s.e(t)}finally{s.f()}return this.multiple?i:i[0]||""}},{key:"getVisibleOptionGroupsMapping",value:function(t){var e=this.options,i={},o=this.isOptionVisible;return(e=this.structureOptionGroup(e)).forEach((function(e){i[e.index]=e.options.some((function(e){return o(e,t).isVisible}))})),i}},{key:"getOptionsCount",value:function(t){if(this.showAsPopup){var e=80*window.innerHeight/100-48;this.hasSearchContainer&&(e-=40),t=Math.floor(e/this.optionHeight)}else t=parseInt(t);return t}},{key:"getOptionsHeight",value:function(){return this.optionsCount*this.optionHeight+"px"}},{key:"getSibling",value:function(e,i){var o="next"===i?"nextElementSibling":"previousElementSibling";do{e&&(e=e[o])}while(t.DomUtils.hasClass(e,"disabled")||t.DomUtils.hasClass(e,"group-title"));return e}},{key:"openDropbox",value:function(e){var i=this;this.setDropboxPosition(),t.DomUtils.removeClass(this.$wrapper,"closed"),setTimeout((function(){t.DomUtils.addClass(i.$wrapper,"opened"),e||(i.moveSelectedOptionsFirst(),t.DomUtils.addClass(i.$wrapper,"focused"),i.showAsPopup?(t.DomUtils.addClass(i.$body,"vscomp-popup-active"),i.isPopupActive=!0):i.focusSearchInput())}),0)}},{key:"closeDropbox",value:function(e){var i=this;if(this.keepAlwaysOpen)this.removeOptionFocus();else{var o=e?0:this.transitionDuration;setTimeout((function(){t.DomUtils.removeClass(i.$wrapper,"opened focused"),i.removeOptionFocus(),e||i.isPopupActive&&(t.DomUtils.removeClass(i.$body,"vscomp-popup-active"),i.isPopupActive=!1)}),0),setTimeout((function(){t.DomUtils.addClass(i.$wrapper,"closed")}),o)}}},{key:"moveSelectedOptionsFirst",value:function(){this.showSelectedOptionsFirst&&(this.setSortedOptions(),this.$optionsContainer.scrollTop&&this.selectedValues.length?this.scrollToTop():this.setVisibleOptions())}},{key:"toggleDropbox",value:function(){this.isOpened()?this.closeDropbox():this.openDropbox()}},{key:"isOpened",value:function(){return t.DomUtils.hasClass(this.$wrapper,"opened")}},{key:"focusSearchInput",value:function(){var t=this.$searchInput;t&&t.focus()}},{key:"focusOption",value:function(e,i){var o,s=this.$dropboxContainer.querySelector(".vscomp-option.focused");if(i)o=i;else if(s)o=this.getSibling(s,e);else{var n=this.getFirstVisibleOptionIndex();o=this.$dropboxContainer.querySelector('.vscomp-option[data-visible-index="'.concat(n,'"]')),(t.DomUtils.hasClass(o,"disabled")||t.DomUtils.hasClass(o,"group-title"))&&(o=this.getSibling(o,"next"))}o&&o!==s&&(s&&t.DomUtils.removeClass(s,"focused"),t.DomUtils.addClass(o,"focused"),this.toggleFocusedProp(t.DomUtils.getData(o,"index"),!0),this.moveFocusedOptionToView(o))}},{key:"moveFocusedOptionToView",value:function(e){if(e||(e=this.$dropboxContainer.querySelector(".vscomp-option.focused")),e){var i,o=this.$optionsContainer.getBoundingClientRect(),s=e.getBoundingClientRect(),n=o.top,l=o.bottom,a=o.height,r=s.top,u=s.bottom,p=s.height,c=e.offsetTop,h=t.DomUtils.getData(this.$options,"top","number");n>r?i=c+h:l<u&&(i=c-a+p+h),void 0!==i&&(this.$optionsContainer.scrollTop=i)}}},{key:"removeOptionFocus",value:function(){var e=this.$dropboxContainer.querySelector(".vscomp-option.focused");e&&(t.DomUtils.removeClass(e,"focused"),this.toggleFocusedProp(null))}},{key:"selectOption",value:function(e){if(e){var i=!t.DomUtils.hasClass(e,"selected");if(i){if(this.multiple&&this.isMaxValuesSelected)return}else if(!this.multiple)return void this.closeDropbox();var o=this.selectedValues,s=t.DomUtils.getData(e,"value"),n=t.DomUtils.getData(e,"index");if(this.toggleSelectedProp(n,i),i){if(this.multiple)o.push(s),this.toggleAllOptionsClass();else{o.length&&this.toggleSelectedProp(this.getOptionIndex(o[0]),!1),o=[s];var l=this.$ele.querySelector(".vscomp-option.selected");l&&t.DomUtils.toggleClass(l,"selected",!1),this.closeDropbox()}t.DomUtils.toggleClass(e,"selected")}else this.multiple&&(t.DomUtils.toggleClass(e,"selected"),t.Utils.removeItemFromArray(o,s),this.toggleAllOptionsClass(!1));t.DomUtils.hasClass(e,"current-new")&&this.beforeSelectNewValue(),this.setValue(o,!0)}}},{key:"selectFocusedOption",value:function(){this.selectOption(this.$dropboxContainer.querySelector(".vscomp-option.focused"))}},{key:"toggleAllOptions",value:function(e){if(this.multiple&&!this.disableSelectAll){"boolean"!=typeof e&&(e=!t.DomUtils.hasClass(this.$toggleAllCheckbox,"checked"));var i=[];this.options.forEach((function(t){t.isDisabled||t.isCurrentNew||t.isGroupTitle||(t.isSelected=e,e&&i.push(t.value))})),this.toggleAllOptionsClass(e),this.setValue(i,!0),this.renderOptions()}}},{key:"toggleAllOptionsClass",value:function(e){"boolean"!=typeof e&&(e=!1,this.options.length&&(e=!this.options.some((function(t){return!t.isSelected&&!t.isDisabled&&!t.isGroupTitle})))),t.DomUtils.toggleClass(this.$toggleAllCheckbox,"checked",e),this.isAllSelected=e}},{key:"toggleFocusedProp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.focusedOptionIndex&&this.setOptionProp(this.focusedOptionIndex,"isFocused",!1),this.setOptionProp(t,"isFocused",e),this.focusedOptionIndex=t}},{key:"toggleSelectedProp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setOptionProp(t,"isSelected",e)}},{key:"scrollToTop",value:function(){var t=!this.isOpened();t&&this.openDropbox(!0),this.$optionsContainer.scrollTop>0&&(this.$optionsContainer.scrollTop=0),t&&this.closeDropbox(!0)}},{key:"reset",value:function(){this.options.forEach((function(t){t.isSelected=!1})),this.beforeValueSet(!0),this.setValue(null,!0),this.afterValueSet()}},{key:"beforeValueSet",value:function(t){this.toggleAllOptionsClass(!t&&void 0)}},{key:"afterValueSet",value:function(){this.scrollToTop(),this.setSearchValue(""),this.renderOptions()}},{key:"afterSetOptions",value:function(t){t&&this.setSelectedProp(),this.setOptionsHeight(),this.setVisibleOptions(),t||this.reset()}},{key:"addOption",value:function(t,e){if(t){this.lastOptionIndex++,t.index=this.lastOptionIndex;var i=this.getOptionObj(t);this.options.push(i),this.sortedOptions.push(i),e&&(this.visibleOptionsCount++,this.afterSetOptions())}}},{key:"removeOption",value:function(t){(t||0==t)&&(this.options.splice(t,1),this.lastOptionIndex--)}},{key:"removeNewOption",value:function(){var t=this.getNewOption();t&&this.removeOption(t.index)}},{key:"beforeSelectNewValue",value:function(){var t=this,e=this.getNewOption(),i=e.index;this.newValues.push(e.value),this.setOptionProp(i,"isCurrentNew",!1),this.setOptionProp(i,"isNew",!0),setTimeout((function(){t.setSearchValue(""),t.focusSearchInput()}),0)}},{key:"sortOptions",value:function(t){return t.sort((function(t,e){return t.isSelected||e.isSelected?t.isSelected&&(!e.isSelected||t.index<e.index)?-1:1:0}))}},{key:"sortOptionsGroup",value:function(t){var e=this.sortOptions;return(t=this.structureOptionGroup(t)).forEach((function(t){var i=t.options;t.isSelected=i.some((function(t){return t.isSelected})),t.isSelected&&e(i)})),e(t),this.destructureOptionGroup(t)}},{key:"isOptionVisible",value:function(t,e,i,o){var s=t.label.toLowerCase(),n=t.description,l=t.alias,a=-1!==s.indexOf(e);return t.isGroupTitle&&(a=o[t.index]),l&&!a&&(a=-1!==l.indexOf(e)),n&&!a&&(a=-1!==n.toLowerCase().indexOf(e)),t.isVisible=a,i||(i=s===e),{isVisible:a,hasExactOption:i}}},{key:"structureOptionGroup",value:function(t){var e=[],i={};return t.forEach((function(t){if(t.isGroupTitle){var o=[];t.options=o,i[t.index]=o,e.push(t)}})),t.forEach((function(t){t.isGroupOption&&i[t.groupIndex].push(t)})),e}},{key:"destructureOptionGroup",value:function(t){var e=[];return t.forEach((function(t){e.push(t),e=e.concat(t.options)})),e}},{key:"serverSearch",value:function(e){t.DomUtils.removeClass(this.$wrapper,"has-no-options"),t.DomUtils.addClass(this.$wrapper,"server-searching"),this.onServerSearch(e,this)}}])&&a(o.prototype,n),l&&a(o,l),i}();document.addEventListener("reset",u.resetForm),window.addEventListener("resize",u.onResizeMethod),window.VirtualSelect=u})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXJ0dWFsLXNlbGVjdC8uL3NyYy91dGlscy9kb20tdXRpbHMuanMiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3QvLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3ZpcnR1YWwtc2VsZWN0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3Qvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly92aXJ0dWFsLXNlbGVjdC8uL3NyYy92aXJ0dWFsLXNlbGVjdC5qcyJdLCJuYW1lcyI6WyJEb21VdGlscyIsIiRlbGUiLCJjbGFzc05hbWUiLCJzcGxpdCIsInRoaXMiLCJnZXRFbGVtZW50cyIsImZvckVhY2giLCJfdGhpcyIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImlzQWRkIiwiaXNBZGRlZCIsInVuZGVmaW5lZCIsIkJvb2xlYW4iLCJ0b2dnbGUiLCJjb250YWlucyIsInNjcm9sbFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJib3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhdmFpbGFibGVXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJhdmFpbGFibGVIZWlnaHQiLCJpbm5lckhlaWdodCIsImxlZnRBcmVhIiwibGVmdCIsInRvcEFyZWEiLCJ0b3AiLCJob3Jpem9udGFsIiwid2lkdGgiLCJ2ZXJ0aWNhbCIsImhlaWdodCIsIm5hbWUiLCJ0eXBlIiwidmFsdWUiLCJkYXRhc2V0IiwicGFyc2VGbG9hdCIsInN0eWxlIiwibGVuZ3RoIiwicHJvcHMiLCJza2lwQXR0ck5hbWUiLCJyZXN1bHQiLCJrIiwiZGF0YSIsImh0bWwiLCJVdGlscyIsInRleHQiLCJ0b1N0cmluZyIsImRlZmF1bHRWYWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsIk9iamVjdCIsImtleXMiLCJpc0VtcHR5IiwiYXJyYXkiLCJjbG9uZUFycmF5IiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZmlsdGVyIiwiZCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwia2V5RG93bk1ldGhvZE1hcHBpbmciLCIxMyIsIjI3IiwiMzgiLCI0MCIsIlZpcnR1YWxTZWxlY3QiLCJvcHRpb25zIiwic2V0UHJvcHMiLCJzZXREaXNhYmxlZE9wdGlvbnMiLCJkaXNhYmxlZE9wdGlvbnMiLCJzZXRPcHRpb25zIiwicmVuZGVyIiwiZSIsImNvbnNvbGUiLCJ3YXJuIiwiZXJyb3IiLCIkZWxlQXJyYXkiLCJlbGUiLCJzaW5nbGVFbGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpbnN0YW5jZXMiLCJwdXNoIiwiJGVsZVRvS2VlcE9wZW4iLCJxdWVyeVNlbGVjdG9yQWxsIiwicGFyZW50RWxlbWVudCIsInZpcnR1YWxTZWxlY3QiLCJjbG9zZURyb3Bib3giLCIkZm9ybSIsInRhcmdldCIsImNsb3Nlc3QiLCJyZXNldCIsInNpbGVudENoYW5nZSIsInNldFZhbHVlTWV0aG9kIiwic2V0T3B0aW9uc01ldGhvZCIsInNldERpc2FibGVkT3B0aW9uc01ldGhvZCIsImlzU2VsZWN0ZWQiLCJ0b2dnbGVBbGxPcHRpb25zIiwiaXNBbGxTZWxlY3RlZCIsImFkZE9wdGlvbiIsImdldE5ld1ZhbHVlIiwiZ2V0RGlzcGxheVZhbHVlIiwib3BlbkRyb3Bib3giLCJvblJlc2l6ZSIsIndyYXBwZXJDbGFzc2VzIiwidmFsdWVUb29sdGlwIiwiZ2V0VG9vbHRpcEF0dHJUZXh0IiwibXVsdGlwbGUiLCJjbGVhckJ1dHRvblRvb2x0aXAiLCJkcm9wYm94Q29udGFpbmVyU3R5bGUiLCJ6SW5kZXgiLCJhZGRpdGlvbmFsQ2xhc3NlcyIsImRpc2FibGVTZWxlY3RBbGwiLCJwb3NpdGlvbiIsImhpZGVDbGVhckJ1dHRvbiIsImtlZXBBbHdheXNPcGVuIiwic2hvd0FzUG9wdXAiLCJkcm9wYm94V2lkdGgiLCJoYXNTZWFyY2giLCJwbGFjZWhvbGRlciIsIm5vT3B0aW9uc1RleHQiLCJub1NlYXJjaFJlc3VsdHNUZXh0IiwiaW5uZXJIVE1MIiwiJGJvZHkiLCIkd3JhcHBlciIsIiR0b2dnbGVCdXR0b24iLCIkY2xlYXJCdXR0b24iLCIkZHJvcGJveENvbnRhaW5lciIsIiRkcm9wYm94Q2xvc2VCdXR0b24iLCIkc2VhcmNoIiwiJG9wdGlvbnNDb250YWluZXIiLCIkb3B0aW9uc0xpc3QiLCIkb3B0aW9ucyIsIiR2YWx1ZVRleHQiLCIkaGlkZGVuSW5wdXQiLCIkbm9PcHRpb25zIiwiJG5vU2VhcmNoUmVzdWx0cyIsImFmdGVyUmVuZGVyV3JhcHBlciIsInNlYXJjaFJlZ2V4IiwidmlzaWJsZU9wdGlvbnMiLCJnZXRWaXNpYmxlT3B0aW9ucyIsImNoZWNrYm94SHRtbCIsIm5ld09wdGlvbkljb25IdG1sIiwibWFya1NlYXJjaFJlc3VsdHMiLCJzZWFyY2hWYWx1ZSIsInN0eWxlVGV4dCIsIm9wdGlvbkhlaWdodCIsIlJlZ0V4cCIsImFsbG93TmV3T3B0aW9uIiwibmV3T3B0aW9uVG9vbHRpcCIsIm9wdGlvbkxhYmVsIiwibGFiZWwiLCJvcHRpb25DbGFzc2VzIiwib3B0aW9uVG9vbHRpcCIsImxlZnRTZWN0aW9uIiwicmlnaHRTZWN0aW9uIiwiZGVzY3JpcHRpb24iLCJpc0ZvY3VzZWQiLCJpc0Rpc2FibGVkIiwiaXNHcm91cFRpdGxlIiwiaXNHcm91cE9wdGlvbiIsImlzQ3VycmVudE5ldyIsInJlcGxhY2UiLCJ2aXNpYmxlSW5kZXgiLCJoYXNOb09wdGlvbnMiLCJoYXNOb1NlYXJjaFJlc3VsdHMiLCJzZXRPcHRpb25zUG9zaXRpb24iLCJzZXRPcHRpb25zVG9vbHRpcCIsImhhc1NlYXJjaENvbnRhaW5lciIsInNlYXJjaElucHV0Iiwic2VsZWN0QWxsVGV4dCIsInNlYXJjaFBsYWNlaG9sZGVyIiwiJHNlYXJjaElucHV0IiwiJHNlYXJjaENsZWFyIiwiJHRvZ2dsZUFsbEJ1dHRvbiIsIiR0b2dnbGVBbGxDaGVja2JveCIsImFkZEV2ZW50Iiwib3ZlcnJpZGVTY3JvbGxFdmVudFNlbGVjdG9yIiwiZXZlbnRzIiwibWV0aG9kIiwiZXZlbnQiLCJldmVudHNLZXkiLCJjYWxsYmFjayIsImJpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnROYW1lIiwic2V0VGltZW91dCIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsImJ1YmJsZXMiLCJjbG9zZUFsbERyb3Bib3giLCJ3aGljaCIsImtleUNvZGUiLCJpc09wZW5lZCIsInNlbGVjdEZvY3VzZWRPcHRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImZvY3VzT3B0aW9uIiwidG9nZ2xlRHJvcGJveCIsInNldFZpc2libGVPcHRpb25zIiwic2VsZWN0T3B0aW9uIiwicmVtb3ZlT3B0aW9uRm9jdXMiLCJzdG9wUHJvcGFnYXRpb24iLCJzZXRTZWFyY2hWYWx1ZSIsImZvY3VzU2VhcmNoSW5wdXQiLCJzZXRPcHRpb25zQ29udGFpbmVySGVpZ2h0Iiwic2V0QXR0cmlidXRlIiwicmVuZGVyU2VhcmNoIiwic2V0T3B0aW9uc0hlaWdodCIsImFkZEV2ZW50cyIsInNldE1ldGhvZHMiLCJpbml0aWFsU2VsZWN0ZWRWYWx1ZSIsInNpbGVudEluaXRpYWxWYWx1ZVNldCIsImF1dG9TZWxlY3RGaXJzdE9wdGlvbiIsInNldERlZmF1bHRQcm9wcyIsInNldFByb3BzRnJvbUVsZW1lbnRBdHRyIiwiY29udmVydFRvQm9vbGVhbiIsInZhbHVlS2V5IiwibGFiZWxLZXkiLCJkZXNjcmlwdGlvbktleSIsImFsaWFzS2V5Iiwib3B0aW9uSGVpZ2h0VGV4dCIsInNlYXJjaCIsImhhc09wdGlvbkRlc2NyaXB0aW9uIiwic2hvd1NlbGVjdGVkT3B0aW9uc0ZpcnN0Iiwic2hvd0Ryb3Bib3hBc1BvcHVwIiwidG9vbHRpcEZvbnRTaXplIiwidG9vbHRpcEFsaWdubWVudCIsInRvb2x0aXBNYXhXaWR0aCIsIm5vT2ZEaXNwbGF5VmFsdWVzIiwicGFyc2VJbnQiLCJtYXhWYWx1ZXMiLCJzZWxlY3RlZFZhbHVlIiwicG9wdXBEcm9wYm94QnJlYWtwb2ludCIsIm9uU2VydmVyU2VhcmNoIiwic2VsZWN0ZWRWYWx1ZXMiLCJuZXdWYWx1ZXMiLCJ0b29sdGlwRW50ZXJEZWxheSIsInRyYW5zaXRpb25EdXJhdGlvbiIsInNlYXJjaFZhbHVlT3JpZ2luYWwiLCJoYXNTZXJ2ZXJTZWFyY2giLCJvcHRpb25zQ291bnQiLCJnZXRPcHRpb25zQ291bnQiLCJoYWxmT3B0aW9uc0NvdW50IiwiTWF0aCIsImNlaWwiLCJvcHRpb25zSGVpZ2h0IiwiZ2V0T3B0aW9uc0hlaWdodCIsImRlZmF1bHRPcHRpb25zIiwiYXNzaWduIiwibWFwcGluZyIsImdldEF0dHJpYnV0ZSIsInNldFZhbHVlIiwidG9nZ2xlU2VsZWN0QWxsIiwiYWRkT3B0aW9uTWV0aG9kIiwiZ2V0TmV3VmFsdWVNZXRob2QiLCJnZXREaXNwbGF5VmFsdWVNZXRob2QiLCJvcGVuIiwib3Blbk1ldGhvZCIsImNsb3NlIiwiY2xvc2VNZXRob2QiLCJtYXAiLCJ2IiwidmFsaWRWYWx1ZXMiLCJiZWZvcmVWYWx1ZVNldCIsImFmdGVyVmFsdWVTZXQiLCJrZWVwVmFsdWUiLCJhZnRlclNldE9wdGlvbnMiLCJzZXRPcHRpb25zUHJvcCIsInByZXBhcmVkT3B0aW9ucyIsImhhc0Rpc2FibGVkT3B0aW9ucyIsImdldFN0cmluZyIsImdldEFsaWFzIiwiaGFzT3B0aW9uR3JvdXAiLCJwcmVwYXJlT3B0aW9uIiwiY2hpbGRPcHRpb25zIiwib3B0aW9uIiwiYWxpYXMiLCJpc1Zpc2libGUiLCJncm91cEluZGV4IiwidmlzaWJsZU9wdGlvbnNDb3VudCIsImxhc3RPcHRpb25JbmRleCIsInNldFNvcnRlZE9wdGlvbnMiLCJzb3J0ZWRPcHRpb25zIiwic29ydE9wdGlvbnNHcm91cCIsInNvcnRPcHRpb25zIiwibWF4T3B0aW9uc1RvU2hvdyIsInN0YXJ0SW5kZXgiLCJnZXRWaXNpYmxlU3RhcnRJbmRleCIsIm5ld09wdGlvbiIsImdldE5ld09wdGlvbiIsImVuZEluZGV4IiwiaSIsImluVmlldyIsInJlbmRlck9wdGlvbnMiLCJ0cmFuc2Zvcm0iLCIkb3B0aW9uRWxlIiwidHJpZ2dlckV2ZW50IiwibmV3VmFsdWUiLCJpc01heFZhbHVlc1NlbGVjdGVkIiwic2V0VmFsdWVUZXh0IiwidmFsdWVUZXh0Iiwic2VsZWN0ZWRMZW5ndGgiLCJzZWxlY3RlZFZhbHVlc0NvdW50IiwibW9yZVNlbGVjdGVkT3B0aW9ucyIsImFnZ3JlZ2F0ZWRWYWx1ZVRleHQiLCJqb2luIiwiY291bnRUZXh0Iiwic2tpcElucHV0U2V0IiwidG9Mb3dlckNhc2UiLCJ0cmltIiwic2VydmVyU2VhcmNoIiwidmlzaWJsZU9wdGlvbkdyb3Vwc01hcHBpbmciLCJoYXNFeGFjdE9wdGlvbiIsImlzT3B0aW9uVmlzaWJsZSIsImdldFZpc2libGVPcHRpb25Hcm91cHNNYXBwaW5nIiwic2V0TmV3T3B0aW9uIiwicmVtb3ZlTmV3T3B0aW9uIiwic2Nyb2xsVG9Ub3AiLCJhZnRlclNldE9wdGlvbnNDb250YWluZXJIZWlnaHQiLCJtb3JlVmlzaWJsZVNpZGVzIiwic2hvd09uTGVmdCIsImJ1dHRvbkNvb3JkcyIsInZpZXdwb3J0V2lkdGgiLCJoaWRkZW5PblJpZ2h0IiwiaGlkZGVuT25MZWZ0IiwicmlnaHQiLCJuZXdJbmRleCIsInNldE9wdGlvblByb3AiLCJzY3JvbGxUb3AiLCJnZXRGaXJzdFZpc2libGVPcHRpb25JbmRleCIsImVsbGlwc2lzT25seSIsImFsbG93SHRtbCIsImxhc3RPcHRpb24iLCJzb21lIiwiZGlzcGxheVZhbHVlcyIsInN0cnVjdHVyZU9wdGlvbkdyb3VwIiwiY291bnQiLCJmbG9vciIsImRpcmVjdGlvbiIsInByb3BOYW1lIiwiaXNTaWxlbnQiLCJzZXREcm9wYm94UG9zaXRpb24iLCJtb3ZlU2VsZWN0ZWRPcHRpb25zRmlyc3QiLCJpc1BvcHVwQWN0aXZlIiwiZm9jdXMiLCIkbmV3Rm9jdXNlZEVsZSIsIiRmb2N1c2VkRWxlIiwiZ2V0U2libGluZyIsImZpcnN0VmlzaWJsZU9wdGlvbkluZGV4IiwidG9nZ2xlRm9jdXNlZFByb3AiLCJtb3ZlRm9jdXNlZE9wdGlvblRvVmlldyIsIm5ld1Njcm9sbFRvcCIsImNvbnRhaW5lclJlY3QiLCJvcHRpb25SZWN0IiwiY29udGFpbmVyVG9wIiwiY29udGFpbmVyQm90dG9tIiwiYm90dG9tIiwiY29udGFpbmVySGVpZ2h0Iiwib3B0aW9uVG9wIiwib3B0aW9uQm90dG9tIiwib3B0aW9uT2Zmc2V0VG9wIiwib2Zmc2V0VG9wIiwib3B0aW9uc1RvcCIsImlzQWRkaW5nIiwic2VsZWN0ZWRJbmRleCIsInRvZ2dsZVNlbGVjdGVkUHJvcCIsInRvZ2dsZUFsbE9wdGlvbnNDbGFzcyIsImdldE9wdGlvbkluZGV4IiwiJHByZXZTZWxlY3RlZE9wdGlvbiIsImJlZm9yZVNlbGVjdE5ld1ZhbHVlIiwiZm9jdXNlZE9wdGlvbkluZGV4IiwiaXNDbG9zZWQiLCJpc1Jlc2V0Iiwic2V0U2VsZWN0ZWRQcm9wIiwicmVyZW5kZXIiLCJnZXRPcHRpb25PYmoiLCJyZW1vdmVPcHRpb24iLCJzb3J0IiwiYSIsImIiLCJkZXN0cnVjdHVyZU9wdGlvbkdyb3VwIiwiY2hpbGRBcnJheSIsImNvbmNhdCIsInJlc2V0Rm9ybSIsIm9uUmVzaXplTWV0aG9kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OzY5QkFBTyxJQUFNQSxFQUFiLHlCLDRGQUFBLFMsVUFBQSxPLEVBQUEsRSxF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M1MsSUFBVW1JLEdBR3RCLENBQ0xxSSxZQUNBbUMsb0JBM3lETiwyQ0EreUR1QnRQLEdBQ25CLElBQUk5QyxFQUFTLEdBQ1Q4UCxFQUFlLEdBb0JuQixPQWpCQWhOLEVBQVFuRixTQUFRLFNBQUN3RCxHQUNmLEdBQUlBLEVBQUV3SCxhQUFjLENBQ2xCLElBQUk4TixFQUFhLEdBQ2pCdFYsRUFBRTJCLFFBQVUyVCxFQUNaM0csRUFBYTNPLEVBQUVKLE9BQVMwVixFQUV4QnpXLEVBQU84RCxLQUFLM0MsT0FLaEIyQixFQUFRbkYsU0FBUSxTQUFDd0QsR0FDWEEsRUFBRXlILGVBQ0prSCxFQUFhM08sRUFBRStPLFlBQVlwTSxLQUFLM0MsTUFJN0JuQixJQXIwRFgsNkNBdzBEeUI4QyxHQUNyQixJQUFJOUMsRUFBUyxHQU9iLE9BTEE4QyxFQUFRbkYsU0FBUSxTQUFDd0QsR0FDZm5CLEVBQU84RCxLQUFLM0MsR0FDWm5CLEVBQVNBLEVBQU8wVyxPQUFPdlYsRUFBRTJCLFlBR3BCOUMsSUFoMURYLG1DQW0xRGU0SCxHQUNYdkssdUJBQXFCSSxLQUFLK0ksU0FBVSxrQkFDcENuSixvQkFBa0JJLEtBQUsrSSxTQUFVLG9CQUNqQy9JLEtBQUs0UCxlQUFlekYsRUFBYW5LLFcsMkJBdDFEckMsS0F1OERBa0csU0FBU3lHLGlCQUFpQixRQUFTdkgsRUFBYzhULFdBQ2pEaFksT0FBT3lMLGlCQUFpQixTQUFVdkgsRUFBYytULGdCQUVoRGpZLE9BQU9rRSxjQUFnQkEsRyIsImZpbGUiOiJ2aXJ0dWFsLXNlbGVjdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRG9tVXRpbHMge1xyXG4gIHN0YXRpYyBhZGRDbGFzcygkZWxlLCBjbGFzc05hbWUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnNwbGl0KCcgJyk7XHJcblxyXG4gICAgdGhpcy5nZXRFbGVtZW50cygkZWxlKS5mb3JFYWNoKChfdGhpcykgPT4ge1xyXG4gICAgICBfdGhpcy5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTmFtZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyByZW1vdmVDbGFzcygkZWxlLCBjbGFzc05hbWUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnNwbGl0KCcgJyk7XHJcblxyXG4gICAgdGhpcy5nZXRFbGVtZW50cygkZWxlKS5mb3JFYWNoKChfdGhpcykgPT4ge1xyXG4gICAgICBfdGhpcy5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzTmFtZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyB0b2dnbGVDbGFzcygkZWxlLCBjbGFzc05hbWUsIGlzQWRkKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0FkZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGlzQWRkID0gQm9vbGVhbihpc0FkZCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGlzQWRkZWQ7XHJcblxyXG4gICAgdGhpcy5nZXRFbGVtZW50cygkZWxlKS5mb3JFYWNoKChfdGhpcykgPT4ge1xyXG4gICAgICBpc0FkZGVkID0gX3RoaXMuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUsIGlzQWRkKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBpc0FkZGVkO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGhhc0NsYXNzKCRlbGUsIGNsYXNzTmFtZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gJGVsZS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBoYXNFbGxpcHNpcygkZWxlKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAkZWxlLnNjcm9sbFdpZHRoID4gJGVsZS5vZmZzZXRXaWR0aDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRNb3JlVmlzaWJsZVNpZGVzKCRlbGUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGJveCA9ICRlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBsZXQgYXZhaWxhYmxlV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIGxldCBhdmFpbGFibGVIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBsZXQgbGVmdEFyZWEgPSBib3gubGVmdDtcclxuICAgIGxldCB0b3BBcmVhID0gYm94LnRvcDtcclxuICAgIGxldCByaWdodEFyZWEgPSBhdmFpbGFibGVXaWR0aCAtIGxlZnRBcmVhIC0gYm94LndpZHRoO1xyXG4gICAgbGV0IGJvdHRvbUFyZWEgPSBhdmFpbGFibGVIZWlnaHQgLSB0b3BBcmVhIC0gYm94LmhlaWdodDtcclxuICAgIGxldCBob3Jpem9udGFsID0gbGVmdEFyZWEgPiByaWdodEFyZWEgPyAnbGVmdCcgOiAncmlnaHQnO1xyXG4gICAgbGV0IHZlcnRpY2FsID0gdG9wQXJlYSA+IGJvdHRvbUFyZWEgPyAndG9wJyA6ICdib3R0b20nO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGhvcml6b250YWwsXHJcbiAgICAgIHZlcnRpY2FsLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXREYXRhKCRlbGUsIG5hbWUsIHR5cGUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHZhbHVlID0gJGVsZSA/ICRlbGUuZGF0YXNldFtuYW1lXSA6ICcnO1xyXG5cclxuICAgIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xyXG4gICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xyXG4gICAgICAgIHZhbHVlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgIHZhbHVlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2V0RGF0YSgkZWxlLCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAkZWxlLmRhdGFzZXRbbmFtZV0gPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzZXRTdHlsZSgkZWxlLCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAkZWxlLnN0eWxlW25hbWVdID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0RWxlbWVudHMoJGVsZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoJGVsZS5sZW5ndGggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAkZWxlID0gWyRlbGVdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAkZWxlO1xyXG4gIH1cclxuXHJcbiAgLyoqIGNvbnZlcnQgb2JqZWN0IHRvIHN0eWxlIGF0dHJpYnV0ZSAqL1xyXG4gIHN0YXRpYyBnZXRTdHlsZVRleHQocHJvcHMsIHNraXBBdHRyTmFtZSkge1xyXG4gICAgbGV0IHJlc3VsdCA9ICcnO1xyXG5cclxuICAgIGZvciAobGV0IGsgaW4gcHJvcHMpIHtcclxuICAgICAgcmVzdWx0ICs9IGAke2t9OiAke3Byb3BzW2tdfTtgO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZXN1bHQgJiYgIXNraXBBdHRyTmFtZSkge1xyXG4gICAgICByZXN1bHQgPSBgc3R5bGU9XCIke3Jlc3VsdH1cImA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIC8qKiBjb252ZXJ0IG9iamVjdCB0byBkb20gYXR0cmlidXRlcyAqL1xyXG4gIHN0YXRpYyBnZXRBdHRyaWJ1dGVzVGV4dChkYXRhKSB7XHJcbiAgICBsZXQgaHRtbCA9ICcnO1xyXG5cclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICByZXR1cm4gaHRtbDtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBrIGluIGRhdGEpIHtcclxuICAgICAgbGV0IHZhbHVlID0gZGF0YVtrXTtcclxuXHJcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaHRtbCArPSBgICR7a309XCIke3ZhbHVlfVwiIGA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaHRtbDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFV0aWxzIHtcclxuICBzdGF0aWMgZ2V0U3RyaW5nKHRleHQpIHtcclxuICAgIHJldHVybiB0ZXh0IHx8IHRleHQgPT09IDAgPyB0ZXh0LnRvU3RyaW5nKCkgOiAnJztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlLCBkZWZhdWx0VmFsdWUgPSBmYWxzZSkge1xyXG4gICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSAndHJ1ZScpIHtcclxuICAgICAgdmFsdWUgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09ICdmYWxzZScpIHtcclxuICAgICAgdmFsdWUgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBpc0VtcHR5KHZhbHVlKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaXNOb3RFbXB0eSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuICF0aGlzLmlzRW1wdHkodmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJlbW92ZUl0ZW1Gcm9tQXJyYXkoYXJyYXksIHZhbHVlLCBjbG9uZUFycmF5KSB7XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpIHx8ICFhcnJheS5sZW5ndGggfHwgIXZhbHVlKSB7XHJcbiAgICAgIHJldHVybiBhcnJheTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2xvbmVBcnJheSkge1xyXG4gICAgICBhcnJheSA9IFsuLi5hcnJheV07XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGluZGV4ID0gYXJyYXkuaW5kZXhPZih2YWx1ZSk7XHJcblxyXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnJheTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyByZW1vdmVBcnJheUVtcHR5KGFycmF5KSB7XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpIHx8ICFhcnJheS5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnJheS5maWx0ZXIoKGQpID0+ICEhZCk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IFV0aWxzLCBEb21VdGlscyB9IGZyb20gJy4vdXRpbHMnO1xyXG5cclxuY29uc3QgdmlydHVhbFNlbGVjdFZlcnNpb24gPSAndjEuMC42JztcclxuY29uc3QgZHJvcGJveENsb3NlQnV0dG9uRnVsbEhlaWdodCA9IDQ4O1xyXG5jb25zdCBzZWFyY2hIZWlnaHQgPSA0MDtcclxuXHJcbmNvbnN0IGtleURvd25NZXRob2RNYXBwaW5nID0ge1xyXG4gIDEzOiAnb25FbnRlclByZXNzJyxcclxuICAyNzogJ29uRXNjUHJlc3MnLFxyXG4gIDM4OiAnb25VcEFycm93UHJlc3MnLFxyXG4gIDQwOiAnb25Eb3duQXJyb3dQcmVzcycsXHJcbn07XHJcblxyXG4vKiogQ2xhc3MgcmVwcmVzZW50aW5nIFZpcnR1YWxTZWxlY3QgKi9cclxuZXhwb3J0IGNsYXNzIFZpcnR1YWxTZWxlY3Qge1xyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIFZpcnR1YWxTZWxlY3RcclxuICAgKiBAcHJvcGVydHkgeyhlbGVtZW50fHN0cmluZyl9IGVsZSAtIFBhcmVudCBlbGVtZW50IHRvIHJlbmRlciBWaXJ0dWFsU2VsZWN0XHJcbiAgICogQHByb3BlcnR5IHtvYmplY3RbXX0gb3B0aW9ucyAtIEFycmF5IG9mIG9iamVjdCB0byBzaG93IGFzIG9wdGlvbnNcclxuICAgKiBAcHJvcGVydHkgeyhzdHJpbmd8bnVtYmVyKX0gb3B0aW9uc1tdLnZhbHVlIC0gVmFsdWUgb2YgdGhlIG9wdGlvblxyXG4gICAqIEBwcm9wZXJ0eSB7KHN0cmluZ3xudW1iZXIpfSBvcHRpb25zW10ubGFiZWwgLSBEaXNwbGF5IHRleHQgb2YgdGhlIG9wdGlvblxyXG4gICAqIEBwcm9wZXJ0eSB7KHN0cmluZ3xudW1iZXIpfSBvcHRpb25zW10uZGVzY3JpcHRpb24gLSBUZXh0IHRvIHNob3cgYWxvbmcgd2l0aCBsYWJlbFxyXG4gICAqIEBwcm9wZXJ0eSB7KHN0cmluZ3xhcnJheSl9IG9wdGlvbnNbXS5hbGlhcyAtIEFsdGVybmF0aXZlIGxhYmVscyB0byB1c2Ugb24gc2VhcmNoLiBBcnJheSBvZiBzdHJpbmcgb3IgY29tbWEgc2VwYXJhdGVkIHN0cmluZy5cclxuICAgKiBAcHJvcGVydHkge2FycmF5fSBvcHRpb25zW10ub3B0aW9ucyAtIExpc3Qgb2Ygb3B0aW9ucyBmb3Igb3B0aW9uIGdyb3VwXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFt2YWx1ZUtleT12YWx1ZV0gLSBPYmplY3Qga2V5IHRvIHVzZSB0byBnZXQgdmFsdWUgZnJvbSBvcHRpb25zIGFycmF5XHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtsYWJlbEtleT1sYWJlbF0gLSBPYmplY3Qga2V5IHRvIHVzZSB0byBnZXQgbGFiZWwgZnJvbSBvcHRpb25zIGFycmF5XHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtkZXNjcmlwdGlvbktleT1kZXNjcmlwdGlvbl0gLSBPYmplY3Qga2V5IHRvIHVzZSB0byBnZXQgZGVzY3JpcHRpb24gZnJvbSBvcHRpb25zIGFycmF5XHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFthbGlhc0tleT1hbGlhc10gLSBLZXkgbmFtZSB0byBnZXQgYWxpYXMgZnJvbSBvcHRpb25zIG9iamVjdFxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW211bHRpcGxlPWZhbHNlXSAtIEVuYWJsZSBtdWx0aXNlbGVjdFxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NlYXJjaD1mYWxzZV0gLSBFbmFibGUgc2VhcmNoXHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbaGlkZUNsZWFyQnV0dG9uPWZhbHNlXSAtIEhpZGUgY2xlYXIgYnV0dG9uXHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbYXV0b1NlbGVjdEZpcnN0T3B0aW9uPWZhbHNlXSAtIFNlbGVjdCBmaXJzdCBvcHRpb24gYnkgZGVmYXVsdCBvbiBsb2FkXHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbaGFzT3B0aW9uRGVzY3JpcHRpb249ZmFsc2VdIC0gSGFzIGRlc2NyaXB0aW9uIHRvIHNob3cgYWxvbmcgd2l0aCBsYWJlbFxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2Rpc2FibGVTZWxlY3RBbGw9ZmFsc2VdIC0gRGlzYWJsZSBzZWxlY3QgYWxsIGZlYXR1cmUgb2YgbXVsdGlwbGUgc2VsZWN0XHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtvcHRpb25zQ291bnQ9NXw0XSAtIE5vLm9mIG9wdGlvbnMgdG8gc2hvdyBvbiB2aWV3cG9ydFxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbb3B0aW9uSGVpZ2h0PTQwcHh8NjBweF0gLSBIZWlnaHQgb2YgZWFjaCBkcm9wZG93biBvcHRpb25zXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtwb3NpdGlvbj1hdXRvXSAtIFBvc2l0aW9uIG9mIGRyb3Bib3ggKHRvcCwgYm90dG9tLCBhdXRvKVxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcGxhY2Vob2xkZXI9U2VsZWN0XSAtIFRleHQgdG8gc2hvdyB3aGVuIG5vIG9wdGlvbnMgc2VsZWN0ZWRcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW25vT3B0aW9uc1RleHQ9Tm8gb3B0aW9ucyBmb3VuZF0gLSBUZXh0IHRvIHNob3cgd2hlbiBubyBvcHRpb25zIHRvIHNob3dcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW25vU2VhcmNoUmVzdWx0c1RleHQ9Tm8gcmVzdWx0cyBmb3VuZF0gLSBUZXh0IHRvIHNob3cgd2hlbiBubyByZXN1bHRzIG9uIHNlYXJjaFxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc2VsZWN0QWxsVGV4dD1TZWxlY3QgYWxsXSAtIFRleHQgdG8gc2hvdyBuZWFyIHNlbGVjdCBhbGwgY2hlY2tib3ggd2hlbiBzZWFyY2ggaXMgZGlzYWJsZWRcclxuICAgKiBAcHJvcGVydHkge2FycmF5fSBbZGlzYWJsZWRPcHRpb25zXSAtIE9wdGlvbnMgdG8gZGlzYWJsZSAoYXJyYXkgb2YgdmFsdWVzKVxyXG4gICAqIEBwcm9wZXJ0eSB7KHN0cmluZ3xhcnJheSl9IFtzZWxlY3RlZFZhbHVlXSAtIFNpbmdsZSB2YWx1ZSBvciBhcnJheSBvZiB2YWx1ZXMgdG8gc2VsZWN0IG9uIGluaXRcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzaWxlbnRJbml0aWFsVmFsdWVTZXQ9ZmFsc2VdIC0gVG8gYXZvaWQgXCJjaGFuZ2UgZXZlbnRcIiB0cmlnZ2VyIG9uIHNldHRpbmcgaW5pdGlhbCB2YWx1ZVxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZHJvcGJveFdpZHRoXSAtIEN1c3RvbSB3aWR0aCBmb3IgZHJvcGJveFxyXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4PTFdIC0gQ1NTIHotaW5kZXggdmFsdWUgZm9yIGRyb3Bib3hcclxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW25vT2ZEaXNwbGF5VmFsdWVzPTUwXSAtIE1heGltdW0gbm8ub2YgdmFsdWVzIHRvIHNob3cgaW4gdGhlIHRvb2x0aXAgZm9yIG11bHRpLXNlbGVjdFxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2FsbG93TmV3T3B0aW9uPWZhbHNlXSAtIEFsbG93IHRvIGFkZCBuZXcgb3B0aW9uIGJ5IHNlYXJjaGluZ1xyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW21hcmtTZWFyY2hSZXN1bHRzPWZhbHNlXSAtIE1hcmsgbWF0Y2hlZCB0ZXJtIGluIGxhYmVsXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFt0b29sdGlwRm9udFNpemU9MTRweF0gLSBGb250IHNpemUgZm9yIHRvb2x0aXBcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3Rvb2x0aXBBbGlnbm1lbnQ9Y2VudGVyXSAtIENTUyBUZXh0IGFsaWdubWVudCBmb3IgdG9vbHRpcFxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdG9vbHRpcE1heFdpZHRoPTMwMHB4XSAtIENTUyBtYXggd2lkdGggZm9yIHRvb2x0aXBcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzaG93U2VsZWN0ZWRPcHRpb25zRmlyc3Q9ZmFsc2VdIC0gU2hvdyBzZWxlY3RlZCBvcHRpb25zIGF0IHRoZSB0b3Agb2YgdGhlIGRyb3Bib3hcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIC0gTmFtZSBhdHRyaWJ1dGUgZm9yIGhpZGRlbiBpbnB1dFxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2tlZXBBbHdheXNPcGVuXSAtIEtlZXAgZHJvcGJveCBhbHdheXMgb3BlbiB3aXRoIGZpeGVkIGhlaWdodFxyXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4VmFsdWVzPTBdIC0gTWF4aW11bSBuby5vZiBvcHRpb25zIGFsbG93ZWQgdG8gY2hvb3NlIGluIG11bHRpcGxlIHNlbGVjdFxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYWRkaXRpb25hbENsYXNzZXNdIC0gQWRkaXRpb25hbCBjbGFzc2VzIGZvciB3cmFwcGVyIGVsZW1lbnRcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzaG93RHJvcGJveEFzUG9wdXA9dHJ1ZV0gLSBTaG93IGRyb3Bib3ggYXMgcG9wdXAgb24gc21hbGwgc2NyZWVuIGxpa2UgbW9iaWxlXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtwb3B1cERyb3Bib3hCcmVha3BvaW50PTU3NnB4XSAtIE1heGltdW0gc2NyZWVuIHdpZHRoIHRoYXQgYWxsb3dlZCB0byBzaG93IGRyb3Bib3ggYXMgcG9wdXBcclxuICAgKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbb25TZXJ2ZXJTZWFyY2hdIC0gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gaW50ZWdyYXRlIHNlcnZlciBzZWFyY2hcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3NlYXJjaFBsYWNlSG9sZGVyPVNlYXJjaC4uLl0gLSBUZXh0IHRvIHNob3cgaW5zaWRlIHNlYXJjaCBpbnB1dFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuc2V0UHJvcHMob3B0aW9ucyk7XHJcbiAgICAgIHRoaXMuc2V0RGlzYWJsZWRPcHRpb25zKG9wdGlvbnMuZGlzYWJsZWRPcHRpb25zKTtcclxuICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMub3B0aW9ucyk7XHJcbiAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgQ291bGRuJ3QgaW5pdGlhdGUgVmlydHVhbCBTZWxlY3RgKTtcclxuICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKiByZW5kZXIgbWV0aG9kcyAtIHN0YXJ0ICovXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgaWYgKCF0aGlzLiRlbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB3cmFwcGVyQ2xhc3NlcyA9ICd2c2NvbXAtd3JhcHBlcic7XHJcbiAgICBsZXQgdmFsdWVUb29sdGlwID0gdGhpcy5nZXRUb29sdGlwQXR0clRleHQoJycsICF0aGlzLm11bHRpcGxlLCB0cnVlKTtcclxuICAgIGxldCBjbGVhckJ1dHRvblRvb2x0aXAgPSB0aGlzLmdldFRvb2x0aXBBdHRyVGV4dCgnQ2xlYXInKTtcclxuXHJcbiAgICBsZXQgZHJvcGJveENvbnRhaW5lclN0eWxlID0ge1xyXG4gICAgICAnei1pbmRleCc6IHRoaXMuekluZGV4LFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodGhpcy5hZGRpdGlvbmFsQ2xhc3Nlcykge1xyXG4gICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnICcgKyB0aGlzLmFkZGl0aW9uYWxDbGFzc2VzO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgIHdyYXBwZXJDbGFzc2VzICs9ICcgbXVsdGlwbGUnO1xyXG5cclxuICAgICAgaWYgKCF0aGlzLmRpc2FibGVTZWxlY3RBbGwpIHtcclxuICAgICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnIGhhcy1zZWxlY3QtYWxsJztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnBvc2l0aW9uID09PSAndG9wJykge1xyXG4gICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnIHBvc2l0aW9uLXRvcCc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLmhpZGVDbGVhckJ1dHRvbikge1xyXG4gICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnIGhhcy1jbGVhci1idXR0b24nO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmtlZXBBbHdheXNPcGVuKSB7XHJcbiAgICAgIHdyYXBwZXJDbGFzc2VzICs9ICcga2VlcC1hbHdheXMtb3BlbiBvcGVuZWQnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd3JhcHBlckNsYXNzZXMgKz0gJyBjbG9zZWQnO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnNob3dBc1BvcHVwKSB7XHJcbiAgICAgIHdyYXBwZXJDbGFzc2VzICs9ICcgc2hvdy1hcy1wb3B1cCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5kcm9wYm94V2lkdGgpIHtcclxuICAgICAgICBkcm9wYm94Q29udGFpbmVyU3R5bGUud2lkdGggPSB0aGlzLmRyb3Bib3hXaWR0aDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmhhc1NlYXJjaCkge1xyXG4gICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnIGhhcy1zZWFyY2gtaW5wdXQnO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCIke3dyYXBwZXJDbGFzc2VzfVwiIHRhYmluZGV4PVwiMFwiPlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIiR7dGhpcy5uYW1lfVwiIGNsYXNzPVwidnNjb21wLWhpZGRlbi1pbnB1dFwiPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLXRvZ2dsZS1idXR0b25cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtdmFsdWVcIiAke3ZhbHVlVG9vbHRpcH0+XHJcbiAgICAgICAgICAgICR7dGhpcy5wbGFjZWhvbGRlcn1cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtYXJyb3dcIj48L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLWNsZWFyLWJ1dHRvbiB0b2dnbGUtYnV0dG9uLWNoaWxkXCIgJHtjbGVhckJ1dHRvblRvb2x0aXB9PlxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cInZzY29tcC1jbGVhci1pY29uXCI+PC9pPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtZHJvcGJveC1jb250YWluZXJcIiAke0RvbVV0aWxzLmdldFN0eWxlVGV4dChcclxuICAgICAgICAgIGRyb3Bib3hDb250YWluZXJTdHlsZVxyXG4gICAgICAgICl9PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC1kcm9wYm94XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtc2VhcmNoLXdyYXBwZXJcIj48L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtb3B0aW9ucy1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLW9wdGlvbnMtbG9hZGVyXCI+PC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtb3B0aW9ucy1saXN0XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLW9wdGlvbnNcIj48L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLW5vLW9wdGlvbnNcIj4ke3RoaXMubm9PcHRpb25zVGV4dH08L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC1uby1zZWFyY2gtcmVzdWx0c1wiPiR7XHJcbiAgICAgICAgICAgICAgdGhpcy5ub1NlYXJjaFJlc3VsdHNUZXh0XHJcbiAgICAgICAgICAgIH08L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidnNjb21wLWRyb3Bib3gtY2xvc2UtYnV0dG9uXCI+PGkgY2xhc3M9XCJ2c2NvbXAtY2xlYXItaWNvblwiPjwvaT48L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+YDtcclxuXHJcbiAgICB0aGlzLiRlbGUuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIHRoaXMuJGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XHJcbiAgICB0aGlzLiR3cmFwcGVyID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtd3JhcHBlcicpO1xyXG4gICAgdGhpcy4kdG9nZ2xlQnV0dG9uID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtdG9nZ2xlLWJ1dHRvbicpO1xyXG4gICAgdGhpcy4kY2xlYXJCdXR0b24gPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1jbGVhci1idXR0b24nKTtcclxuICAgIHRoaXMuJGRyb3Bib3hDb250YWluZXIgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy52c2NvbXAtZHJvcGJveC1jb250YWluZXInXHJcbiAgICApO1xyXG4gICAgdGhpcy4kZHJvcGJveENsb3NlQnV0dG9uID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICcudnNjb21wLWRyb3Bib3gtY2xvc2UtYnV0dG9uJ1xyXG4gICAgKTtcclxuICAgIHRoaXMuJHNlYXJjaCA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKCcudnNjb21wLXNlYXJjaC13cmFwcGVyJyk7XHJcbiAgICB0aGlzLiRvcHRpb25zQ29udGFpbmVyID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICcudnNjb21wLW9wdGlvbnMtY29udGFpbmVyJ1xyXG4gICAgKTtcclxuICAgIHRoaXMuJG9wdGlvbnNMaXN0ID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtb3B0aW9ucy1saXN0Jyk7XHJcbiAgICB0aGlzLiRvcHRpb25zID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtb3B0aW9ucycpO1xyXG4gICAgdGhpcy4kdmFsdWVUZXh0ID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtdmFsdWUnKTtcclxuICAgIHRoaXMuJGhpZGRlbklucHV0ID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtaGlkZGVuLWlucHV0Jyk7XHJcbiAgICB0aGlzLiRub09wdGlvbnMgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1uby1vcHRpb25zJyk7XHJcbiAgICB0aGlzLiRub1NlYXJjaFJlc3VsdHMgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy52c2NvbXAtbm8tc2VhcmNoLXJlc3VsdHMnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuYWZ0ZXJSZW5kZXJXcmFwcGVyKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJPcHRpb25zKCkge1xyXG4gICAgbGV0IGh0bWwgPSAnJztcclxuICAgIGxldCB2aXNpYmxlT3B0aW9ucyA9IHRoaXMuZ2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuICAgIGxldCBjaGVja2JveEh0bWwgPSAnJztcclxuICAgIGxldCBuZXdPcHRpb25JY29uSHRtbCA9ICcnO1xyXG4gICAgbGV0IG1hcmtTZWFyY2hSZXN1bHRzID1cclxuICAgICAgdGhpcy5tYXJrU2VhcmNoUmVzdWx0cyAmJiB0aGlzLnNlYXJjaFZhbHVlID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgbGV0IHNlYXJjaFJlZ2V4O1xyXG5cclxuICAgIGxldCBzdHlsZVRleHQgPSBEb21VdGlscy5nZXRTdHlsZVRleHQoe1xyXG4gICAgICBoZWlnaHQ6IHRoaXMub3B0aW9uSGVpZ2h0ICsgJ3B4JyxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChtYXJrU2VhcmNoUmVzdWx0cykge1xyXG4gICAgICBzZWFyY2hSZWdleCA9IG5ldyBSZWdFeHAoYCgke3RoaXMuc2VhcmNoVmFsdWV9KWAsICdnaScpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgIGNoZWNrYm94SHRtbCA9ICc8c3BhbiBjbGFzcz1cImNoZWNrYm94LWljb25cIj48L3NwYW4+JztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5hbGxvd05ld09wdGlvbikge1xyXG4gICAgICBsZXQgbmV3T3B0aW9uVG9vbHRpcCA9IHRoaXMuZ2V0VG9vbHRpcEF0dHJUZXh0KCdOZXcgT3B0aW9uJyk7XHJcbiAgICAgIG5ld09wdGlvbkljb25IdG1sID0gYDxzcGFuIGNsYXNzPVwidnNjb21wLW5ldy1vcHRpb24taWNvblwiICR7bmV3T3B0aW9uVG9vbHRpcH0+PC9zcGFuPmA7XHJcbiAgICB9XHJcblxyXG4gICAgdmlzaWJsZU9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBsZXQgb3B0aW9uTGFiZWwgPSBkLmxhYmVsO1xyXG4gICAgICBsZXQgb3B0aW9uQ2xhc3NlcyA9ICd2c2NvbXAtb3B0aW9uJztcclxuICAgICAgbGV0IG9wdGlvblRvb2x0aXAgPSB0aGlzLmdldFRvb2x0aXBBdHRyVGV4dCgnJywgdHJ1ZSk7XHJcbiAgICAgIGxldCBsZWZ0U2VjdGlvbiA9IGNoZWNrYm94SHRtbDtcclxuICAgICAgbGV0IHJpZ2h0U2VjdGlvbiA9ICcnO1xyXG4gICAgICBsZXQgZGVzY3JpcHRpb24gPSAnJztcclxuXHJcbiAgICAgIGlmIChkLmlzRm9jdXNlZCkge1xyXG4gICAgICAgIG9wdGlvbkNsYXNzZXMgKz0gJyBmb2N1c2VkJztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGQuaXNEaXNhYmxlZCkge1xyXG4gICAgICAgIG9wdGlvbkNsYXNzZXMgKz0gJyBkaXNhYmxlZCc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkLmlzR3JvdXBUaXRsZSkge1xyXG4gICAgICAgIG9wdGlvbkNsYXNzZXMgKz0gJyBncm91cC10aXRsZSc7XHJcbiAgICAgICAgbGVmdFNlY3Rpb24gPSAnJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoZC5pc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICBvcHRpb25DbGFzc2VzICs9ICcgc2VsZWN0ZWQnO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGQuaXNHcm91cE9wdGlvbikge1xyXG4gICAgICAgIG9wdGlvbkNsYXNzZXMgKz0gJyBncm91cC1vcHRpb24nO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZC5kZXNjcmlwdGlvbikge1xyXG4gICAgICAgIGRlc2NyaXB0aW9uID0gYDxkaXYgY2xhc3M9XCJ2c2NvbXAtb3B0aW9uLWRlc2NyaXB0aW9uXCIgJHtvcHRpb25Ub29sdGlwfT4ke2QuZGVzY3JpcHRpb259PC9kaXY+YDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGQuaXNDdXJyZW50TmV3KSB7XHJcbiAgICAgICAgb3B0aW9uQ2xhc3NlcyArPSAnIGN1cnJlbnQtbmV3JztcclxuICAgICAgICByaWdodFNlY3Rpb24gKz0gbmV3T3B0aW9uSWNvbkh0bWw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKG1hcmtTZWFyY2hSZXN1bHRzICYmICFkLmlzR3JvdXBUaXRsZSkge1xyXG4gICAgICAgICAgb3B0aW9uTGFiZWwgPSBvcHRpb25MYWJlbC5yZXBsYWNlKHNlYXJjaFJlZ2V4LCAnPG1hcms+JDE8L21hcms+Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtvcHRpb25DbGFzc2VzfVwiIGRhdGEtdmFsdWU9XCIke2QudmFsdWV9XCIgZGF0YS1pbmRleD1cIiR7ZC5pbmRleH1cIiBkYXRhLXZpc2libGUtaW5kZXg9XCIke2QudmlzaWJsZUluZGV4fVwiICR7c3R5bGVUZXh0fT5cclxuICAgICAgICAgICR7bGVmdFNlY3Rpb259XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInZzY29tcC1vcHRpb24tdGV4dFwiICR7b3B0aW9uVG9vbHRpcH0+XHJcbiAgICAgICAgICAgICR7b3B0aW9uTGFiZWx9XHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAke2Rlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgJHtyaWdodFNlY3Rpb259XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuJG9wdGlvbnMuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIGxldCBoYXNOb09wdGlvbnMgPSAhdGhpcy5vcHRpb25zLmxlbmd0aDtcclxuICAgIGxldCBoYXNOb1NlYXJjaFJlc3VsdHMgPSAhaGFzTm9PcHRpb25zICYmICF2aXNpYmxlT3B0aW9ucy5sZW5ndGg7XHJcblxyXG4gICAgaWYgKCF0aGlzLmFsbG93TmV3T3B0aW9uKSB7XHJcbiAgICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKFxyXG4gICAgICAgIHRoaXMuJHdyYXBwZXIsXHJcbiAgICAgICAgJ2hhcy1uby1zZWFyY2gtcmVzdWx0cycsXHJcbiAgICAgICAgaGFzTm9TZWFyY2hSZXN1bHRzXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgRG9tVXRpbHMudG9nZ2xlQ2xhc3ModGhpcy4kd3JhcHBlciwgJ2hhcy1uby1vcHRpb25zJywgaGFzTm9PcHRpb25zKTtcclxuICAgIHRoaXMuc2V0T3B0aW9uc1Bvc2l0aW9uKCk7XHJcbiAgICB0aGlzLnNldE9wdGlvbnNUb29sdGlwKCk7XHJcbiAgICAvL3RoaXMubW92ZUZvY3VzZWRPcHRpb25Ub1ZpZXcoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlclNlYXJjaCgpIHtcclxuICAgIGlmICghdGhpcy5oYXNTZWFyY2hDb250YWluZXIpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBjaGVja2JveEh0bWwgPSAnJztcclxuICAgIGxldCBzZWFyY2hJbnB1dCA9ICcnO1xyXG5cclxuICAgIGlmICh0aGlzLm11bHRpcGxlICYmICF0aGlzLmRpc2FibGVTZWxlY3RBbGwpIHtcclxuICAgICAgY2hlY2tib3hIdG1sID0gYDxzcGFuIGNsYXNzPVwidnNjb21wLXRvZ2dsZS1hbGwtYnV0dG9uXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImNoZWNrYm94LWljb24gdnNjb21wLXRvZ2dsZS1hbGwtY2hlY2tib3hcIj48L3NwYW4+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInZzY29tcC10b2dnbGUtYWxsLWxhYmVsXCI+JHt0aGlzLnNlbGVjdEFsbFRleHR9PC9zcGFuPlxyXG4gICAgICAgIDwvc3Bhbj5gO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmhhc1NlYXJjaCkge1xyXG4gICAgICBzZWFyY2hJbnB1dCA9IGA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cInZzY29tcC1zZWFyY2gtaW5wdXRcIiBwbGFjZWhvbGRlcj1cIiR7dGhpcy5zZWFyY2hQbGFjZWhvbGRlcn1cIj5cclxuICAgICAgPHNwYW4gY2xhc3M9XCJ2c2NvbXAtc2VhcmNoLWNsZWFyXCI+JnRpbWVzOzwvc3Bhbj5gO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCJ2c2NvbXAtc2VhcmNoLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICR7Y2hlY2tib3hIdG1sfVxyXG4gICAgICAgICR7c2VhcmNoSW5wdXR9XHJcbiAgICAgIDwvZGl2PmA7XHJcblxyXG4gICAgdGhpcy4kc2VhcmNoLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICB0aGlzLiRzZWFyY2hJbnB1dCA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKCcudnNjb21wLXNlYXJjaC1pbnB1dCcpO1xyXG4gICAgdGhpcy4kc2VhcmNoQ2xlYXIgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1zZWFyY2gtY2xlYXInKTtcclxuICAgIHRoaXMuJHRvZ2dsZUFsbEJ1dHRvbiA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLnZzY29tcC10b2dnbGUtYWxsLWJ1dHRvbidcclxuICAgICk7XHJcbiAgICB0aGlzLiR0b2dnbGVBbGxDaGVja2JveCA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLnZzY29tcC10b2dnbGUtYWxsLWNoZWNrYm94J1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJHNlYXJjaElucHV0LCAna2V5dXAgY2hhbmdlJywgJ29uU2VhcmNoJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJHNlYXJjaENsZWFyLCAnY2xpY2snLCAnb25TZWFyY2hDbGVhcicpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiR0b2dnbGVBbGxCdXR0b24sICdjbGljaycsICdvblRvZ2dsZUFsbE9wdGlvbnMnKTtcclxuICB9XHJcbiAgLyoqIHJlbmRlciBtZXRob2RzIC0gZW5kICovXHJcblxyXG4gIC8qKiBkb20gZXZlbnQgbWV0aG9kcyAtIHN0YXJ0ICovXHJcbiAgYWRkRXZlbnRzKCkge1xyXG4gICAgdGhpcy5hZGRFdmVudChkb2N1bWVudCwgJ2NsaWNrJywgJ29uRG9jdW1lbnRDbGljaycpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiR3cmFwcGVyLCAna2V5ZG93bicsICdvbktleURvd24nKTtcclxuICAgIHRoaXMuYWRkRXZlbnQodGhpcy4kdG9nZ2xlQnV0dG9uLCAnY2xpY2snLCAnb25Ub2dnbGVCdXR0b25DbGljaycpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiRjbGVhckJ1dHRvbiwgJ2NsaWNrJywgJ29uQ2xlYXJCdXR0b25DbGljaycpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiRkcm9wYm94Q29udGFpbmVyLCAnY2xpY2snLCAnb25Ecm9wYm94Q29udGFpbmVyQ2xpY2snKTtcclxuICAgIHRoaXMuYWRkRXZlbnQoXHJcbiAgICAgIHRoaXMuJGRyb3Bib3hDbG9zZUJ1dHRvbixcclxuICAgICAgJ2NsaWNrJyxcclxuICAgICAgJ29uRHJvcGJveENsb3NlQnV0dG9uQ2xpY2snXHJcbiAgICApO1xyXG4gICAgaWYgKHRoaXMub3ZlcnJpZGVTY3JvbGxFdmVudFNlbGVjdG9yKSB7XHJcbiAgICAgIHRoaXMuYWRkRXZlbnQoXHJcbiAgICAgICAgdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IodGhpcy5vdmVycmlkZVNjcm9sbEV2ZW50U2VsZWN0b3IpLFxyXG4gICAgICAgICdzY3JvbGwnLFxyXG4gICAgICAgICdvbk9wdGlvbnNTY3JvbGwnXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJG9wdGlvbnNDb250YWluZXIsICdzY3JvbGwnLCAnb25PcHRpb25zU2Nyb2xsJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJG9wdGlvbnMsICdjbGljaycsICdvbk9wdGlvbnNDbGljaycpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiRvcHRpb25zLCAnbW91c2VvdmVyJywgJ29uT3B0aW9uc01vdXNlT3ZlcicpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiRvcHRpb25zLCAndG91Y2htb3ZlJywgJ29uT3B0aW9uc1RvdWNoTW92ZScpO1xyXG4gIH1cclxuXHJcbiAgYWRkRXZlbnQoJGVsZSwgZXZlbnRzLCBtZXRob2QpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnRzID0gVXRpbHMucmVtb3ZlQXJyYXlFbXB0eShldmVudHMuc3BsaXQoJyAnKSk7XHJcblxyXG4gICAgZXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiB7XHJcbiAgICAgIGxldCBldmVudHNLZXkgPSBgJHttZXRob2R9LSR7ZXZlbnR9YDtcclxuICAgICAgbGV0IGNhbGxiYWNrID0gdGhpcy5ldmVudHNbZXZlbnRzS2V5XTtcclxuXHJcbiAgICAgIGlmICghY2FsbGJhY2spIHtcclxuICAgICAgICBjYWxsYmFjayA9IHRoaXNbbWV0aG9kXS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50c0tleV0gPSBjYWxsYmFjaztcclxuICAgICAgfVxyXG5cclxuICAgICAgJGVsZSA9IERvbVV0aWxzLmdldEVsZW1lbnRzKCRlbGUpO1xyXG5cclxuICAgICAgJGVsZS5mb3JFYWNoKChfdGhpcykgPT4ge1xyXG4gICAgICAgIF90aGlzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRpc3BhdGNoRXZlbnQoJGVsZSwgZXZlbnROYW1lKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICRlbGUgPSBEb21VdGlscy5nZXRFbGVtZW50cygkZWxlKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgJGVsZS5mb3JFYWNoKChfdGhpcykgPT4ge1xyXG4gICAgICAgIF90aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KGV2ZW50TmFtZSwgeyBidWJibGVzOiB0cnVlIH0pKTtcclxuICAgICAgfSk7XHJcbiAgICB9LCAwKTtcclxuICB9XHJcblxyXG4gIG9uRG9jdW1lbnRDbGljayhlKSB7XHJcbiAgICBWaXJ0dWFsU2VsZWN0LmNsb3NlQWxsRHJvcGJveChlLnRhcmdldC5jbG9zZXN0KCcudnNjb21wLXdyYXBwZXInKSk7XHJcbiAgfVxyXG5cclxuICBvbktleURvd24oZSkge1xyXG4gICAgbGV0IGtleSA9IGUud2hpY2ggfHwgZS5rZXlDb2RlO1xyXG4gICAgbGV0IG1ldGhvZCA9IGtleURvd25NZXRob2RNYXBwaW5nW2tleV07XHJcblxyXG4gICAgaWYgKG1ldGhvZCkge1xyXG4gICAgICB0aGlzW21ldGhvZF0oZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkVudGVyUHJlc3MoKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNPcGVuZWQoKSkge1xyXG4gICAgICB0aGlzLm9wZW5Ecm9wYm94KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNlbGVjdEZvY3VzZWRPcHRpb24oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uRXNjUHJlc3MoKSB7XHJcbiAgICBpZiAodGhpcy5pc09wZW5lZCgpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VEcm9wYm94KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkRvd25BcnJvd1ByZXNzKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc09wZW5lZCgpKSB7XHJcbiAgICAgIHRoaXMuZm9jdXNPcHRpb24oJ25leHQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMub3BlbkRyb3Bib3goKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uVXBBcnJvd1ByZXNzKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc09wZW5lZCgpKSB7XHJcbiAgICAgIHRoaXMuZm9jdXNPcHRpb24oJ3ByZXZpb3VzJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm9wZW5Ecm9wYm94KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvblRvZ2dsZUJ1dHRvbkNsaWNrKGUpIHtcclxuICAgIGxldCBjaGlsZEVsZSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy50b2dnbGUtYnV0dG9uLWNoaWxkJyk7XHJcblxyXG4gICAgaWYgKGNoaWxkRWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRvZ2dsZURyb3Bib3goKTtcclxuICB9XHJcblxyXG4gIG9uQ2xlYXJCdXR0b25DbGljaygpIHtcclxuICAgIHRoaXMucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIG9uT3B0aW9uc1Njcm9sbCgpIHtcclxuICAgIHRoaXMuc2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIG9uT3B0aW9uc0NsaWNrKGUpIHtcclxuICAgIHRoaXMuc2VsZWN0T3B0aW9uKFxyXG4gICAgICBlLnRhcmdldC5jbG9zZXN0KCcudnNjb21wLW9wdGlvbjpub3QoLmRpc2FibGVkKTpub3QoLmdyb3VwLXRpdGxlKScpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb25Ecm9wYm94Q29udGFpbmVyQ2xpY2soZSkge1xyXG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcudnNjb21wLWRyb3Bib3gnKSkge1xyXG4gICAgICB0aGlzLmNsb3NlRHJvcGJveCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25Ecm9wYm94Q2xvc2VCdXR0b25DbGljaygpIHtcclxuICAgIHRoaXMuY2xvc2VEcm9wYm94KCk7XHJcbiAgfVxyXG5cclxuICBvbk9wdGlvbnNNb3VzZU92ZXIoZSkge1xyXG4gICAgbGV0ICRlbGUgPSBlLnRhcmdldC5jbG9zZXN0KFxyXG4gICAgICAnLnZzY29tcC1vcHRpb246bm90KC5kaXNhYmxlZCk6bm90KC5ncm91cC10aXRsZSknXHJcbiAgICApO1xyXG5cclxuICAgIGlmICgkZWxlKSB7XHJcbiAgICAgIHRoaXMuZm9jdXNPcHRpb24obnVsbCwgJGVsZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbk9wdGlvbnNUb3VjaE1vdmUoKSB7XHJcbiAgICB0aGlzLnJlbW92ZU9wdGlvbkZvY3VzKCk7XHJcbiAgfVxyXG5cclxuICBvblNlYXJjaChlKSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgdGhpcy5zZXRTZWFyY2hWYWx1ZShlLnRhcmdldC52YWx1ZSwgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBvblNlYXJjaENsZWFyKCkge1xyXG4gICAgdGhpcy5zZXRTZWFyY2hWYWx1ZSgnJyk7XHJcbiAgICB0aGlzLmZvY3VzU2VhcmNoSW5wdXQoKTtcclxuICB9XHJcblxyXG4gIG9uVG9nZ2xlQWxsT3B0aW9ucygpIHtcclxuICAgIHRoaXMudG9nZ2xlQWxsT3B0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgb25SZXNpemUoKSB7XHJcbiAgICB0aGlzLnNldE9wdGlvbnNDb250YWluZXJIZWlnaHQodHJ1ZSk7XHJcbiAgfVxyXG4gIC8qKiBkb20gZXZlbnQgbWV0aG9kcyAtIGVuZCAqL1xyXG5cclxuICAvKiogYWZ0ZXIgZXZlbnQgbWV0aG9kcyAtIHN0YXJ0ICovXHJcbiAgYWZ0ZXJSZW5kZXJXcmFwcGVyKCkge1xyXG4gICAgdGhpcy4kZWxlLnNldEF0dHJpYnV0ZSgnbmFtZScsIHRoaXMubmFtZSk7XHJcblxyXG4gICAgRG9tVXRpbHMuYWRkQ2xhc3ModGhpcy4kZWxlLCAndnNjb21wLWVsZScpO1xyXG4gICAgdGhpcy5yZW5kZXJTZWFyY2goKTtcclxuICAgIHRoaXMuc2V0T3B0aW9uc0hlaWdodCgpO1xyXG4gICAgdGhpcy5zZXRWaXNpYmxlT3B0aW9ucygpO1xyXG4gICAgdGhpcy5zZXRPcHRpb25zQ29udGFpbmVySGVpZ2h0KCk7XHJcbiAgICB0aGlzLmFkZEV2ZW50cygpO1xyXG4gICAgdGhpcy5zZXRNZXRob2RzKCk7XHJcblxyXG4gICAgaWYgKHRoaXMuaW5pdGlhbFNlbGVjdGVkVmFsdWUpIHtcclxuICAgICAgdGhpcy5zZXRWYWx1ZU1ldGhvZChcclxuICAgICAgICB0aGlzLmluaXRpYWxTZWxlY3RlZFZhbHVlLFxyXG4gICAgICAgIHRoaXMuc2lsZW50SW5pdGlhbFZhbHVlU2V0XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXV0b1NlbGVjdEZpcnN0T3B0aW9uICYmIHRoaXMudmlzaWJsZU9wdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuc2V0VmFsdWVNZXRob2QoXHJcbiAgICAgICAgdGhpcy52aXNpYmxlT3B0aW9uc1swXS52YWx1ZSxcclxuICAgICAgICB0aGlzLnNpbGVudEluaXRpYWxWYWx1ZVNldFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWZ0ZXJTZXRPcHRpb25zQ29udGFpbmVySGVpZ2h0KHJlc2V0KSB7XHJcbiAgICBpZiAocmVzZXQpIHtcclxuICAgICAgaWYgKHRoaXMuc2hvd0FzUG9wdXApIHtcclxuICAgICAgICB0aGlzLnNldFZpc2libGVPcHRpb25zKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqIGFmdGVyIGV2ZW50IG1ldGhvZHMgLSBlbmQgKi9cclxuXHJcbiAgLyoqIHNldCBtZXRob2RzIC0gc3RhcnQgKi9cclxuICBzZXRQcm9wcyhvcHRpb25zKSB7XHJcbiAgICBvcHRpb25zID0gdGhpcy5zZXREZWZhdWx0UHJvcHMob3B0aW9ucyk7XHJcbiAgICB0aGlzLnNldFByb3BzRnJvbUVsZW1lbnRBdHRyKG9wdGlvbnMpO1xyXG5cclxuICAgIGxldCBjb252ZXJ0VG9Cb29sZWFuID0gVXRpbHMuY29udmVydFRvQm9vbGVhbjtcclxuXHJcbiAgICB0aGlzLiRlbGUgPSBvcHRpb25zLmVsZTtcclxuICAgIHRoaXMudmFsdWVLZXkgPSBvcHRpb25zLnZhbHVlS2V5O1xyXG4gICAgdGhpcy5sYWJlbEtleSA9IG9wdGlvbnMubGFiZWxLZXk7XHJcbiAgICB0aGlzLmRlc2NyaXB0aW9uS2V5ID0gb3B0aW9ucy5kZXNjcmlwdGlvbktleTtcclxuICAgIHRoaXMuYWxpYXNLZXkgPSBvcHRpb25zLmFsaWFzS2V5O1xyXG4gICAgdGhpcy5vcHRpb25IZWlnaHRUZXh0ID0gb3B0aW9ucy5vcHRpb25IZWlnaHQ7XHJcbiAgICB0aGlzLm9wdGlvbkhlaWdodCA9IHBhcnNlRmxvYXQodGhpcy5vcHRpb25IZWlnaHRUZXh0KTtcclxuICAgIHRoaXMubXVsdGlwbGUgPSBjb252ZXJ0VG9Cb29sZWFuKG9wdGlvbnMubXVsdGlwbGUpO1xyXG4gICAgdGhpcy5oYXNTZWFyY2ggPSBjb252ZXJ0VG9Cb29sZWFuKG9wdGlvbnMuc2VhcmNoKTtcclxuICAgIHRoaXMuaGlkZUNsZWFyQnV0dG9uID0gY29udmVydFRvQm9vbGVhbihvcHRpb25zLmhpZGVDbGVhckJ1dHRvbik7XHJcbiAgICB0aGlzLmF1dG9TZWxlY3RGaXJzdE9wdGlvbiA9IGNvbnZlcnRUb0Jvb2xlYW4oXHJcbiAgICAgIG9wdGlvbnMuYXV0b1NlbGVjdEZpcnN0T3B0aW9uXHJcbiAgICApO1xyXG4gICAgdGhpcy5oYXNPcHRpb25EZXNjcmlwdGlvbiA9IGNvbnZlcnRUb0Jvb2xlYW4ob3B0aW9ucy5oYXNPcHRpb25EZXNjcmlwdGlvbik7XHJcbiAgICB0aGlzLnNpbGVudEluaXRpYWxWYWx1ZVNldCA9IGNvbnZlcnRUb0Jvb2xlYW4oXHJcbiAgICAgIG9wdGlvbnMuc2lsZW50SW5pdGlhbFZhbHVlU2V0XHJcbiAgICApO1xyXG4gICAgdGhpcy5hbGxvd05ld09wdGlvbiA9IGNvbnZlcnRUb0Jvb2xlYW4ob3B0aW9ucy5hbGxvd05ld09wdGlvbik7XHJcbiAgICB0aGlzLm1hcmtTZWFyY2hSZXN1bHRzID0gY29udmVydFRvQm9vbGVhbihvcHRpb25zLm1hcmtTZWFyY2hSZXN1bHRzKTtcclxuICAgIHRoaXMuc2hvd1NlbGVjdGVkT3B0aW9uc0ZpcnN0ID0gY29udmVydFRvQm9vbGVhbihcclxuICAgICAgb3B0aW9ucy5zaG93U2VsZWN0ZWRPcHRpb25zRmlyc3RcclxuICAgICk7XHJcbiAgICB0aGlzLmRpc2FibGVTZWxlY3RBbGwgPSBjb252ZXJ0VG9Cb29sZWFuKG9wdGlvbnMuZGlzYWJsZVNlbGVjdEFsbCk7XHJcbiAgICB0aGlzLmtlZXBBbHdheXNPcGVuID0gY29udmVydFRvQm9vbGVhbihvcHRpb25zLmtlZXBBbHdheXNPcGVuKTtcclxuICAgIHRoaXMuc2hvd0Ryb3Bib3hBc1BvcHVwID0gY29udmVydFRvQm9vbGVhbihvcHRpb25zLnNob3dEcm9wYm94QXNQb3B1cCk7XHJcbiAgICB0aGlzLm5vT3B0aW9uc1RleHQgPSBvcHRpb25zLm5vT3B0aW9uc1RleHQ7XHJcbiAgICB0aGlzLm5vU2VhcmNoUmVzdWx0c1RleHQgPSBvcHRpb25zLm5vU2VhcmNoUmVzdWx0c1RleHQ7XHJcbiAgICB0aGlzLnNlbGVjdEFsbFRleHQgPSBvcHRpb25zLnNlbGVjdEFsbFRleHQ7XHJcbiAgICB0aGlzLnBsYWNlaG9sZGVyID0gb3B0aW9ucy5wbGFjZWhvbGRlcjtcclxuICAgIHRoaXMucG9zaXRpb24gPSBvcHRpb25zLnBvc2l0aW9uO1xyXG4gICAgdGhpcy5kcm9wYm94V2lkdGggPSBvcHRpb25zLmRyb3Bib3hXaWR0aDtcclxuICAgIHRoaXMudG9vbHRpcEZvbnRTaXplID0gb3B0aW9ucy50b29sdGlwRm9udFNpemU7XHJcbiAgICB0aGlzLnRvb2x0aXBBbGlnbm1lbnQgPSBvcHRpb25zLnRvb2x0aXBBbGlnbm1lbnQ7XHJcbiAgICB0aGlzLnRvb2x0aXBNYXhXaWR0aCA9IG9wdGlvbnMudG9vbHRpcE1heFdpZHRoO1xyXG4gICAgdGhpcy5ub09mRGlzcGxheVZhbHVlcyA9IHBhcnNlSW50KG9wdGlvbnMubm9PZkRpc3BsYXlWYWx1ZXMpO1xyXG4gICAgdGhpcy56SW5kZXggPSBwYXJzZUludChvcHRpb25zLnpJbmRleCk7XHJcbiAgICB0aGlzLm1heFZhbHVlcyA9IHBhcnNlSW50KG9wdGlvbnMubWF4VmFsdWVzKTtcclxuICAgIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZTtcclxuICAgIHRoaXMuYWRkaXRpb25hbENsYXNzZXMgPSBvcHRpb25zLmFkZGl0aW9uYWxDbGFzc2VzO1xyXG4gICAgdGhpcy5pbml0aWFsU2VsZWN0ZWRWYWx1ZSA9IG9wdGlvbnMuc2VsZWN0ZWRWYWx1ZTtcclxuICAgIHRoaXMucG9wdXBEcm9wYm94QnJlYWtwb2ludCA9IG9wdGlvbnMucG9wdXBEcm9wYm94QnJlYWtwb2ludDtcclxuICAgIHRoaXMub25TZXJ2ZXJTZWFyY2ggPSBvcHRpb25zLm9uU2VydmVyU2VhcmNoO1xyXG4gICAgdGhpcy5zZWFyY2hQbGFjZWhvbGRlciA9IG9wdGlvbnMuc2VhcmNoUGxhY2Vob2xkZXI7XHJcblxyXG4gICAgdGhpcy5zZWxlY3RlZFZhbHVlcyA9IFtdO1xyXG4gICAgdGhpcy5uZXdWYWx1ZXMgPSBbXTtcclxuICAgIHRoaXMuZXZlbnRzID0ge307XHJcbiAgICB0aGlzLnRvb2x0aXBFbnRlckRlbGF5ID0gMjAwO1xyXG4gICAgdGhpcy50cmFuc2l0aW9uRHVyYXRpb24gPSAyNTA7XHJcbiAgICB0aGlzLnNlYXJjaFZhbHVlID0gJyc7XHJcbiAgICB0aGlzLnNlYXJjaFZhbHVlT3JpZ2luYWwgPSAnJztcclxuICAgIHRoaXMuaXNBbGxTZWxlY3RlZCA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgKG9wdGlvbnMuc2VhcmNoID09PSB1bmRlZmluZWQgJiYgdGhpcy5tdWx0aXBsZSkgfHxcclxuICAgICAgdGhpcy5hbGxvd05ld09wdGlvblxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuaGFzU2VhcmNoID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5tYXhWYWx1ZXMpIHtcclxuICAgICAgdGhpcy5kaXNhYmxlU2VsZWN0QWxsID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmhhc1NlcnZlclNlYXJjaCA9IHR5cGVvZiB0aGlzLm9uU2VydmVyU2VhcmNoID09PSAnZnVuY3Rpb24nO1xyXG4gICAgdGhpcy5zaG93QXNQb3B1cCA9XHJcbiAgICAgIHRoaXMuc2hvd0Ryb3Bib3hBc1BvcHVwICYmXHJcbiAgICAgICF0aGlzLmtlZXBBbHdheXNPcGVuICYmXHJcbiAgICAgIHdpbmRvdy5pbm5lcldpZHRoIDw9IHBhcnNlRmxvYXQodGhpcy5wb3B1cERyb3Bib3hCcmVha3BvaW50KTtcclxuICAgIHRoaXMuaGFzU2VhcmNoQ29udGFpbmVyID1cclxuICAgICAgdGhpcy5oYXNTZWFyY2ggfHwgKHRoaXMubXVsdGlwbGUgJiYgIXRoaXMuZGlzYWJsZVNlbGVjdEFsbCk7XHJcbiAgICB0aGlzLm9wdGlvbnNDb3VudCA9IHRoaXMuZ2V0T3B0aW9uc0NvdW50KG9wdGlvbnMub3B0aW9uc0NvdW50KTtcclxuICAgIHRoaXMuaGFsZk9wdGlvbnNDb3VudCA9IE1hdGguY2VpbCh0aGlzLm9wdGlvbnNDb3VudCAvIDIpO1xyXG4gICAgdGhpcy5vcHRpb25zSGVpZ2h0ID0gdGhpcy5nZXRPcHRpb25zSGVpZ2h0KCk7XHJcbiAgfVxyXG5cclxuICBzZXREZWZhdWx0UHJvcHMob3B0aW9ucykge1xyXG4gICAgbGV0IGRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgICB2YWx1ZUtleTogJ3ZhbHVlJyxcclxuICAgICAgbGFiZWxLZXk6ICdsYWJlbCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uS2V5OiAnZGVzY3JpcHRpb24nLFxyXG4gICAgICBhbGlhc0tleTogJ2FsaWFzJyxcclxuICAgICAgb3B0aW9uc0NvdW50OiA1LFxyXG4gICAgICBub09mRGlzcGxheVZhbHVlczogNTAsXHJcbiAgICAgIG9wdGlvbkhlaWdodDogJzQwcHgnLFxyXG4gICAgICBtdWx0aXBsZTogZmFsc2UsXHJcbiAgICAgIGhpZGVDbGVhckJ1dHRvbjogZmFsc2UsXHJcbiAgICAgIGF1dG9TZWxlY3RGaXJzdE9wdGlvbjogZmFsc2UsXHJcbiAgICAgIGhhc09wdGlvbkRlc2NyaXB0aW9uOiBmYWxzZSxcclxuICAgICAgc2lsZW50SW5pdGlhbFZhbHVlU2V0OiBmYWxzZSxcclxuICAgICAgZGlzYWJsZVNlbGVjdEFsbDogZmFsc2UsXHJcbiAgICAgIG5vT3B0aW9uc1RleHQ6ICdObyBvcHRpb25zIGZvdW5kJyxcclxuICAgICAgbm9TZWFyY2hSZXN1bHRzVGV4dDogJ05vIHJlc3VsdHMgZm91bmQnLFxyXG4gICAgICBzZWxlY3RBbGxUZXh0OiAnU2VsZWN0IEFsbCcsXHJcbiAgICAgIHBsYWNlaG9sZGVyOiAnU2VsZWN0JyxcclxuICAgICAgcG9zaXRpb246ICdhdXRvJyxcclxuICAgICAgekluZGV4OiAxLFxyXG4gICAgICBhbGxvd05ld09wdGlvbjogZmFsc2UsXHJcbiAgICAgIG1hcmtTZWFyY2hSZXN1bHRzOiBmYWxzZSxcclxuICAgICAgdG9vbHRpcEZvbnRTaXplOiAnMTRweCcsXHJcbiAgICAgIHRvb2x0aXBBbGlnbm1lbnQ6ICdjZW50ZXInLFxyXG4gICAgICB0b29sdGlwTWF4V2lkdGg6ICczMDBweCcsXHJcbiAgICAgIHNob3dTZWxlY3RlZE9wdGlvbnNGaXJzdDogZmFsc2UsXHJcbiAgICAgIG5hbWU6ICcnLFxyXG4gICAgICBhZGRpdGlvbmFsQ2xhc3NlczogJycsXHJcbiAgICAgIGtlZXBBbHdheXNPcGVuOiBmYWxzZSxcclxuICAgICAgbWF4VmFsdWVzOiAwLFxyXG4gICAgICBzaG93RHJvcGJveEFzUG9wdXA6IHRydWUsXHJcbiAgICAgIHBvcHVwRHJvcGJveEJyZWFrcG9pbnQ6ICc1NzZweCcsXHJcbiAgICAgIHNlYXJjaFBsYWNlaG9sZGVyOiAnU2VhcmNoLi4uJyxcclxuICAgIH07XHJcblxyXG4gICAgaWYgKG9wdGlvbnMuaGFzT3B0aW9uRGVzY3JpcHRpb24pIHtcclxuICAgICAgZGVmYXVsdE9wdGlvbnMub3B0aW9uc0NvdW50ID0gNDtcclxuICAgICAgZGVmYXVsdE9wdGlvbnMub3B0aW9uSGVpZ2h0ID0gJzYwcHgnO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIHNldFByb3BzRnJvbUVsZW1lbnRBdHRyKG9wdGlvbnMpIHtcclxuICAgIGxldCAkZWxlID0gb3B0aW9ucy5lbGU7XHJcbiAgICBsZXQgbWFwcGluZyA9IHtcclxuICAgICAgbXVsdGlwbGU6ICdtdWx0aXBsZScsXHJcbiAgICAgIHBsYWNlaG9sZGVyOiAncGxhY2Vob2xkZXInLFxyXG4gICAgICBuYW1lOiAnbmFtZScsXHJcbiAgICAgICdkYXRhLXZhbHVlLWtleSc6ICd2YWx1ZUtleScsXHJcbiAgICAgICdkYXRhLWxhYmVsLWtleSc6ICdsYWJlbEtleScsXHJcbiAgICAgICdkYXRhLWRlc2NyaXB0aW9uLWtleSc6ICdkZXNjcmlwdGlvbktleScsXHJcbiAgICAgICdkYXRhLWFsaWFzLWtleSc6ICdhbGlhc0tleScsXHJcbiAgICAgICdkYXRhLXNlYXJjaCc6ICdzZWFyY2gnLFxyXG4gICAgICAnZGF0YS1oaWRlLWNsZWFyLWJ1dHRvbic6ICdoaWRlQ2xlYXJCdXR0b24nLFxyXG4gICAgICAnZGF0YS1hdXRvLXNlbGVjdC1maXJzdC1vcHRpb24nOiAnYXV0b1NlbGVjdEZpcnN0T3B0aW9uJyxcclxuICAgICAgJ2RhdGEtaGFzLW9wdGlvbi1kZXNjcmlwdGlvbic6ICdoYXNPcHRpb25EZXNjcmlwdGlvbicsXHJcbiAgICAgICdkYXRhLW9wdGlvbnMtY291bnQnOiAnb3B0aW9uc0NvdW50JyxcclxuICAgICAgJ2RhdGEtb3B0aW9uLWhlaWdodCc6ICdvcHRpb25IZWlnaHQnLFxyXG4gICAgICAnZGF0YS1wb3NpdGlvbic6ICdwb3NpdGlvbicsXHJcbiAgICAgICdkYXRhLW5vLW9wdGlvbnMtdGV4dCc6ICdub09wdGlvbnNUZXh0JyxcclxuICAgICAgJ2RhdGEtbm8tc2VhcmNoLXJlc3VsdHMtdGV4dCc6ICdub1NlYXJjaFJlc3VsdHNUZXh0JyxcclxuICAgICAgJ2RhdGEtc2VsZWN0LWFsbC10ZXh0JzogJ3NlbGVjdEFsbFRleHQnLFxyXG4gICAgICAnZGF0YS1zaWxlbnQtaW5pdGlhbC12YWx1ZS1zZXQnOiAnc2lsZW50SW5pdGlhbFZhbHVlU2V0JyxcclxuICAgICAgJ2RhdGEtZHJvcGJveC13aWR0aCc6ICdkcm9wYm94V2lkdGgnLFxyXG4gICAgICAnZGF0YS16LWluZGV4JzogJ3pJbmRleCcsXHJcbiAgICAgICdkYXRhLW5vLW9mLWRpc3BsYXktdmFsdWVzJzogJ25vT2ZEaXNwbGF5VmFsdWVzJyxcclxuICAgICAgJ2RhdGEtYWxsb3ctbmV3LW9wdGlvbic6ICdhbGxvd05ld09wdGlvbicsXHJcbiAgICAgICdkYXRhLW1hcmstc2VhcmNoLXJlc3VsdHMnOiAnbWFya1NlYXJjaFJlc3VsdHMnLFxyXG4gICAgICAnZGF0YS10b29sdGlwLWZvbnQtc2l6ZSc6ICd0b29sdGlwRm9udFNpemUnLFxyXG4gICAgICAnZGF0YS10b29sdGlwLWFsaWdubWVudCc6ICd0b29sdGlwQWxpZ25tZW50JyxcclxuICAgICAgJ2RhdGEtdG9vbHRpcC1tYXgtd2lkdGgnOiAndG9vbHRpcE1heFdpZHRoJyxcclxuICAgICAgJ2RhdGEtc2hvdy1zZWxlY3RlZC1vcHRpb25zLWZpcnN0JzogJ3Nob3dTZWxlY3RlZE9wdGlvbnNGaXJzdCcsXHJcbiAgICAgICdkYXRhLWRpc2FibGUtc2VsZWN0LWFsbCc6ICdkaXNhYmxlU2VsZWN0QWxsJyxcclxuICAgICAgJ2RhdGEta2VlcC1hbHdheXMtb3Blbic6ICdrZWVwQWx3YXlzT3BlbicsXHJcbiAgICAgICdkYXRhLW1heC12YWx1ZXMnOiAnbWF4VmFsdWVzJyxcclxuICAgICAgJ2RhdGEtYWRkaXRpb25hbC1jbGFzc2VzJzogJ2FkZGl0aW9uYWxDbGFzc2VzJyxcclxuICAgICAgJ2RhdGEtc2hvdy1kcm9wYm94LWFzLXBvcHVwJzogJ3Nob3dEcm9wYm94QXNQb3B1cCcsXHJcbiAgICAgICdkYXRhLXBvcHVwLWRyb3Bib3gtYnJlYWtwb2ludCc6ICdwb3B1cERyb3Bib3hCcmVha3BvaW50JyxcclxuICAgIH07XHJcblxyXG4gICAgZm9yIChsZXQgayBpbiBtYXBwaW5nKSB7XHJcbiAgICAgIGxldCB2YWx1ZSA9ICRlbGUuZ2V0QXR0cmlidXRlKGspO1xyXG5cclxuICAgICAgaWYgKGsgPT09ICdtdWx0aXBsZScgJiYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gJ3RydWUnKSkge1xyXG4gICAgICAgIHZhbHVlID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgb3B0aW9uc1ttYXBwaW5nW2tdXSA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRNZXRob2RzKCkge1xyXG4gICAgbGV0ICRlbGUgPSB0aGlzLiRlbGU7XHJcbiAgICAkZWxlLnZpcnR1YWxTZWxlY3QgPSB0aGlzO1xyXG4gICAgJGVsZS52YWx1ZSA9IHRoaXMubXVsdGlwbGUgPyBbXSA6ICcnO1xyXG4gICAgJGVsZS5yZXNldCA9IFZpcnR1YWxTZWxlY3QucmVzZXQ7XHJcbiAgICAkZWxlLnNldFZhbHVlID0gVmlydHVhbFNlbGVjdC5zZXRWYWx1ZU1ldGhvZDtcclxuICAgICRlbGUuc2V0T3B0aW9ucyA9IFZpcnR1YWxTZWxlY3Quc2V0T3B0aW9uc01ldGhvZDtcclxuICAgICRlbGUuc2V0RGlzYWJsZWRPcHRpb25zID0gVmlydHVhbFNlbGVjdC5zZXREaXNhYmxlZE9wdGlvbnNNZXRob2Q7XHJcbiAgICAkZWxlLnRvZ2dsZVNlbGVjdEFsbCA9IFZpcnR1YWxTZWxlY3QudG9nZ2xlU2VsZWN0QWxsO1xyXG4gICAgJGVsZS5pc0FsbFNlbGVjdGVkID0gVmlydHVhbFNlbGVjdC5pc0FsbFNlbGVjdGVkO1xyXG4gICAgJGVsZS5hZGRPcHRpb24gPSBWaXJ0dWFsU2VsZWN0LmFkZE9wdGlvbk1ldGhvZDtcclxuICAgICRlbGUuZ2V0TmV3VmFsdWUgPSBWaXJ0dWFsU2VsZWN0LmdldE5ld1ZhbHVlTWV0aG9kO1xyXG4gICAgJGVsZS5nZXREaXNwbGF5VmFsdWUgPSBWaXJ0dWFsU2VsZWN0LmdldERpc3BsYXlWYWx1ZU1ldGhvZDtcclxuICAgICRlbGUub3BlbiA9IFZpcnR1YWxTZWxlY3Qub3Blbk1ldGhvZDtcclxuICAgICRlbGUuY2xvc2UgPSBWaXJ0dWFsU2VsZWN0LmNsb3NlTWV0aG9kO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVNZXRob2QodmFsdWUsIHNpbGVudENoYW5nZSkge1xyXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICB2YWx1ZSA9IFt2YWx1ZV07XHJcbiAgICB9XHJcblxyXG4gICAgdmFsdWUgPSB2YWx1ZS5tYXAoKHYpID0+IHtcclxuICAgICAgcmV0dXJuIHYgfHwgdiA9PSAwID8gdi50b1N0cmluZygpIDogJyc7XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgdmFsaWRWYWx1ZXMgPSBbXTtcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBsZXQgaXNTZWxlY3RlZCA9IHZhbHVlLmluZGV4T2YoZC52YWx1ZSkgIT09IC0xO1xyXG5cclxuICAgICAgaWYgKGlzU2VsZWN0ZWQgJiYgIWQuaXNEaXNhYmxlZCAmJiAhZC5pc0dyb3VwVGl0bGUpIHtcclxuICAgICAgICBkLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHZhbGlkVmFsdWVzLnB1c2goZC52YWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZC5pc1NlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghdGhpcy5tdWx0aXBsZSkge1xyXG4gICAgICB2YWxpZFZhbHVlcyA9IHZhbGlkVmFsdWVzWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYmVmb3JlVmFsdWVTZXQoKTtcclxuICAgIHRoaXMuc2V0VmFsdWUodmFsaWRWYWx1ZXMsICFzaWxlbnRDaGFuZ2UpO1xyXG4gICAgdGhpcy5hZnRlclZhbHVlU2V0KCk7XHJcbiAgfVxyXG5cclxuICBzZXRPcHRpb25zTWV0aG9kKG9wdGlvbnMsIGtlZXBWYWx1ZSkge1xyXG4gICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgdGhpcy5hZnRlclNldE9wdGlvbnMoa2VlcFZhbHVlKTtcclxuICB9XHJcblxyXG4gIHNldERpc2FibGVkT3B0aW9uc01ldGhvZChkaXNhYmxlZE9wdGlvbnMpIHtcclxuICAgIHRoaXMuc2V0RGlzYWJsZWRPcHRpb25zKGRpc2FibGVkT3B0aW9ucywgdHJ1ZSk7XHJcbiAgICB0aGlzLnNldFZhbHVlTWV0aG9kKG51bGwpO1xyXG4gICAgdGhpcy5zZXRWaXNpYmxlT3B0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgc2V0RGlzYWJsZWRPcHRpb25zKGRpc2FibGVkT3B0aW9ucyA9IFtdLCBzZXRPcHRpb25zUHJvcCA9IGZhbHNlKSB7XHJcbiAgICBkaXNhYmxlZE9wdGlvbnMgPSBkaXNhYmxlZE9wdGlvbnMubWFwKChkKSA9PiBkLnRvU3RyaW5nKCkpO1xyXG4gICAgdGhpcy5kaXNhYmxlZE9wdGlvbnMgPSBkaXNhYmxlZE9wdGlvbnM7XHJcblxyXG4gICAgaWYgKHNldE9wdGlvbnNQcm9wICYmIGRpc2FibGVkT3B0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgICBkLmlzRGlzYWJsZWQgPSBkaXNhYmxlZE9wdGlvbnMuaW5kZXhPZihkLnZhbHVlKSAhPT0gLTE7XHJcblxyXG4gICAgICAgIHJldHVybiBkO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE9wdGlvbnMob3B0aW9ucykge1xyXG4gICAgaWYgKCFvcHRpb25zKSB7XHJcbiAgICAgIG9wdGlvbnMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcHJlcGFyZWRPcHRpb25zID0gW107XHJcbiAgICBsZXQgZGlzYWJsZWRPcHRpb25zID0gdGhpcy5kaXNhYmxlZE9wdGlvbnM7XHJcbiAgICBsZXQgaGFzRGlzYWJsZWRPcHRpb25zID0gZGlzYWJsZWRPcHRpb25zLmxlbmd0aDtcclxuICAgIGxldCB2YWx1ZUtleSA9IHRoaXMudmFsdWVLZXk7XHJcbiAgICBsZXQgbGFiZWxLZXkgPSB0aGlzLmxhYmVsS2V5O1xyXG4gICAgbGV0IGRlc2NyaXB0aW9uS2V5ID0gdGhpcy5kZXNjcmlwdGlvbktleTtcclxuICAgIGxldCBhbGlhc0tleSA9IHRoaXMuYWxpYXNLZXk7XHJcbiAgICBsZXQgaGFzT3B0aW9uRGVzY3JpcHRpb24gPSB0aGlzLmhhc09wdGlvbkRlc2NyaXB0aW9uO1xyXG4gICAgbGV0IGdldFN0cmluZyA9IFV0aWxzLmdldFN0cmluZztcclxuICAgIGxldCBnZXRBbGlhcyA9IHRoaXMuZ2V0QWxpYXM7XHJcbiAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgbGV0IGhhc09wdGlvbkdyb3VwID0gZmFsc2U7XHJcblxyXG4gICAgbGV0IHByZXBhcmVPcHRpb24gPSAoZCkgPT4ge1xyXG4gICAgICBsZXQgdmFsdWUgPSBnZXRTdHJpbmcoZFt2YWx1ZUtleV0pO1xyXG4gICAgICBsZXQgY2hpbGRPcHRpb25zID0gZC5vcHRpb25zO1xyXG4gICAgICBsZXQgaXNHcm91cFRpdGxlID0gY2hpbGRPcHRpb25zID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICBsZXQgb3B0aW9uID0ge1xyXG4gICAgICAgIGluZGV4LFxyXG4gICAgICAgIHZhbHVlLFxyXG4gICAgICAgIGxhYmVsOiBnZXRTdHJpbmcoZFtsYWJlbEtleV0pLFxyXG4gICAgICAgIGFsaWFzOiBnZXRBbGlhcyhkW2FsaWFzS2V5XSksXHJcbiAgICAgICAgaXNWaXNpYmxlOiB0cnVlLFxyXG4gICAgICAgIGlzR3JvdXBUaXRsZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmIChoYXNEaXNhYmxlZE9wdGlvbnMpIHtcclxuICAgICAgICBvcHRpb24uaXNEaXNhYmxlZCA9IGRpc2FibGVkT3B0aW9ucy5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkLmlzR3JvdXBPcHRpb24pIHtcclxuICAgICAgICBvcHRpb24uaXNHcm91cE9wdGlvbiA9IHRydWU7XHJcbiAgICAgICAgb3B0aW9uLmdyb3VwSW5kZXggPSBkLmdyb3VwSW5kZXg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChoYXNPcHRpb25EZXNjcmlwdGlvbikge1xyXG4gICAgICAgIG9wdGlvbi5kZXNjcmlwdGlvbiA9IGdldFN0cmluZyhkW2Rlc2NyaXB0aW9uS2V5XSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHByZXBhcmVkT3B0aW9ucy5wdXNoKG9wdGlvbik7XHJcbiAgICAgIGluZGV4Kys7XHJcblxyXG4gICAgICBpZiAoaXNHcm91cFRpdGxlKSB7XHJcbiAgICAgICAgbGV0IGdyb3VwSW5kZXggPSBvcHRpb24uaW5kZXg7XHJcbiAgICAgICAgaGFzT3B0aW9uR3JvdXAgPSB0cnVlO1xyXG5cclxuICAgICAgICBjaGlsZE9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICAgICAgZC5pc0dyb3VwT3B0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgIGQuZ3JvdXBJbmRleCA9IGdyb3VwSW5kZXg7XHJcblxyXG4gICAgICAgICAgcHJlcGFyZU9wdGlvbihkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBvcHRpb25zLmZvckVhY2gocHJlcGFyZU9wdGlvbik7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zID0gcHJlcGFyZWRPcHRpb25zO1xyXG4gICAgdGhpcy52aXNpYmxlT3B0aW9uc0NvdW50ID0gcHJlcGFyZWRPcHRpb25zLmxlbmd0aDtcclxuICAgIHRoaXMubGFzdE9wdGlvbkluZGV4ID0gdGhpcy5vcHRpb25zLmxlbmd0aCAtIDE7XHJcbiAgICB0aGlzLm5ld1ZhbHVlcyA9IFtdO1xyXG4gICAgdGhpcy5oYXNPcHRpb25Hcm91cCA9IGhhc09wdGlvbkdyb3VwO1xyXG4gICAgdGhpcy5zZXRTb3J0ZWRPcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICBzZXRTZXJ2ZXJPcHRpb25zKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuc2V0T3B0aW9uc01ldGhvZChvcHRpb25zLCB0cnVlKTtcclxuICAgIERvbVV0aWxzLnJlbW92ZUNsYXNzKHRoaXMuJHdyYXBwZXIsICdzZXJ2ZXItc2VhcmNoaW5nJyk7XHJcbiAgfVxyXG5cclxuICBzZXRTb3J0ZWRPcHRpb25zKCkge1xyXG4gICAgbGV0IHNvcnRlZE9wdGlvbnMgPSBbLi4udGhpcy5vcHRpb25zXTtcclxuXHJcbiAgICBpZiAodGhpcy5zaG93U2VsZWN0ZWRPcHRpb25zRmlyc3QgJiYgdGhpcy5zZWxlY3RlZFZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgaWYgKHRoaXMuaGFzT3B0aW9uR3JvdXApIHtcclxuICAgICAgICBzb3J0ZWRPcHRpb25zID0gdGhpcy5zb3J0T3B0aW9uc0dyb3VwKHNvcnRlZE9wdGlvbnMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNvcnRlZE9wdGlvbnMgPSB0aGlzLnNvcnRPcHRpb25zKHNvcnRlZE9wdGlvbnMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zb3J0ZWRPcHRpb25zID0gc29ydGVkT3B0aW9ucztcclxuICB9XHJcblxyXG4gIHNldFZpc2libGVPcHRpb25zKCkge1xyXG4gICAgbGV0IHZpc2libGVPcHRpb25zID0gWy4uLnRoaXMuc29ydGVkT3B0aW9uc107XHJcbiAgICBsZXQgbWF4T3B0aW9uc1RvU2hvdyA9IHRoaXMub3B0aW9uc0NvdW50ICogMjtcclxuICAgIGxldCBzdGFydEluZGV4ID0gdGhpcy5nZXRWaXNpYmxlU3RhcnRJbmRleCgpO1xyXG4gICAgbGV0IG5ld09wdGlvbiA9IHRoaXMuZ2V0TmV3T3B0aW9uKCk7XHJcbiAgICBsZXQgZW5kSW5kZXggPSBzdGFydEluZGV4ICsgbWF4T3B0aW9uc1RvU2hvdyAtIDE7XHJcbiAgICBsZXQgaSA9IDA7XHJcblxyXG4gICAgaWYgKG5ld09wdGlvbikge1xyXG4gICAgICBuZXdPcHRpb24udmlzaWJsZUluZGV4ID0gaTtcclxuICAgICAgaSsrO1xyXG4gICAgfVxyXG5cclxuICAgIHZpc2libGVPcHRpb25zID0gdmlzaWJsZU9wdGlvbnMuZmlsdGVyKChkKSA9PiB7XHJcbiAgICAgIGxldCBpblZpZXcgPSBmYWxzZTtcclxuXHJcbiAgICAgIGlmIChkLmlzVmlzaWJsZSAmJiAhZC5pc0N1cnJlbnROZXcpIHtcclxuICAgICAgICBpblZpZXcgPSBpID49IHN0YXJ0SW5kZXggJiYgaSA8PSBlbmRJbmRleDtcclxuICAgICAgICBkLnZpc2libGVJbmRleCA9IGk7XHJcbiAgICAgICAgaSsrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gaW5WaWV3O1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKG5ld09wdGlvbikge1xyXG4gICAgICB2aXNpYmxlT3B0aW9ucyA9IFtuZXdPcHRpb24sIC4uLnZpc2libGVPcHRpb25zXTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnZpc2libGVPcHRpb25zID0gdmlzaWJsZU9wdGlvbnM7XHJcbiAgICB0aGlzLnJlbmRlck9wdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIHNldE9wdGlvbnNQb3NpdGlvbihzdGFydEluZGV4KSB7XHJcbiAgICBpZiAoc3RhcnRJbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHN0YXJ0SW5kZXggPSB0aGlzLmdldFZpc2libGVTdGFydEluZGV4KCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHRvcCA9IHN0YXJ0SW5kZXggKiB0aGlzLm9wdGlvbkhlaWdodDtcclxuICAgIHRoaXMuJG9wdGlvbnMuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDAsICR7dG9wfXB4LCAwKWA7XHJcbiAgICBEb21VdGlscy5zZXREYXRhKHRoaXMuJG9wdGlvbnMsICd0b3AnLCB0b3ApO1xyXG4gIH1cclxuXHJcbiAgc2V0T3B0aW9uc1Rvb2x0aXAoKSB7XHJcbiAgICBsZXQgdmlzaWJsZU9wdGlvbnMgPSB0aGlzLmdldFZpc2libGVPcHRpb25zKCk7XHJcbiAgICBsZXQgaGFzT3B0aW9uRGVzY3JpcHRpb24gPSB0aGlzLmhhc09wdGlvbkRlc2NyaXB0aW9uO1xyXG5cclxuICAgIHZpc2libGVPcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgbGV0ICRvcHRpb25FbGUgPSB0aGlzLiRkcm9wYm94Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgYC52c2NvbXAtb3B0aW9uW2RhdGEtaW5kZXg9XCIke2QuaW5kZXh9XCJdYFxyXG4gICAgICApO1xyXG5cclxuICAgICAgRG9tVXRpbHMuc2V0RGF0YShcclxuICAgICAgICAkb3B0aW9uRWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtb3B0aW9uLXRleHQnKSxcclxuICAgICAgICAndG9vbHRpcCcsXHJcbiAgICAgICAgZC5sYWJlbFxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKGhhc09wdGlvbkRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgRG9tVXRpbHMuc2V0RGF0YShcclxuICAgICAgICAgICRvcHRpb25FbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1vcHRpb24tZGVzY3JpcHRpb24nKSxcclxuICAgICAgICAgICd0b29sdGlwJyxcclxuICAgICAgICAgIGQuZGVzY3JpcHRpb25cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldFZhbHVlKHZhbHVlLCB0cmlnZ2VyRXZlbnQpIHtcclxuICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZFZhbHVlcyA9IFtdO1xyXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gWy4uLnZhbHVlXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBbdmFsdWVdO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBuZXdWYWx1ZSA9IHRoaXMubXVsdGlwbGVcclxuICAgICAgPyB0aGlzLnNlbGVjdGVkVmFsdWVzXHJcbiAgICAgIDogdGhpcy5zZWxlY3RlZFZhbHVlc1swXSB8fCAnJztcclxuICAgIHRoaXMuJGVsZS52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgdGhpcy4kaGlkZGVuSW5wdXQudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgIHRoaXMuaXNNYXhWYWx1ZXNTZWxlY3RlZCA9XHJcbiAgICAgIHRoaXMubWF4VmFsdWVzICYmIHRoaXMubWF4VmFsdWVzIDw9IHRoaXMuc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoXHJcbiAgICAgICAgPyB0cnVlXHJcbiAgICAgICAgOiBmYWxzZTtcclxuICAgIHRoaXMuc2V0VmFsdWVUZXh0KCk7XHJcbiAgICBEb21VdGlscy50b2dnbGVDbGFzcyhcclxuICAgICAgdGhpcy4kd3JhcHBlcixcclxuICAgICAgJ2hhcy12YWx1ZScsXHJcbiAgICAgIFV0aWxzLmlzTm90RW1wdHkodGhpcy5zZWxlY3RlZFZhbHVlcylcclxuICAgICk7XHJcbiAgICBEb21VdGlscy50b2dnbGVDbGFzcyhcclxuICAgICAgdGhpcy4kd3JhcHBlcixcclxuICAgICAgJ21heC12YWx1ZS1zZWxlY3RlZCcsXHJcbiAgICAgIHRoaXMuaXNNYXhWYWx1ZXNTZWxlY3RlZFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodHJpZ2dlckV2ZW50KSB7XHJcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLiRlbGUsICdjaGFuZ2UnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldFZhbHVlVGV4dCgpIHtcclxuICAgIGxldCB2YWx1ZVRleHQgPSBbXTtcclxuICAgIGxldCB2YWx1ZVRvb2x0aXAgPSBbXTtcclxuICAgIGxldCBzZWxlY3RlZFZhbHVlcyA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXM7XHJcbiAgICBsZXQgc2VsZWN0ZWRMZW5ndGggPSBzZWxlY3RlZFZhbHVlcy5sZW5ndGg7XHJcbiAgICBsZXQgbm9PZkRpc3BsYXlWYWx1ZXMgPSB0aGlzLm5vT2ZEaXNwbGF5VmFsdWVzO1xyXG4gICAgbGV0IG1heGltdW1WYWx1ZXNUb1Nob3cgPSA1MDtcclxuICAgIGxldCBzZWxlY3RlZFZhbHVlc0NvdW50ID0gMDtcclxuXHJcbiAgICBpZiAodGhpcy5pc0FsbFNlbGVjdGVkKSB7XHJcbiAgICAgIHRoaXMuJHZhbHVlVGV4dC5pbm5lckhUTUwgPSBgQWxsICgke3NlbGVjdGVkTGVuZ3RofSlgO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yIChsZXQgZCBvZiB0aGlzLm9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoZC5pc0N1cnJlbnROZXcpIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWVzQ291bnQgPiBtYXhpbXVtVmFsdWVzVG9TaG93KSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZSA9IGQudmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RlZFZhbHVlcy5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcclxuICAgICAgICAgIGxldCBsYWJlbCA9IGQubGFiZWw7XHJcbiAgICAgICAgICB2YWx1ZVRleHQucHVzaChsYWJlbCk7XHJcbiAgICAgICAgICBzZWxlY3RlZFZhbHVlc0NvdW50Kys7XHJcblxyXG4gICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWVzQ291bnQgPD0gbm9PZkRpc3BsYXlWYWx1ZXMpIHtcclxuICAgICAgICAgICAgdmFsdWVUb29sdGlwLnB1c2goYDxzcGFuIGNsYXNzPVwidnNjb21wLXZhbHVlLXRhZ1wiPiR7bGFiZWx9PC9zcGFuPmApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IG1vcmVTZWxlY3RlZE9wdGlvbnMgPSBzZWxlY3RlZExlbmd0aCAtIG5vT2ZEaXNwbGF5VmFsdWVzO1xyXG5cclxuICAgICAgaWYgKG1vcmVTZWxlY3RlZE9wdGlvbnMgPiAwKSB7XHJcbiAgICAgICAgdmFsdWVUb29sdGlwLnB1c2goXHJcbiAgICAgICAgICBgPHNwYW4gY2xhc3M9XCJ2c2NvbXAtdmFsdWUtdGFnIG1vcmUtdmFsdWUtY291bnRcIj4rICR7bW9yZVNlbGVjdGVkT3B0aW9uc30gbW9yZS4uLjwvc3Bhbj5gXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgYWdncmVnYXRlZFZhbHVlVGV4dCA9IHZhbHVlVGV4dC5qb2luKCcsICcpO1xyXG5cclxuICAgICAgaWYgKGFnZ3JlZ2F0ZWRWYWx1ZVRleHQgPT09ICcnKSB7XHJcbiAgICAgICAgdGhpcy4kdmFsdWVUZXh0LmlubmVySFRNTCA9IHRoaXMucGxhY2Vob2xkZXI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy4kdmFsdWVUZXh0LmlubmVySFRNTCA9IGFnZ3JlZ2F0ZWRWYWx1ZVRleHQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgICAgICBsZXQgbWF4VmFsdWVzID0gdGhpcy5tYXhWYWx1ZXM7XHJcblxyXG4gICAgICAgICAgaWYgKERvbVV0aWxzLmhhc0VsbGlwc2lzKHRoaXMuJHZhbHVlVGV4dCkgfHwgbWF4VmFsdWVzKSB7XHJcbiAgICAgICAgICAgIGxldCBjb3VudFRleHQgPSBgJHtzZWxlY3RlZExlbmd0aH1gO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1heFZhbHVlcykge1xyXG4gICAgICAgICAgICAgIGNvdW50VGV4dCArPSBgIC8gJHttYXhWYWx1ZXN9YDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqIHJlcGxhY2UgY29tbWEgZGVsaW1pdHRlZCBsaXN0IG9mIHNlbGVjdGlvbnMgd2l0aCBzaG9ydGVyIHRleHQgaW5kaWNhdGluZyBzZWxlY3Rpb24gY291bnQgKi9cclxuICAgICAgICAgICAgdGhpcy4kdmFsdWVUZXh0LmlubmVySFRNTCA9IGAke2NvdW50VGV4dH0gb3B0aW9uJHtcclxuICAgICAgICAgICAgICBzZWxlY3RlZExlbmd0aCA9PT0gMSA/ICcnIDogJ3MnXHJcbiAgICAgICAgICAgIH0gc2VsZWN0ZWRgO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLyoqIHJlbW92aW5nIHRvb2x0aXAgaWYgZnVsbCB2YWx1ZSB0ZXh0IGlzIHZpc2libGUgKi9cclxuICAgICAgICAgICAgdmFsdWVUb29sdGlwID0gW107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgRG9tVXRpbHMuc2V0RGF0YSh0aGlzLiR2YWx1ZVRleHQsICd0b29sdGlwJywgdmFsdWVUb29sdGlwLmpvaW4oJywgJykpO1xyXG4gIH1cclxuXHJcbiAgc2V0U2VhcmNoVmFsdWUodmFsdWUsIHNraXBJbnB1dFNldCkge1xyXG4gICAgaWYgKHZhbHVlID09PSB0aGlzLnNlYXJjaFZhbHVlT3JpZ2luYWwpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghc2tpcElucHV0U2V0KSB7XHJcbiAgICAgIHRoaXMuJHNlYXJjaElucHV0LnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNlYXJjaFZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCk7XHJcbiAgICB0aGlzLnNlYXJjaFZhbHVlID0gc2VhcmNoVmFsdWU7XHJcbiAgICB0aGlzLnNlYXJjaFZhbHVlT3JpZ2luYWwgPSB2YWx1ZTtcclxuXHJcbiAgICBEb21VdGlscy50b2dnbGVDbGFzcyh0aGlzLiR3cmFwcGVyLCAnaGFzLXNlYXJjaC12YWx1ZScsIHZhbHVlKTtcclxuXHJcbiAgICBpZiAodGhpcy5oYXNTZXJ2ZXJTZWFyY2gpIHtcclxuICAgICAgdGhpcy5zZXJ2ZXJTZWFyY2goc2VhcmNoVmFsdWUpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHZpc2libGVPcHRpb25zQ291bnQgPSAwO1xyXG4gICAgbGV0IGhhc0V4YWN0T3B0aW9uID0gZmFsc2U7XHJcbiAgICBsZXQgdmlzaWJsZU9wdGlvbkdyb3Vwc01hcHBpbmc7XHJcbiAgICBsZXQgaXNPcHRpb25WaXNpYmxlID0gdGhpcy5pc09wdGlvblZpc2libGU7XHJcblxyXG4gICAgaWYgKHRoaXMuaGFzT3B0aW9uR3JvdXApIHtcclxuICAgICAgdmlzaWJsZU9wdGlvbkdyb3Vwc01hcHBpbmcgPSB0aGlzLmdldFZpc2libGVPcHRpb25Hcm91cHNNYXBwaW5nKFxyXG4gICAgICAgIHNlYXJjaFZhbHVlXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgaWYgKGQuaXNDdXJyZW50TmV3KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgcmVzdWx0ID0gaXNPcHRpb25WaXNpYmxlKFxyXG4gICAgICAgIGQsXHJcbiAgICAgICAgc2VhcmNoVmFsdWUsXHJcbiAgICAgICAgaGFzRXhhY3RPcHRpb24sXHJcbiAgICAgICAgdmlzaWJsZU9wdGlvbkdyb3Vwc01hcHBpbmdcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChyZXN1bHQuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgdmlzaWJsZU9wdGlvbnNDb3VudCsrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWhhc0V4YWN0T3B0aW9uKSB7XHJcbiAgICAgICAgaGFzRXhhY3RPcHRpb24gPSByZXN1bHQuaGFzRXhhY3RPcHRpb247XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmICh0aGlzLmFsbG93TmV3T3B0aW9uKSB7XHJcbiAgICAgIGlmIChzZWFyY2hWYWx1ZSAmJiAhaGFzRXhhY3RPcHRpb24pIHtcclxuICAgICAgICB0aGlzLnNldE5ld09wdGlvbigpO1xyXG4gICAgICAgIHZpc2libGVPcHRpb25zQ291bnQrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnJlbW92ZU5ld09wdGlvbigpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy52aXNpYmxlT3B0aW9uc0NvdW50ID0gdmlzaWJsZU9wdGlvbnNDb3VudDtcclxuXHJcbiAgICB0aGlzLnNjcm9sbFRvVG9wKCk7XHJcbiAgICB0aGlzLnNldE9wdGlvbnNIZWlnaHQoKTtcclxuICAgIHRoaXMuc2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIHNldE9wdGlvblByb3AoaW5kZXgsIGtleSwgdmFsdWUpIHtcclxuICAgIGlmICghdGhpcy5vcHRpb25zW2luZGV4XSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vcHRpb25zW2luZGV4XVtrZXldID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBzZXRPcHRpb25zSGVpZ2h0KCkge1xyXG4gICAgdGhpcy4kb3B0aW9uc0xpc3Quc3R5bGUuaGVpZ2h0ID1cclxuICAgICAgdGhpcy5vcHRpb25IZWlnaHQgKiB0aGlzLnZpc2libGVPcHRpb25zQ291bnQgKyAncHgnO1xyXG4gIH1cclxuXHJcbiAgc2V0T3B0aW9uc0NvbnRhaW5lckhlaWdodChyZXNldCkge1xyXG4gICAgbGV0IG9wdGlvbnNIZWlnaHQ7XHJcblxyXG4gICAgaWYgKHJlc2V0KSB7XHJcbiAgICAgIGlmICh0aGlzLnNob3dBc1BvcHVwKSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zQ291bnQgPSB0aGlzLmdldE9wdGlvbnNDb3VudCgpO1xyXG4gICAgICAgIG9wdGlvbnNIZWlnaHQgPSB0aGlzLmdldE9wdGlvbnNIZWlnaHQoKTtcclxuICAgICAgICB0aGlzLm9wdGlvbnNIZWlnaHQgPSBvcHRpb25zSGVpZ2h0O1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvcHRpb25zSGVpZ2h0ID0gdGhpcy5vcHRpb25zSGVpZ2h0O1xyXG5cclxuICAgICAgaWYgKHRoaXMua2VlcEFsd2F5c09wZW4pIHtcclxuICAgICAgICBEb21VdGlscy5zZXRTdHlsZSh0aGlzLiRub09wdGlvbnMsICdoZWlnaHQnLCBvcHRpb25zSGVpZ2h0KTtcclxuICAgICAgICBEb21VdGlscy5zZXRTdHlsZSh0aGlzLiRub1NlYXJjaFJlc3VsdHMsICdoZWlnaHQnLCBvcHRpb25zSGVpZ2h0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIERvbVV0aWxzLnNldFN0eWxlKHRoaXMuJG9wdGlvbnNDb250YWluZXIsICdtYXgtaGVpZ2h0Jywgb3B0aW9uc0hlaWdodCk7XHJcblxyXG4gICAgdGhpcy5hZnRlclNldE9wdGlvbnNDb250YWluZXJIZWlnaHQocmVzZXQpO1xyXG4gIH1cclxuXHJcbiAgc2V0RHJvcGJveFBvc2l0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMucG9zaXRpb24gIT09ICdhdXRvJykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG1vcmVWaXNpYmxlU2lkZXMgPSBEb21VdGlscy5nZXRNb3JlVmlzaWJsZVNpZGVzKHRoaXMuJHdyYXBwZXIpO1xyXG4gICAgbGV0IHNob3dPbkxlZnQgPSBmYWxzZTtcclxuXHJcbiAgICAvKiogY2hlY2sgdGhhdCBpcyBkcm9wYm94IGhpZGRlbiBvbiByaWdodCBlZGdlIC0gb25seSBpZiBjdXN0b20gd2lkdGggZ2l2ZW4gKi9cclxuICAgIGlmICh0aGlzLmRyb3Bib3hXaWR0aCkge1xyXG4gICAgICBsZXQgYnV0dG9uQ29vcmRzID0gdGhpcy4kdG9nZ2xlQnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBsZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICBsZXQgZHJvcGJveFdpZHRoID0gcGFyc2VGbG9hdCh0aGlzLmRyb3Bib3hXaWR0aCk7XHJcbiAgICAgIGxldCBoaWRkZW5PblJpZ2h0ID0gYnV0dG9uQ29vcmRzLmxlZnQgKyBkcm9wYm94V2lkdGggPiB2aWV3cG9ydFdpZHRoO1xyXG4gICAgICBsZXQgaGlkZGVuT25MZWZ0ID0gZHJvcGJveFdpZHRoID4gYnV0dG9uQ29vcmRzLnJpZ2h0O1xyXG5cclxuICAgICAgaWYgKGhpZGRlbk9uUmlnaHQgJiYgIWhpZGRlbk9uTGVmdCkge1xyXG4gICAgICAgIHNob3dPbkxlZnQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgRG9tVXRpbHMudG9nZ2xlQ2xhc3MoXHJcbiAgICAgIHRoaXMuJHdyYXBwZXIsXHJcbiAgICAgICdwb3NpdGlvbi10b3AnLFxyXG4gICAgICBtb3JlVmlzaWJsZVNpZGVzLnZlcnRpY2FsID09PSAndG9wJ1xyXG4gICAgKTtcclxuICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKHRoaXMuJHdyYXBwZXIsICdwb3NpdGlvbi1sZWZ0Jywgc2hvd09uTGVmdCk7XHJcbiAgfVxyXG5cclxuICBzZXROZXdPcHRpb24oKSB7XHJcbiAgICBsZXQgdmFsdWUgPSB0aGlzLnNlYXJjaFZhbHVlT3JpZ2luYWwudHJpbSgpO1xyXG5cclxuICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBuZXdPcHRpb24gPSB0aGlzLmdldE5ld09wdGlvbigpO1xyXG5cclxuICAgIGlmIChuZXdPcHRpb24pIHtcclxuICAgICAgbGV0IG5ld0luZGV4ID0gbmV3T3B0aW9uLmluZGV4O1xyXG5cclxuICAgICAgdGhpcy5zZXRPcHRpb25Qcm9wKG5ld0luZGV4LCAndmFsdWUnLCB2YWx1ZSk7XHJcbiAgICAgIHRoaXMuc2V0T3B0aW9uUHJvcChuZXdJbmRleCwgJ2xhYmVsJywgdmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgbGFiZWw6IHZhbHVlLFxyXG4gICAgICAgIGlzQ3VycmVudE5ldzogdHJ1ZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuYWRkT3B0aW9uKGRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0U2VsZWN0ZWRQcm9wKCkge1xyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gdGhpcy5zZWxlY3RlZFZhbHVlcztcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZXMuaW5kZXhPZihkLnZhbHVlKSAhPT0gLTEpIHtcclxuICAgICAgICBkLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLyoqIHNldCBtZXRob2RzIC0gZW5kICovXHJcblxyXG4gIC8qKiBnZXQgbWV0aG9kcyAtIHN0YXJ0ICovXHJcbiAgZ2V0VmlzaWJsZU9wdGlvbnMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52aXNpYmxlT3B0aW9ucyB8fCBbXTtcclxuICB9XHJcblxyXG4gIGdldFZhbHVlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubXVsdGlwbGUgPyB0aGlzLnNlbGVjdGVkVmFsdWVzIDogdGhpcy5zZWxlY3RlZFZhbHVlc1swXTtcclxuICB9XHJcblxyXG4gIGdldEZpcnN0VmlzaWJsZU9wdGlvbkluZGV4KCkge1xyXG4gICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLiRvcHRpb25zQ29udGFpbmVyLnNjcm9sbFRvcCAvIHRoaXMub3B0aW9uSGVpZ2h0KTtcclxuICB9XHJcblxyXG4gIGdldFZpc2libGVTdGFydEluZGV4KCkge1xyXG4gICAgbGV0IGZpcnN0VmlzaWJsZU9wdGlvbkluZGV4ID0gdGhpcy5nZXRGaXJzdFZpc2libGVPcHRpb25JbmRleCgpO1xyXG4gICAgbGV0IHN0YXJ0SW5kZXggPSBmaXJzdFZpc2libGVPcHRpb25JbmRleCAtIHRoaXMuaGFsZk9wdGlvbnNDb3VudDtcclxuXHJcbiAgICBpZiAoc3RhcnRJbmRleCA8IDApIHtcclxuICAgICAgc3RhcnRJbmRleCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0YXJ0SW5kZXg7XHJcbiAgfVxyXG5cclxuICBnZXRUb29sdGlwQXR0clRleHQodGV4dCwgZWxsaXBzaXNPbmx5ID0gZmFsc2UsIGFsbG93SHRtbCA9IGZhbHNlKSB7XHJcbiAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgJ2RhdGEtdG9vbHRpcCc6IHRleHQgfHwgJycsXHJcbiAgICAgICdkYXRhLXRvb2x0aXAtZW50ZXItZGVsYXknOiB0aGlzLnRvb2x0aXBFbnRlckRlbGF5LFxyXG4gICAgICAnZGF0YS10b29sdGlwLXotaW5kZXgnOiB0aGlzLnpJbmRleCxcclxuICAgICAgJ2RhdGEtdG9vbHRpcC1mb250LXNpemUnOiB0aGlzLnRvb2x0aXBGb250U2l6ZSxcclxuICAgICAgJ2RhdGEtdG9vbHRpcC1hbGlnbm1lbnQnOiB0aGlzLnRvb2x0aXBBbGlnbm1lbnQsXHJcbiAgICAgICdkYXRhLXRvb2x0aXAtbWF4LXdpZHRoJzogdGhpcy50b29sdGlwTWF4V2lkdGgsXHJcbiAgICAgICdkYXRhLXRvb2x0aXAtZWxsaXBzaXMtb25seSc6IGVsbGlwc2lzT25seSxcclxuICAgICAgJ2RhdGEtdG9vbHRpcC1hbGxvdy1odG1sJzogYWxsb3dIdG1sLFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gRG9tVXRpbHMuZ2V0QXR0cmlidXRlc1RleHQoZGF0YSk7XHJcbiAgfVxyXG5cclxuICBnZXRPcHRpb25PYmooZGF0YSkge1xyXG4gICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZ2V0U3RyaW5nID0gVXRpbHMuZ2V0U3RyaW5nO1xyXG4gICAgbGV0IG5ld09wdGlvbiA9IHtcclxuICAgICAgaW5kZXg6IGRhdGEuaW5kZXgsXHJcbiAgICAgIHZhbHVlOiBnZXRTdHJpbmcoZGF0YS52YWx1ZSksXHJcbiAgICAgIGxhYmVsOiBnZXRTdHJpbmcoZGF0YS5sYWJlbCksXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBnZXRTdHJpbmcoZGF0YS5kZXNjcmlwdGlvbiksXHJcbiAgICAgIGFsaWFzOiB0aGlzLmdldEFsaWFzKGRhdGEuYWxpYXMpLFxyXG4gICAgICBpc0N1cnJlbnROZXc6IGRhdGEuaXNDdXJyZW50TmV3IHx8IGZhbHNlLFxyXG4gICAgICBpc1Zpc2libGU6IHRydWUsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBuZXdPcHRpb247XHJcbiAgfVxyXG5cclxuICBnZXROZXdPcHRpb24oKSB7XHJcbiAgICBsZXQgbGFzdE9wdGlvbiA9IHRoaXMub3B0aW9uc1t0aGlzLmxhc3RPcHRpb25JbmRleF07XHJcblxyXG4gICAgaWYgKCFsYXN0T3B0aW9uIHx8ICFsYXN0T3B0aW9uLmlzQ3VycmVudE5ldykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxhc3RPcHRpb247XHJcbiAgfVxyXG5cclxuICBnZXRPcHRpb25JbmRleCh2YWx1ZSkge1xyXG4gICAgbGV0IGluZGV4O1xyXG5cclxuICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICB0aGlzLm9wdGlvbnMuc29tZSgoZCkgPT4ge1xyXG4gICAgICAgIGlmIChkLnZhbHVlID09IHZhbHVlKSB7XHJcbiAgICAgICAgICBpbmRleCA9IGQuaW5kZXg7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaW5kZXg7XHJcbiAgfVxyXG5cclxuICBnZXROZXdWYWx1ZSgpIHtcclxuICAgIGxldCBuZXdWYWx1ZXMgPSB0aGlzLm5ld1ZhbHVlcztcclxuICAgIGxldCByZXN1bHQgPSB0aGlzLnNlbGVjdGVkVmFsdWVzLmZpbHRlcigoZCkgPT4gbmV3VmFsdWVzLmluZGV4T2YoZCkgIT09IC0xKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5tdWx0aXBsZSA/IHJlc3VsdCA6IHJlc3VsdFswXTtcclxuICB9XHJcblxyXG4gIGdldEFsaWFzKGFsaWFzKSB7XHJcbiAgICBpZiAoYWxpYXMpIHtcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYWxpYXMpKSB7XHJcbiAgICAgICAgYWxpYXMgPSBhbGlhcy5qb2luKCcsJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxpYXMgPSBhbGlhcy50b1N0cmluZygpLnRyaW0oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWxpYXMgPSBhbGlhcy50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWxpYXMgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYWxpYXM7XHJcbiAgfVxyXG5cclxuICBnZXREaXNwbGF5VmFsdWUoKSB7XHJcbiAgICBsZXQgZGlzcGxheVZhbHVlcyA9IFtdO1xyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gdGhpcy5zZWxlY3RlZFZhbHVlcztcclxuXHJcbiAgICBmb3IgKGxldCBkIG9mIHRoaXMub3B0aW9ucykge1xyXG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZXMuaW5kZXhPZihkLnZhbHVlKSAhPT0gLTEpIHtcclxuICAgICAgICBkaXNwbGF5VmFsdWVzLnB1c2goZC5sYWJlbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5tdWx0aXBsZSA/IGRpc3BsYXlWYWx1ZXMgOiBkaXNwbGF5VmFsdWVzWzBdIHx8ICcnO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmlzaWJsZU9wdGlvbkdyb3Vwc01hcHBpbmcoc2VhcmNoVmFsdWUpIHtcclxuICAgIGxldCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xyXG4gICAgbGV0IHJlc3VsdCA9IHt9O1xyXG4gICAgbGV0IGlzT3B0aW9uVmlzaWJsZSA9IHRoaXMuaXNPcHRpb25WaXNpYmxlO1xyXG4gICAgb3B0aW9ucyA9IHRoaXMuc3RydWN0dXJlT3B0aW9uR3JvdXAob3B0aW9ucyk7XHJcblxyXG4gICAgb3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIHJlc3VsdFtkLmluZGV4XSA9IGQub3B0aW9ucy5zb21lKFxyXG4gICAgICAgIChlKSA9PiBpc09wdGlvblZpc2libGUoZSwgc2VhcmNoVmFsdWUpLmlzVmlzaWJsZVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIGdldE9wdGlvbnNDb3VudChjb3VudCkge1xyXG4gICAgaWYgKHRoaXMuc2hvd0FzUG9wdXApIHtcclxuICAgICAgbGV0IGF2YWlsYWJsZUhlaWdodCA9XHJcbiAgICAgICAgKHdpbmRvdy5pbm5lckhlaWdodCAqIDgwKSAvIDEwMCAtIGRyb3Bib3hDbG9zZUJ1dHRvbkZ1bGxIZWlnaHQ7XHJcblxyXG4gICAgICBpZiAodGhpcy5oYXNTZWFyY2hDb250YWluZXIpIHtcclxuICAgICAgICBhdmFpbGFibGVIZWlnaHQgLT0gc2VhcmNoSGVpZ2h0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb3VudCA9IE1hdGguZmxvb3IoYXZhaWxhYmxlSGVpZ2h0IC8gdGhpcy5vcHRpb25IZWlnaHQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY291bnQgPSBwYXJzZUludChjb3VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvdW50O1xyXG4gIH1cclxuXHJcbiAgZ2V0T3B0aW9uc0hlaWdodCgpIHtcclxuICAgIHJldHVybiB0aGlzLm9wdGlvbnNDb3VudCAqIHRoaXMub3B0aW9uSGVpZ2h0ICsgJ3B4JztcclxuICB9XHJcblxyXG4gIGdldFNpYmxpbmcoJGVsZSwgZGlyZWN0aW9uKSB7XHJcbiAgICBsZXQgcHJvcE5hbWUgPVxyXG4gICAgICBkaXJlY3Rpb24gPT09ICduZXh0JyA/ICduZXh0RWxlbWVudFNpYmxpbmcnIDogJ3ByZXZpb3VzRWxlbWVudFNpYmxpbmcnO1xyXG5cclxuICAgIGRvIHtcclxuICAgICAgaWYgKCRlbGUpIHtcclxuICAgICAgICAkZWxlID0gJGVsZVtwcm9wTmFtZV07XHJcbiAgICAgIH1cclxuICAgIH0gd2hpbGUgKFxyXG4gICAgICBEb21VdGlscy5oYXNDbGFzcygkZWxlLCAnZGlzYWJsZWQnKSB8fFxyXG4gICAgICBEb21VdGlscy5oYXNDbGFzcygkZWxlLCAnZ3JvdXAtdGl0bGUnKVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gJGVsZTtcclxuICB9XHJcbiAgLyoqIGdldCBtZXRob2RzIC0gZW5kICovXHJcblxyXG4gIG9wZW5Ecm9wYm94KGlzU2lsZW50KSB7XHJcbiAgICB0aGlzLnNldERyb3Bib3hQb3NpdGlvbigpO1xyXG4gICAgRG9tVXRpbHMucmVtb3ZlQ2xhc3ModGhpcy4kd3JhcHBlciwgJ2Nsb3NlZCcpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBEb21VdGlscy5hZGRDbGFzcyh0aGlzLiR3cmFwcGVyLCAnb3BlbmVkJyk7XHJcblxyXG4gICAgICBpZiAoIWlzU2lsZW50KSB7XHJcbiAgICAgICAgdGhpcy5tb3ZlU2VsZWN0ZWRPcHRpb25zRmlyc3QoKTtcclxuICAgICAgICBEb21VdGlscy5hZGRDbGFzcyh0aGlzLiR3cmFwcGVyLCAnZm9jdXNlZCcpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zaG93QXNQb3B1cCkge1xyXG4gICAgICAgICAgRG9tVXRpbHMuYWRkQ2xhc3ModGhpcy4kYm9keSwgJ3ZzY29tcC1wb3B1cC1hY3RpdmUnKTtcclxuICAgICAgICAgIHRoaXMuaXNQb3B1cEFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZm9jdXNTZWFyY2hJbnB1dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgMCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZURyb3Bib3goaXNTaWxlbnQpIHtcclxuICAgIGlmICh0aGlzLmtlZXBBbHdheXNPcGVuKSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlT3B0aW9uRm9jdXMoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB0cmFuc2l0aW9uRHVyYXRpb24gPSBpc1NpbGVudCA/IDAgOiB0aGlzLnRyYW5zaXRpb25EdXJhdGlvbjtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgRG9tVXRpbHMucmVtb3ZlQ2xhc3ModGhpcy4kd3JhcHBlciwgJ29wZW5lZCBmb2N1c2VkJyk7XHJcbiAgICAgIHRoaXMucmVtb3ZlT3B0aW9uRm9jdXMoKTtcclxuXHJcbiAgICAgIGlmICghaXNTaWxlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BvcHVwQWN0aXZlKSB7XHJcbiAgICAgICAgICBEb21VdGlscy5yZW1vdmVDbGFzcyh0aGlzLiRib2R5LCAndnNjb21wLXBvcHVwLWFjdGl2ZScpO1xyXG4gICAgICAgICAgdGhpcy5pc1BvcHVwQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCAwKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgRG9tVXRpbHMuYWRkQ2xhc3ModGhpcy4kd3JhcHBlciwgJ2Nsb3NlZCcpO1xyXG4gICAgfSwgdHJhbnNpdGlvbkR1cmF0aW9uKTtcclxuICB9XHJcblxyXG4gIG1vdmVTZWxlY3RlZE9wdGlvbnNGaXJzdCgpIHtcclxuICAgIGlmICghdGhpcy5zaG93U2VsZWN0ZWRPcHRpb25zRmlyc3QpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U29ydGVkT3B0aW9ucygpO1xyXG5cclxuICAgIGlmICghdGhpcy4kb3B0aW9uc0NvbnRhaW5lci5zY3JvbGxUb3AgfHwgIXRoaXMuc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuc2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2Nyb2xsVG9Ub3AoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZURyb3Bib3goKSB7XHJcbiAgICBpZiAodGhpcy5pc09wZW5lZCgpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VEcm9wYm94KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm9wZW5Ecm9wYm94KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpc09wZW5lZCgpIHtcclxuICAgIHJldHVybiBEb21VdGlscy5oYXNDbGFzcyh0aGlzLiR3cmFwcGVyLCAnb3BlbmVkJyk7XHJcbiAgfVxyXG5cclxuICBmb2N1c1NlYXJjaElucHV0KCkge1xyXG4gICAgbGV0ICRlbGUgPSB0aGlzLiRzZWFyY2hJbnB1dDtcclxuXHJcbiAgICBpZiAoJGVsZSkge1xyXG4gICAgICAkZWxlLmZvY3VzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmb2N1c09wdGlvbihkaXJlY3Rpb24sIGVsZSkge1xyXG4gICAgbGV0ICRmb2N1c2VkRWxlID0gdGhpcy4kZHJvcGJveENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLnZzY29tcC1vcHRpb24uZm9jdXNlZCdcclxuICAgICk7XHJcbiAgICBsZXQgJG5ld0ZvY3VzZWRFbGU7XHJcblxyXG4gICAgaWYgKGVsZSkge1xyXG4gICAgICAkbmV3Rm9jdXNlZEVsZSA9IGVsZTtcclxuICAgIH0gZWxzZSBpZiAoISRmb2N1c2VkRWxlKSB7XHJcbiAgICAgIC8qIGlmIG5vIGVsZW1lbnQgb24gZm9jdXMgY2hvb3NlIGZpcnN0IHZpc2libGUgb25lICovXHJcbiAgICAgIGxldCBmaXJzdFZpc2libGVPcHRpb25JbmRleCA9IHRoaXMuZ2V0Rmlyc3RWaXNpYmxlT3B0aW9uSW5kZXgoKTtcclxuICAgICAgJG5ld0ZvY3VzZWRFbGUgPSB0aGlzLiRkcm9wYm94Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgYC52c2NvbXAtb3B0aW9uW2RhdGEtdmlzaWJsZS1pbmRleD1cIiR7Zmlyc3RWaXNpYmxlT3B0aW9uSW5kZXh9XCJdYFxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIERvbVV0aWxzLmhhc0NsYXNzKCRuZXdGb2N1c2VkRWxlLCAnZGlzYWJsZWQnKSB8fFxyXG4gICAgICAgIERvbVV0aWxzLmhhc0NsYXNzKCRuZXdGb2N1c2VkRWxlLCAnZ3JvdXAtdGl0bGUnKVxyXG4gICAgICApIHtcclxuICAgICAgICAkbmV3Rm9jdXNlZEVsZSA9IHRoaXMuZ2V0U2libGluZygkbmV3Rm9jdXNlZEVsZSwgJ25leHQnKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJG5ld0ZvY3VzZWRFbGUgPSB0aGlzLmdldFNpYmxpbmcoJGZvY3VzZWRFbGUsIGRpcmVjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCRuZXdGb2N1c2VkRWxlICYmICRuZXdGb2N1c2VkRWxlICE9PSAkZm9jdXNlZEVsZSkge1xyXG4gICAgICBpZiAoJGZvY3VzZWRFbGUpIHtcclxuICAgICAgICBEb21VdGlscy5yZW1vdmVDbGFzcygkZm9jdXNlZEVsZSwgJ2ZvY3VzZWQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgRG9tVXRpbHMuYWRkQ2xhc3MoJG5ld0ZvY3VzZWRFbGUsICdmb2N1c2VkJyk7XHJcbiAgICAgIHRoaXMudG9nZ2xlRm9jdXNlZFByb3AoRG9tVXRpbHMuZ2V0RGF0YSgkbmV3Rm9jdXNlZEVsZSwgJ2luZGV4JyksIHRydWUpO1xyXG4gICAgICB0aGlzLm1vdmVGb2N1c2VkT3B0aW9uVG9WaWV3KCRuZXdGb2N1c2VkRWxlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1vdmVGb2N1c2VkT3B0aW9uVG9WaWV3KCRmb2N1c2VkRWxlKSB7XHJcbiAgICBpZiAoISRmb2N1c2VkRWxlKSB7XHJcbiAgICAgICRmb2N1c2VkRWxlID0gdGhpcy4kZHJvcGJveENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICcudnNjb21wLW9wdGlvbi5mb2N1c2VkJ1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghJGZvY3VzZWRFbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBuZXdTY3JvbGxUb3A7XHJcbiAgICBsZXQgY29udGFpbmVyUmVjdCA9IHRoaXMuJG9wdGlvbnNDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBsZXQgb3B0aW9uUmVjdCA9ICRmb2N1c2VkRWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgbGV0IGNvbnRhaW5lclRvcCA9IGNvbnRhaW5lclJlY3QudG9wO1xyXG4gICAgbGV0IGNvbnRhaW5lckJvdHRvbSA9IGNvbnRhaW5lclJlY3QuYm90dG9tO1xyXG4gICAgbGV0IGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lclJlY3QuaGVpZ2h0O1xyXG4gICAgbGV0IG9wdGlvblRvcCA9IG9wdGlvblJlY3QudG9wO1xyXG4gICAgbGV0IG9wdGlvbkJvdHRvbSA9IG9wdGlvblJlY3QuYm90dG9tO1xyXG4gICAgbGV0IG9wdGlvbkhlaWdodCA9IG9wdGlvblJlY3QuaGVpZ2h0O1xyXG4gICAgbGV0IG9wdGlvbk9mZnNldFRvcCA9ICRmb2N1c2VkRWxlLm9mZnNldFRvcDtcclxuICAgIGxldCBvcHRpb25zVG9wID0gRG9tVXRpbHMuZ2V0RGF0YSh0aGlzLiRvcHRpb25zLCAndG9wJywgJ251bWJlcicpO1xyXG5cclxuICAgIC8qIGlmIG9wdGlvbiBoaWRkZW4gb24gdG9wICovXHJcbiAgICBpZiAoY29udGFpbmVyVG9wID4gb3B0aW9uVG9wKSB7XHJcbiAgICAgIG5ld1Njcm9sbFRvcCA9IG9wdGlvbk9mZnNldFRvcCArIG9wdGlvbnNUb3A7XHJcbiAgICB9IGVsc2UgaWYgKGNvbnRhaW5lckJvdHRvbSA8IG9wdGlvbkJvdHRvbSkge1xyXG4gICAgICAvKiBpZiBvcHRpb24gaGlkZGVuIG9uIGJvdHRvbSAqL1xyXG4gICAgICBuZXdTY3JvbGxUb3AgPVxyXG4gICAgICAgIG9wdGlvbk9mZnNldFRvcCAtIGNvbnRhaW5lckhlaWdodCArIG9wdGlvbkhlaWdodCArIG9wdGlvbnNUb3A7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5ld1Njcm9sbFRvcCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuJG9wdGlvbnNDb250YWluZXIuc2Nyb2xsVG9wID0gbmV3U2Nyb2xsVG9wO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlT3B0aW9uRm9jdXMoKSB7XHJcbiAgICBsZXQgJGZvY3VzZWRFbGUgPSB0aGlzLiRkcm9wYm94Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICcudnNjb21wLW9wdGlvbi5mb2N1c2VkJ1xyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoISRmb2N1c2VkRWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBEb21VdGlscy5yZW1vdmVDbGFzcygkZm9jdXNlZEVsZSwgJ2ZvY3VzZWQnKTtcclxuICAgIHRoaXMudG9nZ2xlRm9jdXNlZFByb3AobnVsbCk7XHJcbiAgfVxyXG5cclxuICBzZWxlY3RPcHRpb24oJGVsZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXNBZGRpbmcgPSAhRG9tVXRpbHMuaGFzQ2xhc3MoJGVsZSwgJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgaWYgKGlzQWRkaW5nKSB7XHJcbiAgICAgIGlmICh0aGlzLm11bHRpcGxlICYmIHRoaXMuaXNNYXhWYWx1ZXNTZWxlY3RlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLyoqIG9uIHNlbGVjdGluZyBzYW1lIHZhbHVlIGluIHNpbmdsZSBzZWxlY3QgKi9cclxuICAgICAgaWYgKCF0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZURyb3Bib3goKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2VsZWN0ZWRWYWx1ZXMgPSB0aGlzLnNlbGVjdGVkVmFsdWVzO1xyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWUgPSBEb21VdGlscy5nZXREYXRhKCRlbGUsICd2YWx1ZScpO1xyXG4gICAgbGV0IHNlbGVjdGVkSW5kZXggPSBEb21VdGlscy5nZXREYXRhKCRlbGUsICdpbmRleCcpO1xyXG5cclxuICAgIHRoaXMudG9nZ2xlU2VsZWN0ZWRQcm9wKHNlbGVjdGVkSW5kZXgsIGlzQWRkaW5nKTtcclxuXHJcbiAgICBpZiAoaXNBZGRpbmcpIHtcclxuICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHtcclxuICAgICAgICBzZWxlY3RlZFZhbHVlcy5wdXNoKHNlbGVjdGVkVmFsdWUpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQWxsT3B0aW9uc0NsYXNzKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy50b2dnbGVTZWxlY3RlZFByb3AoXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0T3B0aW9uSW5kZXgoc2VsZWN0ZWRWYWx1ZXNbMF0pLFxyXG4gICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGVjdGVkVmFsdWVzID0gW3NlbGVjdGVkVmFsdWVdO1xyXG4gICAgICAgIGxldCAkcHJldlNlbGVjdGVkT3B0aW9uID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAnLnZzY29tcC1vcHRpb24uc2VsZWN0ZWQnXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKCRwcmV2U2VsZWN0ZWRPcHRpb24pIHtcclxuICAgICAgICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKCRwcmV2U2VsZWN0ZWRPcHRpb24sICdzZWxlY3RlZCcsIGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2xvc2VEcm9wYm94KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKCRlbGUsICdzZWxlY3RlZCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHtcclxuICAgICAgICBEb21VdGlscy50b2dnbGVDbGFzcygkZWxlLCAnc2VsZWN0ZWQnKTtcclxuICAgICAgICBVdGlscy5yZW1vdmVJdGVtRnJvbUFycmF5KHNlbGVjdGVkVmFsdWVzLCBzZWxlY3RlZFZhbHVlKTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUFsbE9wdGlvbnNDbGFzcyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoRG9tVXRpbHMuaGFzQ2xhc3MoJGVsZSwgJ2N1cnJlbnQtbmV3JykpIHtcclxuICAgICAgdGhpcy5iZWZvcmVTZWxlY3ROZXdWYWx1ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0VmFsdWUoc2VsZWN0ZWRWYWx1ZXMsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0Rm9jdXNlZE9wdGlvbigpIHtcclxuICAgIHRoaXMuc2VsZWN0T3B0aW9uKFxyXG4gICAgICB0aGlzLiRkcm9wYm94Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtb3B0aW9uLmZvY3VzZWQnKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUFsbE9wdGlvbnMoaXNTZWxlY3RlZCkge1xyXG4gICAgaWYgKCF0aGlzLm11bHRpcGxlIHx8IHRoaXMuZGlzYWJsZVNlbGVjdEFsbCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBpc1NlbGVjdGVkICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgaXNTZWxlY3RlZCA9ICFEb21VdGlscy5oYXNDbGFzcyh0aGlzLiR0b2dnbGVBbGxDaGVja2JveCwgJ2NoZWNrZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBpZiAoZC5pc0Rpc2FibGVkIHx8IGQuaXNDdXJyZW50TmV3IHx8IGQuaXNHcm91cFRpdGxlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkLmlzU2VsZWN0ZWQgPSBpc1NlbGVjdGVkO1xyXG5cclxuICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcclxuICAgICAgICBzZWxlY3RlZFZhbHVlcy5wdXNoKGQudmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnRvZ2dsZUFsbE9wdGlvbnNDbGFzcyhpc1NlbGVjdGVkKTtcclxuICAgIHRoaXMuc2V0VmFsdWUoc2VsZWN0ZWRWYWx1ZXMsIHRydWUpO1xyXG4gICAgdGhpcy5yZW5kZXJPcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVBbGxPcHRpb25zQ2xhc3MoaXNBbGxTZWxlY3RlZCkge1xyXG4gICAgaWYgKHR5cGVvZiBpc0FsbFNlbGVjdGVkICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgaXNBbGxTZWxlY3RlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICBpc0FsbFNlbGVjdGVkID0gIXRoaXMub3B0aW9ucy5zb21lKChkKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gIWQuaXNTZWxlY3RlZCAmJiAhZC5pc0Rpc2FibGVkICYmICFkLmlzR3JvdXBUaXRsZTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIERvbVV0aWxzLnRvZ2dsZUNsYXNzKHRoaXMuJHRvZ2dsZUFsbENoZWNrYm94LCAnY2hlY2tlZCcsIGlzQWxsU2VsZWN0ZWQpO1xyXG4gICAgdGhpcy5pc0FsbFNlbGVjdGVkID0gaXNBbGxTZWxlY3RlZDtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUZvY3VzZWRQcm9wKGluZGV4LCBpc0ZvY3VzZWQgPSBmYWxzZSkge1xyXG4gICAgaWYgKHRoaXMuZm9jdXNlZE9wdGlvbkluZGV4KSB7XHJcbiAgICAgIHRoaXMuc2V0T3B0aW9uUHJvcCh0aGlzLmZvY3VzZWRPcHRpb25JbmRleCwgJ2lzRm9jdXNlZCcsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldE9wdGlvblByb3AoaW5kZXgsICdpc0ZvY3VzZWQnLCBpc0ZvY3VzZWQpO1xyXG4gICAgdGhpcy5mb2N1c2VkT3B0aW9uSW5kZXggPSBpbmRleDtcclxuICB9XHJcblxyXG4gIHRvZ2dsZVNlbGVjdGVkUHJvcChpbmRleCwgaXNTZWxlY3RlZCA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLnNldE9wdGlvblByb3AoaW5kZXgsICdpc1NlbGVjdGVkJywgaXNTZWxlY3RlZCk7XHJcbiAgfVxyXG5cclxuICBzY3JvbGxUb1RvcCgpIHtcclxuICAgIGxldCBpc0Nsb3NlZCA9ICF0aGlzLmlzT3BlbmVkKCk7XHJcblxyXG4gICAgaWYgKGlzQ2xvc2VkKSB7XHJcbiAgICAgIHRoaXMub3BlbkRyb3Bib3godHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNjcm9sbFRvcCA9IHRoaXMuJG9wdGlvbnNDb250YWluZXIuc2Nyb2xsVG9wO1xyXG5cclxuICAgIGlmIChzY3JvbGxUb3AgPiAwKSB7XHJcbiAgICAgIHRoaXMuJG9wdGlvbnNDb250YWluZXIuc2Nyb2xsVG9wID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNDbG9zZWQpIHtcclxuICAgICAgdGhpcy5jbG9zZURyb3Bib3godHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMub3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIGQuaXNTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5iZWZvcmVWYWx1ZVNldCh0cnVlKTtcclxuICAgIHRoaXMuc2V0VmFsdWUobnVsbCwgdHJ1ZSk7XHJcbiAgICB0aGlzLmFmdGVyVmFsdWVTZXQoKTtcclxuICB9XHJcblxyXG4gIGJlZm9yZVZhbHVlU2V0KGlzUmVzZXQpIHtcclxuICAgIHRoaXMudG9nZ2xlQWxsT3B0aW9uc0NsYXNzKGlzUmVzZXQgPyBmYWxzZSA6IHVuZGVmaW5lZCk7XHJcbiAgfVxyXG5cclxuICBhZnRlclZhbHVlU2V0KCkge1xyXG4gICAgdGhpcy5zY3JvbGxUb1RvcCgpO1xyXG4gICAgdGhpcy5zZXRTZWFyY2hWYWx1ZSgnJyk7XHJcbiAgICB0aGlzLnJlbmRlck9wdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIGFmdGVyU2V0T3B0aW9ucyhrZWVwVmFsdWUpIHtcclxuICAgIGlmIChrZWVwVmFsdWUpIHtcclxuICAgICAgdGhpcy5zZXRTZWxlY3RlZFByb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldE9wdGlvbnNIZWlnaHQoKTtcclxuICAgIHRoaXMuc2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuXHJcbiAgICBpZiAoIWtlZXBWYWx1ZSkge1xyXG4gICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhZGRPcHRpb24oZGF0YSwgcmVyZW5kZXIpIHtcclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5sYXN0T3B0aW9uSW5kZXgrKztcclxuICAgIGRhdGEuaW5kZXggPSB0aGlzLmxhc3RPcHRpb25JbmRleDtcclxuICAgIGxldCBuZXdPcHRpb24gPSB0aGlzLmdldE9wdGlvbk9iaihkYXRhKTtcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMucHVzaChuZXdPcHRpb24pO1xyXG4gICAgdGhpcy5zb3J0ZWRPcHRpb25zLnB1c2gobmV3T3B0aW9uKTtcclxuXHJcbiAgICBpZiAocmVyZW5kZXIpIHtcclxuICAgICAgdGhpcy52aXNpYmxlT3B0aW9uc0NvdW50Kys7XHJcbiAgICAgIHRoaXMuYWZ0ZXJTZXRPcHRpb25zKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW1vdmVPcHRpb24oaW5kZXgpIHtcclxuICAgIGlmICghaW5kZXggJiYgaW5kZXggIT0gMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB0aGlzLmxhc3RPcHRpb25JbmRleC0tO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTmV3T3B0aW9uKCkge1xyXG4gICAgbGV0IG5ld09wdGlvbiA9IHRoaXMuZ2V0TmV3T3B0aW9uKCk7XHJcblxyXG4gICAgaWYgKG5ld09wdGlvbikge1xyXG4gICAgICB0aGlzLnJlbW92ZU9wdGlvbihuZXdPcHRpb24uaW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYmVmb3JlU2VsZWN0TmV3VmFsdWUoKSB7XHJcbiAgICBsZXQgbmV3T3B0aW9uID0gdGhpcy5nZXROZXdPcHRpb24oKTtcclxuICAgIGxldCBuZXdJbmRleCA9IG5ld09wdGlvbi5pbmRleDtcclxuXHJcbiAgICB0aGlzLm5ld1ZhbHVlcy5wdXNoKG5ld09wdGlvbi52YWx1ZSk7XHJcbiAgICB0aGlzLnNldE9wdGlvblByb3AobmV3SW5kZXgsICdpc0N1cnJlbnROZXcnLCBmYWxzZSk7XHJcbiAgICB0aGlzLnNldE9wdGlvblByb3AobmV3SW5kZXgsICdpc05ldycsIHRydWUpO1xyXG5cclxuICAgIC8qKiB1c2luZyBzZXRUaW1lb3V0IHRvIGZpeCB0aGUgaXNzdWUgb2YgZHJvcGJveCBnZXR0aW5nIGNsb3NlZCBvbiBzZWxlY3QgKi9cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLnNldFNlYXJjaFZhbHVlKCcnKTtcclxuICAgICAgdGhpcy5mb2N1c1NlYXJjaElucHV0KCk7XHJcbiAgICB9LCAwKTtcclxuICB9XHJcblxyXG4gIHNvcnRPcHRpb25zKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBvcHRpb25zLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgaWYgKCFhLmlzU2VsZWN0ZWQgJiYgIWIuaXNTZWxlY3RlZCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgICB9IGVsc2UgaWYgKGEuaXNTZWxlY3RlZCAmJiAoIWIuaXNTZWxlY3RlZCB8fCBhLmluZGV4IDwgYi5pbmRleCkpIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc29ydE9wdGlvbnNHcm91cChvcHRpb25zKSB7XHJcbiAgICBsZXQgc29ydE9wdGlvbnMgPSB0aGlzLnNvcnRPcHRpb25zO1xyXG4gICAgb3B0aW9ucyA9IHRoaXMuc3RydWN0dXJlT3B0aW9uR3JvdXAob3B0aW9ucyk7XHJcblxyXG4gICAgb3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIGxldCBjaGlsZE9wdGlvbnMgPSBkLm9wdGlvbnM7XHJcbiAgICAgIGQuaXNTZWxlY3RlZCA9IGNoaWxkT3B0aW9ucy5zb21lKChlKSA9PiBlLmlzU2VsZWN0ZWQpO1xyXG5cclxuICAgICAgaWYgKGQuaXNTZWxlY3RlZCkge1xyXG4gICAgICAgIHNvcnRPcHRpb25zKGNoaWxkT3B0aW9ucyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHNvcnRPcHRpb25zKG9wdGlvbnMpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmRlc3RydWN0dXJlT3B0aW9uR3JvdXAob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBpc09wdGlvblZpc2libGUoZCwgc2VhcmNoVmFsdWUsIGhhc0V4YWN0T3B0aW9uLCB2aXNpYmxlT3B0aW9uR3JvdXBzTWFwcGluZykge1xyXG4gICAgbGV0IHZhbHVlID0gZC5sYWJlbC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgbGV0IGRlc2NyaXB0aW9uID0gZC5kZXNjcmlwdGlvbjtcclxuICAgIGxldCBhbGlhcyA9IGQuYWxpYXM7XHJcbiAgICBsZXQgaXNWaXNpYmxlID0gdmFsdWUuaW5kZXhPZihzZWFyY2hWYWx1ZSkgIT09IC0xO1xyXG5cclxuICAgIGlmIChkLmlzR3JvdXBUaXRsZSkge1xyXG4gICAgICBpc1Zpc2libGUgPSB2aXNpYmxlT3B0aW9uR3JvdXBzTWFwcGluZ1tkLmluZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWxpYXMgJiYgIWlzVmlzaWJsZSkge1xyXG4gICAgICBpc1Zpc2libGUgPSBhbGlhcy5pbmRleE9mKHNlYXJjaFZhbHVlKSAhPT0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlc2NyaXB0aW9uICYmICFpc1Zpc2libGUpIHtcclxuICAgICAgaXNWaXNpYmxlID0gZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaFZhbHVlKSAhPT0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgZC5pc1Zpc2libGUgPSBpc1Zpc2libGU7XHJcblxyXG4gICAgaWYgKCFoYXNFeGFjdE9wdGlvbikge1xyXG4gICAgICBoYXNFeGFjdE9wdGlvbiA9IHZhbHVlID09PSBzZWFyY2hWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc1Zpc2libGUsXHJcbiAgICAgIGhhc0V4YWN0T3B0aW9uLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0cnVjdHVyZU9wdGlvbkdyb3VwKG9wdGlvbnMpIHtcclxuICAgIGxldCByZXN1bHQgPSBbXTtcclxuICAgIGxldCBjaGlsZE9wdGlvbnMgPSB7fTtcclxuXHJcbiAgICAvKiogZ2V0dGluZyBhbGwgZ3JvdXAgdGl0bGUgKi9cclxuICAgIG9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBpZiAoZC5pc0dyb3VwVGl0bGUpIHtcclxuICAgICAgICBsZXQgY2hpbGRBcnJheSA9IFtdO1xyXG4gICAgICAgIGQub3B0aW9ucyA9IGNoaWxkQXJyYXk7XHJcbiAgICAgICAgY2hpbGRPcHRpb25zW2QuaW5kZXhdID0gY2hpbGRBcnJheTtcclxuXHJcbiAgICAgICAgcmVzdWx0LnB1c2goZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKiBnZXR0aW5nIGFsbCBncm91cCBvcHRpb25zICovXHJcbiAgICBvcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgaWYgKGQuaXNHcm91cE9wdGlvbikge1xyXG4gICAgICAgIGNoaWxkT3B0aW9uc1tkLmdyb3VwSW5kZXhdLnB1c2goZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBkZXN0cnVjdHVyZU9wdGlvbkdyb3VwKG9wdGlvbnMpIHtcclxuICAgIGxldCByZXN1bHQgPSBbXTtcclxuXHJcbiAgICBvcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgcmVzdWx0LnB1c2goZCk7XHJcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoZC5vcHRpb25zKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBzZXJ2ZXJTZWFyY2goc2VhcmNoVmFsdWUpIHtcclxuICAgIERvbVV0aWxzLnJlbW92ZUNsYXNzKHRoaXMuJHdyYXBwZXIsICdoYXMtbm8tb3B0aW9ucycpO1xyXG4gICAgRG9tVXRpbHMuYWRkQ2xhc3ModGhpcy4kd3JhcHBlciwgJ3NlcnZlci1zZWFyY2hpbmcnKTtcclxuICAgIHRoaXMub25TZXJ2ZXJTZWFyY2goc2VhcmNoVmFsdWUsIHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgLyoqIHN0YXRpYyBtZXRob2RzIC0gc3RhcnQgKi9cclxuICBzdGF0aWMgaW5pdChvcHRpb25zKSB7XHJcbiAgICBsZXQgJGVsZUFycmF5ID0gb3B0aW9ucy5lbGU7XHJcblxyXG4gICAgaWYgKCEkZWxlQXJyYXkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzaW5nbGVFbGUgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAodHlwZW9mICRlbGVBcnJheSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgJGVsZUFycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigkZWxlQXJyYXkpO1xyXG5cclxuICAgICAgaWYgKCEkZWxlQXJyYXkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoJGVsZUFycmF5Lmxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICRlbGVBcnJheSA9IFskZWxlQXJyYXldO1xyXG4gICAgICBzaW5nbGVFbGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBpbnN0YW5jZXMgPSBbXTtcclxuICAgICRlbGVBcnJheS5mb3JFYWNoKCgkZWxlKSA9PiB7XHJcbiAgICAgIG9wdGlvbnMuZWxlID0gJGVsZTtcclxuICAgICAgaW5zdGFuY2VzLnB1c2gobmV3IFZpcnR1YWxTZWxlY3Qob3B0aW9ucykpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHNpbmdsZUVsZSA/IGluc3RhbmNlc1swXSA6IGluc3RhbmNlcztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjbG9zZUFsbERyb3Bib3goJGVsZVRvS2VlcE9wZW4pIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52c2NvbXAtd3JhcHBlcicpLmZvckVhY2goKCRlbGUpID0+IHtcclxuICAgICAgaWYgKCRlbGVUb0tlZXBPcGVuICYmICRlbGVUb0tlZXBPcGVuID09PSAkZWxlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkZWxlLnBhcmVudEVsZW1lbnQudmlydHVhbFNlbGVjdC5jbG9zZURyb3Bib3goKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJlc2V0Rm9ybShlKSB7XHJcbiAgICBsZXQgJGZvcm0gPSBlLnRhcmdldC5jbG9zZXN0KCdmb3JtJyk7XHJcblxyXG4gICAgaWYgKCEkZm9ybSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgJGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnZzY29tcC13cmFwcGVyJykuZm9yRWFjaCgoJGVsZSkgPT4ge1xyXG4gICAgICAkZWxlLnBhcmVudEVsZW1lbnQudmlydHVhbFNlbGVjdC5yZXNldCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgcmVzZXQoKSB7XHJcbiAgICB0aGlzLnZpcnR1YWxTZWxlY3QucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzZXRWYWx1ZU1ldGhvZCh2YWx1ZSwgc2lsZW50Q2hhbmdlKSB7XHJcbiAgICB0aGlzLnZpcnR1YWxTZWxlY3Quc2V0VmFsdWVNZXRob2QodmFsdWUsIHNpbGVudENoYW5nZSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2V0T3B0aW9uc01ldGhvZChvcHRpb25zKSB7XHJcbiAgICB0aGlzLnZpcnR1YWxTZWxlY3Quc2V0T3B0aW9uc01ldGhvZChvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzZXREaXNhYmxlZE9wdGlvbnNNZXRob2Qob3B0aW9ucykge1xyXG4gICAgdGhpcy52aXJ0dWFsU2VsZWN0LnNldERpc2FibGVkT3B0aW9uc01ldGhvZChvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyB0b2dnbGVTZWxlY3RBbGwoaXNTZWxlY3RlZCkge1xyXG4gICAgdGhpcy52aXJ0dWFsU2VsZWN0LnRvZ2dsZUFsbE9wdGlvbnMoaXNTZWxlY3RlZCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaXNBbGxTZWxlY3RlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLnZpcnR1YWxTZWxlY3QuaXNBbGxTZWxlY3RlZDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhZGRPcHRpb25NZXRob2QoZGF0YSkge1xyXG4gICAgdGhpcy52aXJ0dWFsU2VsZWN0LmFkZE9wdGlvbihkYXRhLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXROZXdWYWx1ZU1ldGhvZCgpIHtcclxuICAgIHJldHVybiB0aGlzLnZpcnR1YWxTZWxlY3QuZ2V0TmV3VmFsdWUoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyB2ZXJzaW9uKCkge1xyXG4gICAgcmV0dXJuIHZpcnR1YWxTZWxlY3RWZXJzaW9uO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldERpc3BsYXlWYWx1ZU1ldGhvZCgpIHtcclxuICAgIHJldHVybiB0aGlzLnZpcnR1YWxTZWxlY3QuZ2V0RGlzcGxheVZhbHVlKCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgb3Blbk1ldGhvZCgpIHtcclxuICAgIHJldHVybiB0aGlzLnZpcnR1YWxTZWxlY3Qub3BlbkRyb3Bib3goKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjbG9zZU1ldGhvZCgpIHtcclxuICAgIHJldHVybiB0aGlzLnZpcnR1YWxTZWxlY3QuY2xvc2VEcm9wYm94KCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgb25SZXNpemVNZXRob2QoKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnNjb21wLXdyYXBwZXInKS5mb3JFYWNoKCgkZWxlKSA9PiB7XHJcbiAgICAgICRlbGUucGFyZW50RWxlbWVudC52aXJ0dWFsU2VsZWN0Lm9uUmVzaXplKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLyoqIHN0YXRpYyBtZXRob2RzIC0gZW5kICovXHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0JywgVmlydHVhbFNlbGVjdC5yZXNldEZvcm0pO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgVmlydHVhbFNlbGVjdC5vblJlc2l6ZU1ldGhvZCk7XHJcblxyXG53aW5kb3cuVmlydHVhbFNlbGVjdCA9IFZpcnR1YWxTZWxlY3Q7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=